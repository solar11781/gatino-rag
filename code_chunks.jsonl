{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Program.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 15, "language": "cs", "text": "        public static IWebHostBuilder CreateWebHostBuilder(string[] args) =>\n                    WebHost.CreateDefaultBuilder(args)\n                    .UseUrls(\"http://*:4001\") //Localhost dev: Angular will run on 4200 and BackEnd will run on 4001)\n                    .UseContentRoot(Directory.GetCurrentDirectory())\n                    .UseIISIntegration()\n                        .UseStartup<Startup>();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Program.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 16, "end_line": 20, "language": "cs", "text": "\n        public static void Main(string[] args)\n        {\n            CreateWebHostBuilder(args).Build().Run();\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Startup.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 29, "end_line": 32, "language": "cs", "text": "        public Startup(IConfiguration configuration)\n        {\n            Configuration = configuration;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Startup.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 36, "end_line": 60, "language": "cs", "text": "\n        // This method gets called by the runtime. Use this method to add services to the container.\n        public void ConfigureServices(IServiceCollection services)\n        {\n            #region Config of Context, Cors and DependencyInjection\n            //inject on this class the configuration coming from my .json\n            //services.AddSingleton<IWebHostEnvironment>(Environment);\n            var appSettingsSection = Configuration.GetSection(\"AppSettings\");\n            services.Configure<AppSettings>(appSettingsSection);\n\n            var appSettings = appSettingsSection.Get<AppSettings>();\n            var key = Encoding.ASCII.GetBytes(appSettings.TokenSecret); //I will get a Key of my TokenSecret            \n\n            services.AddScoped<AppFullStackDemoContext, AppFullStackDemoContext>();\n            services.AddDbContext<AppFullStackDemoContext>(options =>\n            options.UseNpgsql(Configuration.GetConnectionString(\"ServerLocalConnection\")));\n\n            services.AddTransient<IUow, Uow>();\n            services.AddTransient<IDeviceModelRepository, DeviceModelRepository>();\n            services.AddTransient<IEquipmentRepository, EquipmentRepository>();\n            services.AddTransient<IManufacturerRepository, ManufacturerRepository>();\n            services.AddTransient<IUserRepository, UserRepository>();\n            services.AddTransient<IUserClaimRepository, UserClaimRepository>();\n            services.AddTransient<IClaimRepository, ClaimRepository>();\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Startup.cs", "chunk_id": 1, "subchunk_id": 1, "start_line": 59, "end_line": 61, "language": "cs", "text": "            services.AddTransient<IClaimRepository, ClaimRepository>();\n\n            services.AddTransient<DeviceModelHandler, DeviceModelHandler>();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Startup.cs", "chunk_id": 1, "subchunk_id": 2, "start_line": 60, "end_line": 61, "language": "cs", "text": "\n            services.AddTransient<DeviceModelHandler, DeviceModelHandler>();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Startup.cs", "chunk_id": 1, "subchunk_id": 3, "start_line": 61, "end_line": 61, "language": "cs", "text": "            services.AddTransient<DeviceModelHandler, DeviceModelHandler>();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Startup.cs", "chunk_id": 1, "subchunk_id": 4, "start_line": 60, "end_line": 95, "language": "cs", "text": "\n            services.AddTransient<DeviceModelHandler, DeviceModelHandler>();\n            services.AddTransient<EquipmentHandler, EquipmentHandler>();\n            services.AddTransient<ManufacturerHandler, ManufacturerHandler>();\n            services.AddTransient<UserHandler, UserHandler>();\n            services.AddTransient<DashBoardHandler, DashBoardHandler>();\n\n            #endregion Config of Cors DependencyInjection\n\n            #region Config of EF Context / ConnectionString and Json Options\n            services.AddCors(options =>\n                options.AddPolicy(\"AppFullStackDemoCors\",\n                    builder =>\n                    {\n                        builder.AllowAnyOrigin().AllowAnyMethod().AllowAnyHeader();\n                    }\n                )\n            );\n\n\n            services\n                .AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_3_0)\n                .AddNewtonsoftJson(options =>\n                {\n                    options.SerializerSettings.ContractResolver = new DefaultContractResolver();\n                    options.SerializerSettings.ReferenceLoopHandling = ReferenceLoopHandling.Ignore;\n                });\n\n\n            #endregion Config of EF Context / ConnectionString / Postgres and Json Options \n\n            #region Config of JWT\n            //Jwt Authentication\n            //first of all i get the config in .Json and Cast to my Class AppSettings\n            services.AddAuthentication(x =>\n            {"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Startup.cs", "chunk_id": 1, "subchunk_id": 5, "start_line": 94, "end_line": 111, "language": "cs", "text": "            services.AddAuthentication(x =>\n            {\n                x.DefaultAuthenticateScheme = JwtBearerDefaults.AuthenticationScheme;\n                x.DefaultChallengeScheme = JwtBearerDefaults.AuthenticationScheme;\n            }).AddJwtBearer(x =>\n            {\n                x.RequireHttpsMetadata = false; //if i set it to true, it will allow only https (secure)\n                x.SaveToken = true;\n                x.TokenValidationParameters = new TokenValidationParameters\n                {\n                    ValidateIssuerSigningKey = true, //will validate my \"Emiter\" (needs to be the name of my system)\n                    IssuerSigningKey = new SymmetricSecurityKey(key), //my key (needs to keep it very very safe)\n                    ValidateIssuer = true, //will validate the name of my system backend (check in Settings.Emiter)\n                    ValidateAudience = true, //will check my URL (that's specific in Settings.ValidIn - default there is http://localhost)\n                    ValidIssuer = appSettings.Emiter,\n                    ValidAudience = appSettings.ValidIn, //Note: I can use ValidIssuers and ValidAudiences (with S) and pass a IEnumerable, setting various systems, like AngularApp, MobileApp... just configure and use\n                    ClockSkew = TimeSpan.Zero,\n                    ValidateLifetime = true //With this Two flags I ensure that Token will only be valid for 5 minutes (or whats configured on the JWT generation)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Startup.cs", "chunk_id": 1, "subchunk_id": 6, "start_line": 110, "end_line": 119, "language": "cs", "text": "                    ClockSkew = TimeSpan.Zero,\n                    ValidateLifetime = true //With this Two flags I ensure that Token will only be valid for 5 minutes (or whats configured on the JWT generation)\n                    //NOTE: More information about these Fields you can see on Class AppSettings.cs in Details\n                };\n            });\n            #endregion Config of JWT\n\n            //var dbContext = services.BuildServiceProvider().GetService<AppFullStackDemoContext>();\n            //SeedMockDataCreator.CreateMockData(dbContext);            \n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Startup.cs", "chunk_id": 1, "subchunk_id": 7, "start_line": 118, "end_line": 119, "language": "cs", "text": "            //SeedMockDataCreator.CreateMockData(dbContext);            \n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Startup.cs", "chunk_id": 1, "subchunk_id": 8, "start_line": 119, "end_line": 119, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Startup.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 120, "end_line": 153, "language": "cs", "text": "\n        // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n        public void Configure(IApplicationBuilder app, IWebHostEnvironment env, AppFullStackDemoContext context)\n        {\n            //here is the culture of your app language, please change it to modify Dates and other settings\n            var supportedCultures = new[] { new CultureInfo(\"pt-BR\") };\n            app.UseRequestLocalization(new RequestLocalizationOptions\n            {\n                DefaultRequestCulture = new RequestCulture(culture: \"pt-BR\", uiCulture: \"pt-BR\"),\n                SupportedCultures = supportedCultures,\n                SupportedUICultures = supportedCultures\n            });\n\n            if (env.IsDevelopment())\n                app.UseDeveloperExceptionPage();\n\n            app.UseHttpsRedirection();\n            context.Database.Migrate(); //note: If API is running inside a DockerContainer, on the first RUN It will run the migration and create the database =)\n\n            app.UseRouting();\n            app.UseCors(x => x\n                .AllowAnyOrigin()\n                .AllowAnyMethod()\n                .AllowAnyHeader());\n\n            app.UseCors(\"AppFullStackDemoCors\");\n            app.UseAuthentication();\n            app.UseAuthorization();\n\n            app.UseEndpoints(endpoints =>\n            {\n                endpoints.MapControllers();\n            });\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\BaseController.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 13, "end_line": 17, "language": "cs", "text": "\n        public BaseController(IUow uow)\n        {\n            _uow = uow;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\BaseController.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 18, "end_line": 48, "language": "cs", "text": "\n        [NonAction] //need decorator because Swagger is trying to build this method and falling into error\n        public new async Task<IActionResult> Response(IBaseCommandResult baseCommandResult)\n        {\n            if (baseCommandResult.Success)\n            {\n                try\n                {\n                    await _uow.Commit();\n                    return Ok(new\n                    {\n                        Success = true,\n                        Message = baseCommandResult.Message,\n                        ResponseDataObj = baseCommandResult.ResponseDataObj\n                    });\n                }\n                catch (Exception err)\n                {\n                    //log the error with something (like Elmah)\n                    return BadRequest(new\n                    {\n                        Success = false,\n                        Message = baseCommandResult.Message,\n                        ResponseDataObj = new[] { \"A Internal-Server error occured: \" + err.Message.ToString() }\n                    });\n                }\n            }\n            else\n            {\n                //Note: The BackEnd will return 400 just when there is an exception. In case of validation errors or backend message, it will return an 200 OK\n                //(because the backend don't generate an error) but with a \"False\" on the Success boolean flag, and the respective message to fix the errors."}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\BaseController.cs", "chunk_id": 1, "subchunk_id": 1, "start_line": 47, "end_line": 58, "language": "cs", "text": "                //Note: The BackEnd will return 400 just when there is an exception. In case of validation errors or backend message, it will return an 200 OK\n                //(because the backend don't generate an error) but with a \"False\" on the Success boolean flag, and the respective message to fix the errors.\n                //FrontEnd apps should intercept the flag, and show the respective message to the user. So 200 but \"false\" on Success is an error that should be\n                //fixed by the User. Remember that inside the \"Errors\" there is an array, that i should open and get all errors, showing them to user\n                return Ok(new\n                {\n                    Success = false,\n                    Message = baseCommandResult.Message,\n                    ResponseDataObj = baseCommandResult.ResponseDataObj\n                });\n            }\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\BaseController.cs", "chunk_id": 1, "subchunk_id": 2, "start_line": 57, "end_line": 58, "language": "cs", "text": "            }\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\BaseController.cs", "chunk_id": 1, "subchunk_id": 3, "start_line": 58, "end_line": 58, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\DashBoardController.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 15, "end_line": 20, "language": "cs", "text": "\n        public DashBoardController(IUow uow, DashBoardHandler handler) : base(uow)\n        {\n            _uow = uow;\n            _handler = handler;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\DashBoardController.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 21, "end_line": 28, "language": "cs", "text": "\n        [HttpGet]\n        [Route(\"v1\")]\n        [Authorize(Roles = \"dashboard\")]\n        public BaseCommandResult Get()\n        {\n            return _handler.HandleDashBoard();\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\DeviceModelController.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 23, "end_line": 29, "language": "cs", "text": "\n        public DeviceModelController(IUow uow, IDeviceModelRepository repository, DeviceModelHandler handler) : base(uow)\n        {\n            _uow = uow;\n            _repository = repository;\n            _handler = handler;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\DeviceModelController.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 30, "end_line": 38, "language": "cs", "text": "\n        [HttpPost]\n        [Route(\"v1\")]\n        [Authorize(Roles = \"devicemodel\")]\n        public async Task<IActionResult> Post([FromBody] CreateDeviceModelCommand command)\n        {\n            var result = _handler.Handle(command);\n            return await Response(result);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\DeviceModelController.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 39, "end_line": 47, "language": "cs", "text": "\n        [HttpPut]\n        [Route(\"v1/{id}\")]\n        [Authorize(Roles = \"devicemodel\")]\n        public async Task<IActionResult> Put([FromRoute] Guid id, [FromBody] UpdateDeviceModelCommand command)\n        {\n            var result = _handler.Handle(command);\n            return await Response(result);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\DeviceModelController.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 48, "end_line": 56, "language": "cs", "text": "\n        [HttpDelete]\n        [Route(\"v1/{id}\")]\n        [Authorize(Roles = \"devicemodel\")]\n        public async Task<IActionResult> Delete([FromRoute] Guid id)\n        {\n            var result = _handler.Handle(id);\n            return await Response(result);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\DeviceModelController.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 57, "end_line": 64, "language": "cs", "text": "\n        [HttpGet]\n        [Route(\"v1\")]\n        [Authorize(Roles = \"devicemodel\")]\n        public IEnumerable<GetDeviceModelResult> GetDeviceModels()\n        {\n            return _repository.GetDeviceModels();\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\DeviceModelController.cs", "chunk_id": 5, "subchunk_id": 0, "start_line": 65, "end_line": 72, "language": "cs", "text": "\n        [HttpGet]\n        [Route(\"v1/{id}\")]\n        [Authorize(Roles = \"devicemodel\")]\n        public GetDeviceModelResult GetManufacturer([FromRoute] Guid id)\n        {\n            return _repository.GetDeviceModel(id);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\EquipmentController.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 23, "end_line": 29, "language": "cs", "text": "\n        public EquipmentController(IUow uow, IEquipmentRepository repository, EquipmentHandler handler) : base(uow)\n        {\n            _uow = uow;\n            _repository = repository;\n            _handler = handler;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\EquipmentController.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 30, "end_line": 38, "language": "cs", "text": "\n        [HttpPost]\n        [Route(\"v1\")]\n        [Authorize(Roles = \"equipment\")]\n        public async Task<IActionResult> Post([FromBody] CreateEquipmentCommand command)\n        {\n            var result = _handler.Handle(command);\n            return await Response(result);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\EquipmentController.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 39, "end_line": 47, "language": "cs", "text": "\n        [HttpDelete]\n        [Route(\"v1/{id}\")]\n        [Authorize(Roles = \"equipment\")]\n        public async Task<IActionResult> Delete([FromRoute] Guid id)\n        {\n            var result = _handler.Handle(id);\n            return await Response(result);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\EquipmentController.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 48, "end_line": 55, "language": "cs", "text": "\n        [HttpGet]\n        [Route(\"v1\")]\n        [Authorize(Roles = \"equipment\")]\n        public IEnumerable<GetEquipmentResultResumed> GetEquipments()\n        {\n            return _repository.GetEquipments();\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\EquipmentController.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 56, "end_line": 63, "language": "cs", "text": "\n        [HttpGet]\n        [Route(\"v1/{id}\")]\n        [Authorize(Roles = \"equipment\")]\n        public GetEquipmentResult GetEquipment([FromRoute] Guid id)\n        {\n            return _repository.GetEquipment(id);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\EquipmentController.cs", "chunk_id": 5, "subchunk_id": 0, "start_line": 64, "end_line": 71, "language": "cs", "text": "\n        [HttpGet]\n        [Route(\"v1/user/{userId}\")]\n        [Authorize(Roles = \"equipment\")]\n        public IEnumerable<GetEquipmentResultResumed> GetEquipmentsByUser([FromRoute] Guid userId)\n        {\n            return _repository.GetEquipmentsByUser(userId);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\ManufacturerController.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 23, "end_line": 29, "language": "cs", "text": "\n        public ManufacturerController(IUow uow, IManufacturerRepository repository, ManufacturerHandler handler) : base(uow)\n        {\n            _uow = uow;\n            _repository = repository;\n            _handler = handler;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\ManufacturerController.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 30, "end_line": 38, "language": "cs", "text": "\n        [HttpPost]\n        [Route(\"v1\")]\n        [Authorize(Roles = \"manufacturer\")]\n        public async Task<IActionResult> Post([FromBody] CreateManufacturerCommand command)\n        {\n            var result = _handler.Handle(command);\n            return await Response(result);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\ManufacturerController.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 39, "end_line": 47, "language": "cs", "text": "\n        [HttpPut]\n        [Route(\"v1/{id}\")]\n        [Authorize(Roles = \"manufacturer\")]\n        public async Task<IActionResult> Put([FromRoute] Guid Id, [FromBody] UpdateManufacturerCommand command)\n        {\n            var result = _handler.Handle(command);\n            return await Response(result);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\ManufacturerController.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 48, "end_line": 56, "language": "cs", "text": "\n        [HttpDelete]\n        [Route(\"v1/{id}\")]\n        [Authorize(Roles = \"manufacturer\")]\n        public async Task<IActionResult> Delete([FromRoute] Guid id)\n        {\n            var result = _handler.Handle(id);\n            return await Response(result);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\ManufacturerController.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 57, "end_line": 64, "language": "cs", "text": "\n        [HttpGet]\n        [Route(\"v1\")]\n        [Authorize(Roles = \"manufacturer\")]\n        public IEnumerable<GetManufacturerResult> GetManufacturers()\n        {\n            return _repository.GetManufacturers();\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\ManufacturerController.cs", "chunk_id": 5, "subchunk_id": 0, "start_line": 65, "end_line": 72, "language": "cs", "text": "\n        [HttpGet]\n        [Route(\"v1/{id}\")]\n        [Authorize(Roles = \"manufacturer\")]\n        public GetManufacturerResult GetManufacturer([FromRoute] Guid id)\n        {\n            return _repository.GetManufacturer(id);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\UserController.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 28, "end_line": 35, "language": "cs", "text": "\n        public UserController(IUow uow, IUserRepository repository, UserHandler handler, IOptions<AppSettings> appSettings) : base(uow)\n        {\n            _uow = uow;\n            _repository = repository;\n            _handler = handler;\n            _appSettings = appSettings.Value;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\UserController.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 36, "end_line": 43, "language": "cs", "text": "\n        [HttpGet]\n        [Route(\"v1/test\")]\n        [AllowAnonymous]\n        public string GetTest()\n        {\n            return \"Nota 7 pra cima\";\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\UserController.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 44, "end_line": 52, "language": "cs", "text": "\n        [HttpPost]\n        [Route(\"v1\")]\n        [AllowAnonymous]\n        public async Task<IActionResult> Post([FromBody] CreateUserCommand command)\n        {\n            var result = _handler.Handle(command);\n            return await Response(result);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\UserController.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 53, "end_line": 61, "language": "cs", "text": "\n        [HttpPut]\n        [Route(\"v1/{id}\")]\n        [Authorize(Roles = \"user\")]\n        public async Task<IActionResult> Put([FromRoute] Guid Id, [FromBody] UpdateUserCommand command)\n        {\n            var result = _handler.Handle(command);\n            return await Response(result);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\UserController.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 62, "end_line": 70, "language": "cs", "text": "\n        [HttpDelete]\n        [Route(\"v1/{id}\")]\n        [Authorize(Roles = \"user\")]\n        public async Task<IActionResult> Delete([FromRoute] Guid id)\n        {\n            var result = _handler.Handle(id);\n            return await Response(result);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\UserController.cs", "chunk_id": 5, "subchunk_id": 0, "start_line": 71, "end_line": 78, "language": "cs", "text": "\n        [HttpGet]\n        [Route(\"v1\")]\n        [Authorize(Roles = \"user\")]\n        public IEnumerable<GetUserResumed> GetUsers()\n        {\n            return _repository.GetUsers();\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\UserController.cs", "chunk_id": 6, "subchunk_id": 0, "start_line": 79, "end_line": 86, "language": "cs", "text": "\n        [HttpGet]\n        [Route(\"v1/{id}\")]\n        [Authorize(Roles = \"user\")]\n        public GetUserResult GetUser([FromRoute] Guid id)\n        {\n            return _repository.GetUser(id);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\UserController.cs", "chunk_id": 7, "subchunk_id": 0, "start_line": 87, "end_line": 103, "language": "cs", "text": "\n        [HttpPost]\n        [Route(\"v1/Login\")]\n        [AllowAnonymous]\n        public async Task<IActionResult> Login([FromBody] LoginUserCommand command)\n        {\n            var result = _handler.Handle(command);\n            if (result.Success == true)\n            {\n                var userClaimsList = (List<string>)result.Data;\n                var user = _repository.GetByLogin(command.UserName);\n                var token = new JwtGenerator(_appSettings).GenerateToken(result, userClaimsList);\n                var tokenResult = new TokenResult() { Token = token, LoggedSuccessful = true, UserName = user.Name.ToString(), UserEmail = user.Email.EmailAddress, UserId = user.Id.ToString() };\n                return await Response(new BaseCommandResult(true, \"Logged with Success.\", tokenResult)); //Do Not need to Jsonfy it, so I'll return the Own Result            \n            }\n            return await Response(new BaseCommandResult(false, \"Username or Password invalid.\", null)); //Do Not need to Jsonfy it, so I'll return the Own Result            \n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\Security\\JsonSerializer.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 13, "end_line": 17, "language": "cs", "text": "\n        public static string SerializeObject(object o)\n        {\n            return JsonConvert.SerializeObject(o, Formatting.Indented, Settings);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\Security\\JwtGenerator.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 17, "end_line": 21, "language": "cs", "text": "\n        public JwtGenerator(AppSettings appSettings)\n        {\n            _appSettings = appSettings;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\Security\\JwtGenerator.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 22, "end_line": 46, "language": "cs", "text": "\n        #region Method to Generate the Token\n\n        public string GenerateToken(GetLoggedUserResult user, List<string> claims)\n        {\n            var tokenHandler = new JwtSecurityTokenHandler();\n            var key = Encoding.ASCII.GetBytes(_appSettings.TokenSecret); //i take the Secret from the Config that will be used to generate the Token\n\n            //I'll create the Tokens, add the Claims into it, and return the Token\n            var tokenDescriptor = new SecurityTokenDescriptor\n            {\n                Issuer = _appSettings.Emiter, //here i say who is the emiter of the Token (name of my system backend)\n                Audience = _appSettings.ValidIn, //here i will say where it's valid (that's specific in Settings.ValidIn - default there is http://localhost)\n                Expires = DateTime.UtcNow.AddMinutes(_appSettings.ExpirationInMinutes), //take how many minutes my token is valid\n                SigningCredentials = new SigningCredentials(new SymmetricSecurityKey(key), SecurityAlgorithms.HmacSha256Signature),\n                Subject = new ClaimsIdentity(new Claim[]\n                    {\n                        new Claim(\"IdUser\", user.IdUser),\n                        new Claim(\"NameUser\", user.NameUser),\n                        new Claim(\"UsernameOrEmail\", user.UsernameOrEmail),\n                        new Claim(\"EmailAddress\", user.EmailAddress)\n                    })\n            };\n\n            //now I'm gonna add the claims to the Token"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\Security\\JwtGenerator.cs", "chunk_id": 1, "subchunk_id": 1, "start_line": 45, "end_line": 48, "language": "cs", "text": "\n            //now I'm gonna add the claims to the Token\n            claims.ForEach(item =>\n            {"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\Security\\JwtGenerator.cs", "chunk_id": 1, "subchunk_id": 2, "start_line": 47, "end_line": 48, "language": "cs", "text": "            claims.ForEach(item =>\n            {"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\Security\\JwtGenerator.cs", "chunk_id": 1, "subchunk_id": 3, "start_line": 48, "end_line": 48, "language": "cs", "text": "            {"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\Security\\JwtGenerator.cs", "chunk_id": 1, "subchunk_id": 4, "start_line": 47, "end_line": 53, "language": "cs", "text": "            claims.ForEach(item =>\n            {\n                tokenDescriptor.Subject.AddClaim(new Claim(\"roles\", item));\n            });\n\n            return tokenHandler.WriteToken(tokenHandler.CreateToken(tokenDescriptor));\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\Security\\JwtGenerator.cs", "chunk_id": 1, "subchunk_id": 5, "start_line": 52, "end_line": 53, "language": "cs", "text": "            return tokenHandler.WriteToken(tokenHandler.CreateToken(tokenDescriptor));\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\Security\\JwtGenerator.cs", "chunk_id": 1, "subchunk_id": 6, "start_line": 53, "end_line": 53, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Controllers\\Security\\TokenFactory.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 16, "language": "cs", "text": "        public string GenerateToken(int size = 32)\n        {\n            var randomNumber = new byte[size];\n            using (var rng = RandomNumberGenerator.Create())\n            {\n                rng.GetBytes(randomNumber);\n                return Convert.ToBase64String(randomNumber);\n            }\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\Models\\AppSettings.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 16, "language": "cs", "text": "    //Here you will see complete information about these Fields and How it works. This Fields here will be Load/Reflect by AppSettings.Json (section AppSettings)\n    public class AppSettings\n    {\n        //Emiter is the NAME of the System, you can put here the name of your project, or the Backend\n        public string Emiter { get; set; }\n        //Here you will define how many time token will expires (5 minutes, 30 minutes, 120 minutes...)\n        public int ExpirationInMinutes { get; set; }\n        //Here you will put the SecretKey of the Token, this is very important and cannot be never lost\n        public string TokenSecret { get; set; }\n        //Here you will put where it can be used, localhost, localhost:4200, localhost:5000, or your real website\n        public string ValidIn { get; set; }\n        //NOTE: Emiter and ValidIn can be changed to ARRAY, so if we have more than one system, we can Handle it in the Future by changing this (more info in JWT Section - Startup.cs)        \n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Api\\obj\\Debug\\netcoreapp3.1\\AppFullStackDemo.Api.AssemblyInfo.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 23, "language": "cs", "text": "//------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by a tool.\n//     Runtime Version:4.0.30319.42000\n//\n//     Changes to this file may cause incorrect behavior and will be lost if\n//     the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\n\nusing System;\nusing System.Reflection;\n\n[assembly: System.Reflection.AssemblyCompanyAttribute(\"AppFullStackDemo.Api\")]\n[assembly: System.Reflection.AssemblyConfigurationAttribute(\"Debug\")]\n[assembly: System.Reflection.AssemblyFileVersionAttribute(\"1.0.0.0\")]\n[assembly: System.Reflection.AssemblyInformationalVersionAttribute(\"1.0.0\")]\n[assembly: System.Reflection.AssemblyProductAttribute(\"AppFullStackDemo.Api\")]\n[assembly: System.Reflection.AssemblyTitleAttribute(\"AppFullStackDemo.Api\")]\n[assembly: System.Reflection.AssemblyVersionAttribute(\"1.0.0.0\")]\n\n// Generated by the MSBuild WriteCodeFragment class.\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\Contracts\\ICommand.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 9, "language": "cs", "text": "    public interface ICommand : IValidatable\n    {\n        // ICommand (and who implement it) will have a Validate() method (from IValidatable) to implement (and validate the DTO)\n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\DeviceModel\\CreateDeviceModelCommand.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 12, "language": "cs", "text": "        public CreateDeviceModelCommand()\n        {\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\DeviceModel\\CreateDeviceModelCommand.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 18, "language": "cs", "text": "\n        public CreateDeviceModelCommand(string description, Guid manufacturerId)\n        {\n            Description = description;\n            ManufacturerId = manufacturerId;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\DeviceModel\\CreateDeviceModelCommand.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 22, "end_line": 29, "language": "cs", "text": "\n        public void Validate()\n        {\n            AddNotifications(new Contract()\n                .IsNotNullOrEmpty(Description, \"Description\", \"Please inform a Description.\")\n                .HasMaxLengthIfNotNullOrEmpty(Description, 30, \"Description\", \"Please Inform a Description.\")\n            );\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\DeviceModel\\UpdateDeviceModelCommand.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 12, "language": "cs", "text": "        public UpdateDeviceModelCommand()\n        {\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\DeviceModel\\UpdateDeviceModelCommand.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 19, "language": "cs", "text": "\n        public UpdateDeviceModelCommand(Guid id, string description, Guid manufacturerId)\n        {\n            Description = description;\n            Id = id;\n            ManufacturerId = manufacturerId;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\DeviceModel\\UpdateDeviceModelCommand.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 24, "end_line": 31, "language": "cs", "text": "\n        public void Validate()\n        {\n            AddNotifications(new Contract()\n                .IsNotNullOrEmpty(Description, \"Description\", \"Please inform a Description.\")\n                .HasMaxLengthIfNotNullOrEmpty(Description, 30, \"Description\", \"Please Inform a Description.\")\n            );\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\Equipment\\CreateEquipmentCommand.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 11, "end_line": 13, "language": "cs", "text": "        public CreateEquipmentCommand()\n        {\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\Equipment\\CreateEquipmentCommand.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 14, "end_line": 31, "language": "cs", "text": "\n        public CreateEquipmentCommand(string androidId, string imei1, string imei2, string phoneNumber, string macAddress, string apiLevel,\n            string apiLevelDesc, string serialNumber, string systemName, string systemVersion, string manufacturer, string model, Guid userId)\n        {\n            AndroidId = androidId;\n            Imei1 = imei1;\n            Imei2 = imei2;\n            PhoneNumber = phoneNumber;\n            MacAddress = macAddress;\n            ApiLevel = FieldsFormaters.normalizeStr(apiLevel);\n            ApiLevelDesc = FieldsFormaters.normalizeStr(apiLevelDesc);\n            SerialNumber = serialNumber;\n            SystemName = systemName;\n            SystemVersion = systemVersion;\n            Manufacturer = manufacturer;\n            Model = model;\n            UserId = userId;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\Equipment\\CreateEquipmentCommand.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 46, "end_line": 55, "language": "cs", "text": "\n        public void Validate()\n        {\n            // I'll not validate too much here because this info will come from device\n            // and the API on Device always take all values (will not be edited by user)\n            AddNotifications(new Contract()\n                .IsNotNullOrEmpty(AndroidId, \"AndroidId\", \"Please inform an AndroidId.\")\n                .HasMaxLengthIfNotNullOrEmpty(AndroidId, 30, \"AndroidId\", \"Please inform an AndroidId.\")\n            );\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\Manufacturer\\CreateManufacturerCommand.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 11, "language": "cs", "text": "        public CreateManufacturerCommand()\n        {\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\Manufacturer\\CreateManufacturerCommand.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 16, "language": "cs", "text": "\n        public CreateManufacturerCommand(string description)\n        {\n            Description = description;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\Manufacturer\\CreateManufacturerCommand.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 19, "end_line": 26, "language": "cs", "text": "\n        public void Validate()\n        {\n            AddNotifications(new Contract()\n                .IsNotNullOrEmpty(Description, \"Description\", \"Description cannot be null\")\n                .HasMaxLengthIfNotNullOrEmpty(Description, 30, \"Description\", \"Description cannot be higher than 30c.\")\n            );\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\Manufacturer\\UpdateManufacturerCommand.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 12, "language": "cs", "text": "        public UpdateManufacturerCommand()\n        {\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\Manufacturer\\UpdateManufacturerCommand.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 18, "language": "cs", "text": "\n        public UpdateManufacturerCommand(Guid id, string description)\n        {\n            Description = description;\n            Id = id;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\Manufacturer\\UpdateManufacturerCommand.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 22, "end_line": 29, "language": "cs", "text": "\n        public void Validate()\n        {\n            AddNotifications(new Contract()\n                .IsNotNullOrEmpty(Description, \"Description\", \"Description cannot be null\")\n                .HasMaxLengthIfNotNullOrEmpty(Description, 30, \"Description\", \"Description cannot be higher than 30c.\")\n            );\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\CreateUserCommand.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 11, "language": "cs", "text": "        public CreateUserCommand()\n        {\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\CreateUserCommand.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 32, "language": "cs", "text": "\n        public CreateUserCommand(string aditionalInfo, string countryRegistryNumber, string stateRegistryNumber, string emailAddress, string firstName, string lastName, string mobilePhoneNumber1, string mobilePhoneNumber2, string phoneNumber1, string phoneNumber2, string city, string neighborHood, string street, string streetNumber, string zipCode, string userName, string password)\n        {\n            AditionalInfo = aditionalInfo;\n            CountryRegistryNumber = countryRegistryNumber;\n            StateRegistryNumber = stateRegistryNumber;\n            EmailAddress = emailAddress;\n            FirstName = firstName;\n            LastName = lastName;\n            MobilePhoneNumber1 = mobilePhoneNumber1;\n            MobilePhoneNumber2 = mobilePhoneNumber2;\n            PhoneNumber1 = phoneNumber1;\n            PhoneNumber2 = phoneNumber2;\n            City = city;\n            NeighborHood = neighborHood;\n            Street = street;\n            StreetNumber = streetNumber;\n            ZipCode = zipCode;\n            UserName = userName;\n            Password = password;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\CreateUserCommand.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 51, "end_line": 66, "language": "cs", "text": "\n        public void Validate()\n        {\n            // Note: On the Create I`ll allow user to create just with First and LastName, Username (email) and Password.\n            // Once User is logged, if user tries to UPDATE the profile, will be forced to add Address, Phone and other info.\n            AddNotifications(new Contract()\n                .HasMaxLengthIfNotNullOrEmpty(UserName, 100, \"Username\", \"UserName cannot be higher than 100c.\")\n                //Address\n                .HasMaxLengthIfNotNullOrEmpty(Street, 120, \"Street\", \"Street needs to be lower than 120c.\")\n                .HasMaxLengthIfNotNullOrEmpty(StreetNumber, 20, \"StreetNumber\", \"Street Number needs to be lower than 20c.\")\n                .HasMaxLengthIfNotNullOrEmpty(NeighborHood, 60, \"NeighborHood\", \"Neighboorhood needs to be lower than 60c\")\n                .HasMaxLengthIfNotNullOrEmpty(City, 60, \"City\", \"City needs to be lower than 60c\")\n                .HasMaxLengthIfNotNullOrEmpty(ZipCode, 10, \"ZipCode\", \"Zipcode needs to be lower than 10c\")\n                .HasMaxLengthIfNotNullOrEmpty(CountryRegistryNumber, 20, \"CountryRegistryNumber\", \"Country Register Number Cannot be higher than 20.\")\n                .HasMaxLengthIfNotNullOrEmpty(StateRegistryNumber, 20, \"StateRegistryNumber\", \"State Register Number Cannot be higher than 20.\")\n                //Document"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\CreateUserCommand.cs", "chunk_id": 2, "subchunk_id": 1, "start_line": 65, "end_line": 79, "language": "cs", "text": "                .HasMaxLengthIfNotNullOrEmpty(StateRegistryNumber, 20, \"StateRegistryNumber\", \"State Register Number Cannot be higher than 20.\")\n                //Document\n                .HasMaxLengthIfNotNullOrEmpty(CountryRegistryNumber, 20, \"CountryRegistryNumber\", \"Country Register Number Cannot be higher than 20.\")\n                .HasMaxLengthIfNotNullOrEmpty(StateRegistryNumber, 20, \"StateRegistryNumber\", \"State Register Number Cannot be higher than 20.\")\n                //Email\n                .IsEmail(EmailAddress, \"EmailAddress\", \"Please inform a valid email\")\n                .HasMaxLengthIfNotNullOrEmpty(EmailAddress, 100, \"EmailAddress\", \"Email cannot be higher than 100c\")\n                //Name\n                .HasMinLen(FirstName, 2, \"FirstName\", \"Please Inform a First name.\")\n                .HasMaxLengthIfNotNullOrEmpty(FirstName, 40, \"FirstName\", \"First name cannot be higher than 40c.\")\n                .HasMinLen(LastName, 2, \"LastName\", \"Please Inform a Last name.\")\n                .HasMaxLengthIfNotNullOrEmpty(LastName, 80, \"LastName\", \"Last name cannot be higher than 40c.\")\n                //Phone\n                .HasMaxLengthIfNotNullOrEmpty(PhoneNumber1, 20, \"PhoneNumber1\", \"Phone Number 1 Cannot be Higher 20c.\")\n                .HasMaxLengthIfNotNullOrEmpty(PhoneNumber2, 20, \"PhoneNumber2\", \"Phone Number 2 Cannot be Higher 20c.\")"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\CreateUserCommand.cs", "chunk_id": 2, "subchunk_id": 2, "start_line": 78, "end_line": 83, "language": "cs", "text": "                .HasMaxLengthIfNotNullOrEmpty(PhoneNumber1, 20, \"PhoneNumber1\", \"Phone Number 1 Cannot be Higher 20c.\")\n                .HasMaxLengthIfNotNullOrEmpty(PhoneNumber2, 20, \"PhoneNumber2\", \"Phone Number 2 Cannot be Higher 20c.\")\n                .HasMaxLengthIfNotNullOrEmpty(MobilePhoneNumber1, 20, \"MobilePhoneNumber1\", \"Mobile Phone Number 1 Cannot be Higher 20c.\")\n                .HasMaxLengthIfNotNullOrEmpty(MobilePhoneNumber2, 20, \"MobilePhoneNumber2\", \"Mobile Phone Number 2 Cannot be Higher 20c.\")\n            );\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\CreateUserCommand.cs", "chunk_id": 2, "subchunk_id": 3, "start_line": 82, "end_line": 83, "language": "cs", "text": "            );\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\CreateUserCommand.cs", "chunk_id": 2, "subchunk_id": 4, "start_line": 83, "end_line": 83, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\LoginUserCommand.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 11, "language": "cs", "text": "        public LoginUserCommand()\n        {\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\LoginUserCommand.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 17, "language": "cs", "text": "\n        public LoginUserCommand(string userName, string password)\n        {\n            UserName = userName;\n            Password = password;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\LoginUserCommand.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 21, "end_line": 28, "language": "cs", "text": "\n        public void Validate()\n        {\n            AddNotifications(new Contract()\n                .IsNotNullOrEmpty(UserName, \"UserName\", \"Please Inform a UserName.\")\n                .IsNotNullOrEmpty(Password, \"Password\", \"Please Inform a Password.\")\n            );\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\UpdateUserCommand.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 12, "language": "cs", "text": "        public UpdateUserCommand()\n        {\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\UpdateUserCommand.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 34, "language": "cs", "text": "\n        public UpdateUserCommand(Guid id, string aditionalInfo, string countryRegistryNumber, string stateRegistryNumber, string emailAddress, string firstName, string lastName, string mobilePhoneNumber1, string mobilePhoneNumber2, string phoneNumber1, string phoneNumber2, string city, string neighborHood, string street, string streetNumber, string zipCode, string userName, string password)\n        {\n            Id = id;\n            AditionalInfo = aditionalInfo;\n            CountryRegistryNumber = countryRegistryNumber;\n            StateRegistryNumber = stateRegistryNumber;\n            EmailAddress = emailAddress;\n            FirstName = firstName;\n            LastName = lastName;\n            MobilePhoneNumber1 = mobilePhoneNumber1;\n            MobilePhoneNumber2 = mobilePhoneNumber2;\n            PhoneNumber1 = phoneNumber1;\n            PhoneNumber2 = phoneNumber2;\n            City = city;\n            NeighborHood = neighborHood;\n            Street = street;\n            StreetNumber = streetNumber;\n            ZipCode = zipCode;\n            UserName = userName;\n            Password = password;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\UpdateUserCommand.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 54, "end_line": 71, "language": "cs", "text": "\n        public void Validate()\n        {\n            AddNotifications(new Contract()\n                .HasMaxLengthIfNotNullOrEmpty(UserName, 100, \"Username\", \"UserName cannot be higher than 100c.\")\n                //Address\n                .IsNotNullOrEmpty(Street, \"Street\", \"Please Inform a Street.\")\n                .HasMaxLengthIfNotNullOrEmpty(Street, 120, \"Street\", \"Street needs to be lower than 120c.\")\n                .IsNotNullOrEmpty(StreetNumber, \"StreetNumber\", \"Please Inform a Street Number\")\n                .HasMaxLengthIfNotNullOrEmpty(StreetNumber, 20, \"StreetNumber\", \"Street Number needs to be lower than 20c.\")\n                .IsNotNullOrEmpty(NeighborHood, \"NeighborHood\", \"Please Inform a Neighboorhood\")\n                .HasMaxLengthIfNotNullOrEmpty(NeighborHood, 60, \"NeighborHood\", \"Neighboorhood needs to be lower than 60c\")\n                .IsNotNullOrEmpty(City, \"City\", \"Please Inform a City.\")\n                .HasMaxLengthIfNotNullOrEmpty(City, 60, \"City\", \"City needs to be lower than 60c\")\n                .HasMaxLengthIfNotNullOrEmpty(ZipCode, 10, \"ZipCode\", \"Zipcode needs to be lower than 10c\")\n                .HasMaxLengthIfNotNullOrEmpty(CountryRegistryNumber, 20, \"CountryRegistryNumber\", \"Country Register Number Cannot be higher than 20.\")\n                .HasMaxLengthIfNotNullOrEmpty(StateRegistryNumber, 20, \"StateRegistryNumber\", \"State Register Number Cannot be higher than 20.\")\n                //Document"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\UpdateUserCommand.cs", "chunk_id": 2, "subchunk_id": 1, "start_line": 70, "end_line": 85, "language": "cs", "text": "                .HasMaxLengthIfNotNullOrEmpty(StateRegistryNumber, 20, \"StateRegistryNumber\", \"State Register Number Cannot be higher than 20.\")\n                //Document\n                .HasMaxLengthIfNotNullOrEmpty(CountryRegistryNumber, 20, \"CountryRegistryNumber\", \"Country Register Number Cannot be higher than 20.\")\n                .HasMaxLengthIfNotNullOrEmpty(StateRegistryNumber, 20, \"StateRegistryNumber\", \"State Register Number Cannot be higher than 20.\")\n                //Email\n                .IsEmail(EmailAddress, \"EmailAddress\", \"Please inform a valid email\")\n                .IsNotNull(EmailAddress, \"EmailAddress\", \"Email cannot be null\")\n                .HasMaxLengthIfNotNullOrEmpty(EmailAddress, 100, \"EmailAddress\", \"Email cannot be higher than 100c\")\n                //Name\n                .HasMinLen(FirstName, 2, \"FirstName\", \"Please Inform a First name.\")\n                .HasMaxLengthIfNotNullOrEmpty(FirstName, 40, \"FirstName\", \"First name cannot be higher than 40c.\")\n                .HasMinLen(LastName, 2, \"LastName\", \"Please Inform a Last name.\")\n                .HasMaxLengthIfNotNullOrEmpty(LastName, 80, \"LastName\", \"Last name cannot be higher than 40c.\")\n                //Phone\n                .IsNotNull(PhoneNumber1, \"PhoneNumber1\", \"Phone Number 1 cannot be null\")\n                .HasMaxLengthIfNotNullOrEmpty(PhoneNumber1, 20, \"PhoneNumber1\", \"Phone Number 1 Cannot be higher than 20c\")"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\UpdateUserCommand.cs", "chunk_id": 2, "subchunk_id": 2, "start_line": 84, "end_line": 88, "language": "cs", "text": "                .IsNotNull(PhoneNumber1, \"PhoneNumber1\", \"Phone Number 1 cannot be null\")\n                .HasMaxLengthIfNotNullOrEmpty(PhoneNumber1, 20, \"PhoneNumber1\", \"Phone Number 1 Cannot be higher than 20c\")\n                .HasMaxLengthIfNotNullOrEmpty(MobilePhoneNumber2, 20, \"MobilePhoneNumber2\", \"Phone Number 2 Cannot be higher than 20c\")\n            );\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\UpdateUserCommand.cs", "chunk_id": 2, "subchunk_id": 3, "start_line": 87, "end_line": 88, "language": "cs", "text": "            );\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Commands\\User\\UpdateUserCommand.cs", "chunk_id": 2, "subchunk_id": 4, "start_line": 88, "end_line": 88, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\DeviceModel.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 12, "language": "cs", "text": "        public DeviceModel(string description, Manufacturer manufacturer)\n        {\n            Description = description;\n            Manufacturer = manufacturer;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\DeviceModel.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 14, "language": "cs", "text": "\n        protected DeviceModel() { } //This constructor will be used by EF during migrations (for some reason, EF needs a empty constructor to run)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\DeviceModel.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 21, "end_line": 26, "language": "cs", "text": "\n        public void Update(string description, Manufacturer manufacturer)\n        {\n            Description = description;\n            Manufacturer = manufacturer;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\EntityBase.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 13, "end_line": 21, "language": "cs", "text": "        public EntityBase()\n        {\n            //Id = System.Guid.NewGuid();\n            CreatedBy = Id.ToString();\n            UpdatedBy = Id.ToString();\n            CreatedIn = DateTime.Now;\n            UpdatedIn = DateTime.Now;\n            Activate();\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\EntityBase.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 34, "end_line": 38, "language": "cs", "text": "\n        public void Activate()\n        {\n            Status = ECommonStatus.Active;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\EntityBase.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 39, "end_line": 43, "language": "cs", "text": "\n        public void AwaitingAuthorization()\n        {\n            Status = ECommonStatus.AwaitingAuthorization;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\EntityBase.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 44, "end_line": 48, "language": "cs", "text": "\n        public void Created()\n        {\n            Status = ECommonStatus.Created;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\EntityBase.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 49, "end_line": 53, "language": "cs", "text": "\n        public void Deactivate()\n        {\n            Status = ECommonStatus.Inactive;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\EntityBase.cs", "chunk_id": 5, "subchunk_id": 0, "start_line": 54, "end_line": 58, "language": "cs", "text": "\n        public void Remove()\n        {\n            Status = ECommonStatus.Removed;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Equipment.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 23, "language": "cs", "text": "        public Equipment(string androidId, string imei1, string imei2, string phoneNumber, string macAddress, string apiLevel,\n             string apiLevelDesc, string serialNumber, string systemName, string systemVersion, DeviceModel deviceModel, User user)\n        {\n            AndroidId = androidId;\n            Imei1 = imei1;\n            Imei2 = imei2;\n            PhoneNumber = phoneNumber;\n            MacAddress = macAddress;\n            ApiLevel = FieldsFormaters.normalizeStr(apiLevel);\n            ApiLevelDesc = FieldsFormaters.normalizeStr(apiLevelDesc);\n            SerialNumber = serialNumber;\n            SystemName = systemName;\n            SystemVersion = systemVersion;\n            DeviceModel = deviceModel;\n            User = user;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Equipment.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 24, "end_line": 25, "language": "cs", "text": "\n        protected Equipment() { } //This constructor will be used by EF during migrations (for some reason, EF needs a empty constructor to run)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Equipment.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 41, "end_line": 57, "language": "cs", "text": "\n        public void Update(string androidId, string imei1, string imei2, string phoneNumber, string macAddress, string apiLevel,\n             string apiLevelDesc, string serialNumber, string systemName, string systemVersion, DeviceModel deviceModel, User user)\n        {\n            AndroidId = androidId;\n            Imei1 = imei1;\n            Imei2 = imei2;\n            PhoneNumber = phoneNumber;\n            MacAddress = macAddress;\n            ApiLevel = FieldsFormaters.normalizeStr(apiLevel);\n            ApiLevelDesc = FieldsFormaters.normalizeStr(apiLevelDesc);\n            SerialNumber = serialNumber;\n            SystemName = systemName;\n            SystemVersion = systemVersion;\n            DeviceModel = deviceModel;\n            User = user;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Manufacturer.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 11, "language": "cs", "text": "        public Manufacturer(string description)\n        {\n            Description = description;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Manufacturer.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 13, "language": "cs", "text": "\n        protected Manufacturer() { } //This constructor will be used by EF during migrations (for some reason, EF needs a empty constructor to run)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Manufacturer.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 20, "end_line": 24, "language": "cs", "text": "\n        public void Update(string description)\n        {\n            Description = description;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\User.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 18, "language": "cs", "text": "        public User(string aditionalInfo, Name name, Document document, Phone phone, Email email, Address address, UserAccount userAccount)\n        {\n            AditionalInfo = aditionalInfo;\n            Name = name;\n            Document = document;\n            Phone = phone;\n            Email = email;\n            Address = address;\n            UserAccount = userAccount;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\User.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 19, "end_line": 20, "language": "cs", "text": "\n        protected User() { } //This constructor will be used by EF during migrations (for some reason, EF needs a empty constructor to run)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\User.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 34, "end_line": 44, "language": "cs", "text": "\n        public void Update(string aditionalInfo, Name name, Document document, Phone phone, Email email, Address address, UserAccount userAccount)\n        {\n            AditionalInfo = aditionalInfo;\n            Name = name;\n            Document = document;\n            Phone = phone;\n            Email = email;\n            Address = address;\n            UserAccount = userAccount;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Security\\Claim.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 13, "language": "cs", "text": "        public Claim(string claimName, string claimUrlOpt)\n        {\n            ClaimName = claimName;\n            ClaimUrlOpt = claimUrlOpt;\n            Validate();\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Security\\Claim.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 14, "end_line": 15, "language": "cs", "text": "\n        protected Claim() { } //This constructor will be used by EF during migrations (for some reason, EF needs a empty constructor to run)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Security\\Claim.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 21, "end_line": 27, "language": "cs", "text": "\n        public void Update(string claimName, string claimUrlOpt)\n        {\n            ClaimName = claimName;\n            ClaimUrlOpt = claimUrlOpt;\n            Validate();\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Security\\Claim.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 28, "end_line": 36, "language": "cs", "text": "\n        public void Validate()\n        {\n            AddNotifications(new Contract()\n                .IsNotNullOrEmpty(ClaimName, \"ClaimName\", \"Please inform a Name for Claim.\")\n                .HasMaxLengthIfNotNullOrEmpty(ClaimName, 40, \"ClaimName\", \"Name of the Claim could not be higher than 40c.\")\n                .HasMaxLengthIfNotNullOrEmpty(ClaimUrlOpt, 80, \"ClaimUrlOpt\", \"DescriptionUrl could not be higher than 80c.\")\n            );\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Security\\UserClaim.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 9, "language": "cs", "text": "        public UserClaim(User user, Claim claim)\n        {\n            User = user;\n            Claim = claim;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Security\\UserClaim.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 10, "end_line": 11, "language": "cs", "text": "\n        protected UserClaim() { } //This constructor will be used by EF during migrations (for some reason, EF needs a empty constructor to run)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Security\\UserClaim.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 16, "end_line": 21, "language": "cs", "text": "\n        public void Update(User user, Claim claim)\n        {\n            User = user;\n            Claim = claim;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Entities\\Security\\UserClaim.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 22, "end_line": 26, "language": "cs", "text": "\n        public void Validate()\n        {\n\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Enums\\ECommonStatus.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 15, "language": "cs", "text": "    public enum ECommonStatus\n    {\n        Created = 1,\n\n        AwaitingAuthorization = 2,\n\n        Active = 3,\n\n        Inactive = 4,\n\n        Removed = 5\n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\DashBoardHandlers.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 16, "end_line": 19, "language": "cs", "text": "        public DashBoardHandler(IEquipmentRepository equipmentRepository)\n        {\n            _equipmentRepository = equipmentRepository;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\DashBoardHandlers.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 20, "end_line": 60, "language": "cs", "text": "        #endregion\n\n        public BaseCommandResult HandleDashBoard(string companyId = \"\")\n        {\n            List<Equipment> equipments = new List<Equipment>();\n            equipments = _equipmentRepository.GetEquipmentsEnt().ToList();\n            var listOfAndroids = new List<GetDashBoardInfo>();\n            var listOfManufacturers = new List<GetDashBoardInfo>();\n\n            equipments.ForEach(equip =>\n            {\n                string manufacturer = equip.DeviceModel.Manufacturer.Description;\n                string apiLevel = equip.ApiLevelDesc;\n                bool manufacturerFound = false;\n                bool apiLevelFound = false;\n\n                listOfManufacturers.ForEach(manuf =>\n                {\n                    if (manuf.Field == manufacturer)\n                    {\n                        manufacturerFound = true;\n                        manuf.Value = (Convert.ToInt32(manuf.Value) + 1).ToString();\n                    }\n                });\n\n                listOfAndroids.ForEach(api =>\n                {\n                    if (api.Field == apiLevel)\n                    {\n                        apiLevelFound = true;\n                        api.Value = (Convert.ToInt32(api.Value) + 1).ToString();\n                    }\n                });\n\n                if (!manufacturerFound)\n                {\n                    listOfManufacturers.Add(new GetDashBoardInfo(manufacturer, \"1\"));\n                }\n\n                if (!apiLevelFound)\n                {"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\DashBoardHandlers.cs", "chunk_id": 1, "subchunk_id": 1, "start_line": 59, "end_line": 74, "language": "cs", "text": "                if (!apiLevelFound)\n                {\n                    listOfAndroids.Add(new GetDashBoardInfo(apiLevel, \"1\"));\n                }\n            });\n\n\n            //first of all I'll load ALL EquipmentLogs on the last 24h to use it during the forEach\n\n            //organizing data\n            listOfAndroids = listOfAndroids.OrderByDescending(p => p.Value).ToList();\n            listOfManufacturers = listOfManufacturers.OrderByDescending(p => p.Value).ToList();\n\n            GetDashBoardResult returnData = new GetDashBoardResult(listOfAndroids, listOfManufacturers);\n            return new BaseCommandResult(true, \"\", returnData);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\DashBoardHandlers.cs", "chunk_id": 1, "subchunk_id": 2, "start_line": 73, "end_line": 74, "language": "cs", "text": "            return new BaseCommandResult(true, \"\", returnData);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\DashBoardHandlers.cs", "chunk_id": 1, "subchunk_id": 3, "start_line": 74, "end_line": 74, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\DeviceModelHandler.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 23, "language": "cs", "text": "\n        public DeviceModelHandler(IDeviceModelRepository repository, IManufacturerRepository manufacturerRepository)\n        {\n            _repository = repository;\n            _manufacturerRepository = manufacturerRepository;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\DeviceModelHandler.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 24, "end_line": 41, "language": "cs", "text": "\n        public IBaseCommandResult Handle(CreateDeviceModelCommand command)\n        {\n            // Fail Fast Validation\n            command.Validate();\n            if (command.Invalid)\n                return new BaseCommandResult(false, \"Need to fix the errors on DeviceModel\", command.Notifications);\n\n            var manufacturer = _manufacturerRepository.GetById(command.ManufacturerId);\n            if (manufacturer == null)\n                return new BaseCommandResult(false, \"Manufacturer not found\", null);\n\n            var deviceModel = new DeviceModel(command.Description, manufacturer);\n\n            _repository.Create(deviceModel);\n\n            return new BaseCommandResult(true, \"DeviceModel Saved with Success!\", deviceModel);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\DeviceModelHandler.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 42, "end_line": 61, "language": "cs", "text": "\n        public IBaseCommandResult Handle(UpdateDeviceModelCommand command)\n        {\n            command.Validate();\n            if (command.Invalid)\n                return new BaseCommandResult(false, \"Need to fix the errors on DeviceModel\", command.Notifications);\n\n            var manufacturer = _manufacturerRepository.GetById(command.ManufacturerId);\n            if (manufacturer == null)\n                return new BaseCommandResult(false, \"Manufacturer not found\", null);\n\n            var deviceModel = _repository.GetById(command.Id);\n            if (deviceModel == null)\n                return new BaseCommandResult(false, \"DeviceModel not found\", null);\n\n            deviceModel.Update(command.Description, manufacturer);\n            _repository.Update(deviceModel);\n\n            return new BaseCommandResult(true, \"User Updated with Success!\", deviceModel);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\DeviceModelHandler.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 62, "end_line": 72, "language": "cs", "text": "\n        public IBaseCommandResult Handle(Guid id)\n        {\n            var deviceModel = _repository.GetById(id);\n            if (deviceModel == null)\n                return new BaseCommandResult(false, \"DeviceModel not found\", null);\n\n            deviceModel.Remove();\n            _repository.Update(deviceModel);\n            return new BaseCommandResult(true, \"DeviceModel Deleted with Success!\", null);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\EquipmentHandler.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 19, "end_line": 25, "language": "cs", "text": "        public EquipmentHandler(IEquipmentRepository repository, IDeviceModelRepository deviceModelRepository, IUserRepository userRepository, IManufacturerRepository manufacturerRepository)\n        {\n            _repository = repository;\n            _deviceModelRepository = deviceModelRepository;\n            _userRepository = userRepository;\n            _manufacturerRepository = manufacturerRepository;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\EquipmentHandler.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 26, "end_line": 56, "language": "cs", "text": "\n        public IBaseCommandResult Handle(CreateEquipmentCommand command)\n        {\n            command.Validate();\n            if (command.Invalid)\n                return new BaseCommandResult(false, \"Need to fix the errors on Equipment\", command.Notifications);\n\n            var user = _userRepository.GetById(command.UserId);\n            if (user == null)\n                return new BaseCommandResult(false, \"User not found\", null);\n\n            //logic here: if manufacturer and/or model don't exists, i will create it and attach to equipment\n            var manufacturer = _manufacturerRepository.GetByDescription(command.Manufacturer);\n            if(manufacturer == null)\n            {\n                manufacturer = new Manufacturer(command.Manufacturer);\n                _manufacturerRepository.Create(manufacturer);                \n            }\n            \n            var deviceModel = _deviceModelRepository.GetByDescriptionAndManufacturer(command.Model, manufacturer);\n            if(deviceModel == null)\n            {\n                deviceModel = new DeviceModel(command.Model, manufacturer);\n                _deviceModelRepository.Create(deviceModel);\n            }\n\n            var equipment = new Equipment(command.AndroidId, command.Imei1, command.Imei2, command.PhoneNumber, command.MacAddress,\n            command.ApiLevel, command.ApiLevelDesc, command.SerialNumber, command.SystemName, command.SystemVersion, deviceModel, user);\n\n            _repository.Create(equipment);\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\EquipmentHandler.cs", "chunk_id": 1, "subchunk_id": 1, "start_line": 55, "end_line": 58, "language": "cs", "text": "            _repository.Create(equipment);\n\n            return new BaseCommandResult(true, \"Equipment Saved with Success!\", new { Id = equipment.Id.ToString() });\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\EquipmentHandler.cs", "chunk_id": 1, "subchunk_id": 2, "start_line": 57, "end_line": 58, "language": "cs", "text": "            return new BaseCommandResult(true, \"Equipment Saved with Success!\", new { Id = equipment.Id.ToString() });\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\EquipmentHandler.cs", "chunk_id": 1, "subchunk_id": 3, "start_line": 58, "end_line": 58, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\EquipmentHandler.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 59, "end_line": 69, "language": "cs", "text": "\n        public IBaseCommandResult Handle(Guid id)\n        {\n            var equipment = _repository.GetById(id);\n            if (equipment == null)\n                return new BaseCommandResult(false, \"Equipment not found\", null);\n\n            equipment.Remove();\n            _repository.Update(equipment);\n            return new BaseCommandResult(true, \"Equipment Deleted with Success!\", null);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\ManufacturerHandler.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 17, "end_line": 21, "language": "cs", "text": "\n        public ManufacturerHandler(IManufacturerRepository repository)\n        {\n            _repository = repository;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\ManufacturerHandler.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 22, "end_line": 34, "language": "cs", "text": "\n        public IBaseCommandResult Handle(CreateManufacturerCommand command)\n        {\n            command.Validate();\n            if (command.Invalid)\n                return new BaseCommandResult(false, \"Need to fix the errors on Manufacturer\", command.Notifications);\n\n            var manufacturer = new Manufacturer(command.Description);\n\n            _repository.Create(manufacturer);\n\n            return new BaseCommandResult(true, \"Manufacturer Saved with Success!\", manufacturer);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\ManufacturerHandler.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 35, "end_line": 51, "language": "cs", "text": "\n        public IBaseCommandResult Handle(UpdateManufacturerCommand command)\n        {\n            command.Validate();\n            if (command.Invalid)\n                return new BaseCommandResult(false, \"Need to fix the errors on Manufacturer\", command.Notifications);\n\n            var manufacturer = _repository.GetById(command.Id);\n            if (manufacturer == null)\n                return new BaseCommandResult(false, \"Manufacturer not found\", null);\n\n            manufacturer.Update(command.Description);\n\n            _repository.Update(manufacturer);\n\n            return new BaseCommandResult(true, \"Manufacturer Updated with Success!\", manufacturer);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\ManufacturerHandler.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 52, "end_line": 62, "language": "cs", "text": "\n        public IBaseCommandResult Handle(Guid id)\n        {\n            var manufacturer = _repository.GetById(id);\n            if (manufacturer == null)\n                return new BaseCommandResult(false, \"Manufacturer not found\", null);\n\n            manufacturer.Remove();\n            _repository.Update(manufacturer);\n            return new BaseCommandResult(true, \"Manufacturer Deleted with Success!\", null);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\UserHandler.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 24, "end_line": 30, "language": "cs", "text": "\n        public UserHandler(IUserRepository repository, IUserClaimRepository userClaimRepository, IClaimRepository claimRepository)\n        {\n            _repository = repository;\n            _userClaimRepository = userClaimRepository;\n            _claimRepository = claimRepository;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\UserHandler.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 31, "end_line": 56, "language": "cs", "text": "\n        public IBaseCommandResult Handle(CreateUserCommand command)\n        {\n            _repository.MockDataCreator(); //note: When i create my first user, database will be filled with TEST data. Comment this line if you don't want it.\n\n            // Fail Fast Validation\n            command.Validate();\n            if (command.Invalid)\n                return new BaseCommandResult(false, \"Need to fix the errors on User\", command.Notifications);\n\n            var userByUsername = _repository.GetByLogin(command.UserName);\n            if (userByUsername != null)\n                return new BaseCommandResult(true, \"Username Already exists.\", null);\n\n            // if i pass the validation, i should create a new user\n            var user = new User(command.AditionalInfo,\n                new Name(command.FirstName, command.LastName),\n                new Document(command.CountryRegistryNumber, command.StateRegistryNumber),\n                new Phone(command.PhoneNumber1, command.PhoneNumber2, command.MobilePhoneNumber1, command.MobilePhoneNumber2),\n                new Email(command.EmailAddress),\n                new Address(command.Street, command.StreetNumber, command.NeighborHood, command.City, command.ZipCode),\n                new UserAccount(command.UserName, command.Password));\n\n            // Save on Database\n            _repository.Create(user);\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\UserHandler.cs", "chunk_id": 1, "subchunk_id": 1, "start_line": 55, "end_line": 70, "language": "cs", "text": "            _repository.Create(user);\n\n            // Note: Here I`ll simply add all CLAIMS to this New User, so basically the user will access everything. As described in README.MD\n            // you should adapt this rule to your business (like creating claims based on a \"Profile\" or a Screen to select claims to the user)\n            // because this sample is not a sample of \"real business\" but development, we will simply give user all claims.\n            var claims = _claimRepository.Get();\n            var claimsForUser = new List<UserClaim>();\n            foreach (Claim cla in claims)\n            {\n                claimsForUser.Add(new UserClaim(user, cla));\n            }\n\n            _userClaimRepository.AddUserClaims(claimsForUser);\n            // Return the Value\n            return new BaseCommandResult(true, \"User Saved with Success! You can use it for login now.\", null);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\UserHandler.cs", "chunk_id": 1, "subchunk_id": 2, "start_line": 69, "end_line": 70, "language": "cs", "text": "            return new BaseCommandResult(true, \"User Saved with Success! You can use it for login now.\", null);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\UserHandler.cs", "chunk_id": 1, "subchunk_id": 3, "start_line": 70, "end_line": 70, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\UserHandler.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 71, "end_line": 93, "language": "cs", "text": "\n        public IBaseCommandResult Handle(UpdateUserCommand command)\n        {\n            command.Validate();\n            if (command.Invalid)\n                return new BaseCommandResult(false, \"Need to fix the errors on User\", command.Notifications);\n\n            var user = _repository.GetById(command.Id);\n            if (user == null)\n                return new BaseCommandResult(false, \"User not found\", null);\n\n            user.Update(command.AditionalInfo,\n                new Name(command.FirstName, command.LastName),\n                new Document(command.CountryRegistryNumber, command.StateRegistryNumber),\n                new Phone(command.PhoneNumber1, command.PhoneNumber2, command.MobilePhoneNumber1, command.MobilePhoneNumber2),\n                new Email(command.EmailAddress),\n                new Address(command.Street, command.StreetNumber, command.NeighborHood, command.City, command.ZipCode),\n                new UserAccount(command.UserName, command.Password));\n\n            _repository.Update(user);\n\n            return new BaseCommandResult(true, \"User Updated with Success!\", null);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\UserHandler.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 94, "end_line": 104, "language": "cs", "text": "\n        public IBaseCommandResult Handle(Guid id)\n        {\n            var user = _repository.GetById(id);\n            if (user == null)\n                return new BaseCommandResult(false, \"User not found\", null);\n\n            user.Remove();\n            _repository.Update(user);\n            return new BaseCommandResult(true, \"User Deleted with Success!\", null);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\UserHandler.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 105, "end_line": 130, "language": "cs", "text": "\n        public GetLoggedUserResult Handle(LoginUserCommand command)\n        {\n            command.Validate();\n            if (command.Invalid)\n                return new GetLoggedUserResult(false, \"Cannot login because invalid information\", \"\", \"\", \"\", \"\", null);\n\n            var user = _repository.GetByLogin(command.UserName);\n            if (user == null)\n                return new GetLoggedUserResult(false, \"Cannot find UserName or Password\", \"\", \"\", \"\", \"\", null);\n\n            if (!user.UserAccount.Authenticate(command.UserName, command.Password))\n                return new GetLoggedUserResult(false, \"Cannot find UserName or Password\", \"\", \"\", \"\", \"\", null);\n\n            // If pass, user was authenticated, so i need to get the claims\n            var userClaim = _userClaimRepository.GetByUser(user);\n            List<string> Claims = new List<string>();\n\n            foreach (UserClaim item in userClaim)\n            {\n                Claims.Add(item.Claim.ClaimName);\n            }\n\n            //TO-DO: Need to load the CLAIMS here and return on Obj instead of user\n            return new GetLoggedUserResult(true, \"Logged with Success.\", user.Id.ToString(), user.Name.ToString(), user.Email.EmailAddress.ToString(), user.UserAccount.UserName, Claims);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Handlers\\Contracts\\IHandler.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 8, "language": "cs", "text": "        IBaseCommandResult Handle(T command);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\obj\\Debug\\netstandard2.0\\AppFullStackDemo.Domain.AssemblyInfo.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 23, "language": "cs", "text": "//------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by a tool.\n//     Runtime Version:4.0.30319.42000\n//\n//     Changes to this file may cause incorrect behavior and will be lost if\n//     the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\n\nusing System;\nusing System.Reflection;\n\n[assembly: System.Reflection.AssemblyCompanyAttribute(\"AppFullStackDemo.Domain\")]\n[assembly: System.Reflection.AssemblyConfigurationAttribute(\"Debug\")]\n[assembly: System.Reflection.AssemblyFileVersionAttribute(\"1.0.0.0\")]\n[assembly: System.Reflection.AssemblyInformationalVersionAttribute(\"1.0.0\")]\n[assembly: System.Reflection.AssemblyProductAttribute(\"AppFullStackDemo.Domain\")]\n[assembly: System.Reflection.AssemblyTitleAttribute(\"AppFullStackDemo.Domain\")]\n[assembly: System.Reflection.AssemblyVersionAttribute(\"1.0.0.0\")]\n\n// Generated by the MSBuild WriteCodeFragment class.\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Queries\\DeviceModelQueries.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 13, "language": "cs", "text": "        public static Expression<Func<DeviceModel, bool>> GetAll()\n        {\n            return x => x.Status == ECommonStatus.Active; // && x.Done == true;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Queries\\DeviceModelQueries.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 14, "end_line": 18, "language": "cs", "text": "\n        public static Expression<Func<DeviceModel, bool>> GetById(Guid id)\n        {\n            return x => x.Id == id;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Queries\\EquipmentQueries.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 11, "end_line": 14, "language": "cs", "text": "        public static Expression<Func<Equipment, bool>> GetAll()\n        {\n            return x => x.Status == ECommonStatus.Active; // && x.Done == true;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Queries\\EquipmentQueries.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 15, "end_line": 19, "language": "cs", "text": "\n        public static Expression<Func<Equipment, bool>> GetById(Guid id)\n        {\n            return x => x.Id == id;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Queries\\EquipmentQueries.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 20, "end_line": 24, "language": "cs", "text": "\n        public static Expression<Func<Equipment, bool>> GetByUser(Guid UserId)\n        {\n            return x => x.User.Id == UserId;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Queries\\ManufacturerQueries.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 13, "language": "cs", "text": "        public static Expression<Func<Manufacturer, bool>> GetAll()\n        {\n            return x => x.Status == ECommonStatus.Active; // && x.Done == true;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Queries\\ManufacturerQueries.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 14, "end_line": 18, "language": "cs", "text": "\n        public static Expression<Func<Manufacturer, bool>> GetById(Guid id)\n        {\n            return x => x.Id == id;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Queries\\UserQueries.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 13, "language": "cs", "text": "        public static Expression<Func<User, bool>> GetByLogin(string userName)\n        {\n            return x => x.UserAccount.UserName == userName;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Queries\\UserQueries.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 14, "end_line": 18, "language": "cs", "text": "\n        public static Expression<Func<User, bool>> GetById(Guid id)\n        {\n            return x => x.Id == id;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Queries\\UserQueries.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 19, "end_line": 23, "language": "cs", "text": "\n        public static Expression<Func<User, bool>> GetAll()\n        {\n            return x => x.Status == ECommonStatus.Active; // && x.Done == true;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IDeviceModelRepository.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 10, "language": "cs", "text": "        void Create(DeviceModel deviceModel);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IDeviceModelRepository.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 11, "language": "cs", "text": "        void Update(DeviceModel deviceModel);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IDeviceModelRepository.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 12, "end_line": 12, "language": "cs", "text": "        GetDeviceModelResult GetDeviceModel(Guid id);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IDeviceModelRepository.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 13, "end_line": 13, "language": "cs", "text": "        IEnumerable<GetDeviceModelResult> GetDeviceModels();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IDeviceModelRepository.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 14, "end_line": 14, "language": "cs", "text": "        DeviceModel GetById(Guid id);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IDeviceModelRepository.cs", "chunk_id": 5, "subchunk_id": 0, "start_line": 15, "end_line": 15, "language": "cs", "text": "        DeviceModel GetByDescriptionAndManufacturer(string description, Manufacturer manufacturer);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IEquipmentRepository.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 10, "language": "cs", "text": "        void Create(Equipment equipment);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IEquipmentRepository.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 11, "language": "cs", "text": "        void Update(Equipment equipment);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IEquipmentRepository.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 12, "end_line": 12, "language": "cs", "text": "        Equipment GetById(Guid id);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IEquipmentRepository.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 13, "end_line": 13, "language": "cs", "text": "        IEnumerable<Equipment> GetEquipmentsEnt();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IEquipmentRepository.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 14, "end_line": 14, "language": "cs", "text": "        IEnumerable<GetEquipmentResultResumed> GetEquipments();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IEquipmentRepository.cs", "chunk_id": 5, "subchunk_id": 0, "start_line": 15, "end_line": 15, "language": "cs", "text": "        GetEquipmentResult GetEquipment(Guid id);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IEquipmentRepository.cs", "chunk_id": 6, "subchunk_id": 0, "start_line": 16, "end_line": 16, "language": "cs", "text": "        IEnumerable<GetEquipmentResultResumed> GetEquipmentsByUser(Guid userId);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IManufacturerRepository.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 10, "language": "cs", "text": "        void Create(Manufacturer manufacturer);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IManufacturerRepository.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 11, "language": "cs", "text": "        void Update(Manufacturer manufacturer);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IManufacturerRepository.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 12, "end_line": 12, "language": "cs", "text": "        Manufacturer GetById(Guid id);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IManufacturerRepository.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 13, "end_line": 13, "language": "cs", "text": "        Manufacturer GetByDescription(string description);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IManufacturerRepository.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 14, "end_line": 14, "language": "cs", "text": "        IEnumerable<GetManufacturerResult> GetManufacturers();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IManufacturerRepository.cs", "chunk_id": 5, "subchunk_id": 0, "start_line": 15, "end_line": 15, "language": "cs", "text": "        GetManufacturerResult GetManufacturer(Guid id);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IUserRepository.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 10, "language": "cs", "text": "        void Create(User user);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IUserRepository.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 11, "language": "cs", "text": "        void Update(User user);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IUserRepository.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 12, "end_line": 12, "language": "cs", "text": "        User GetById(Guid id);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IUserRepository.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 13, "end_line": 13, "language": "cs", "text": "        User GetByLogin(string userName);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IUserRepository.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 14, "end_line": 14, "language": "cs", "text": "        IEnumerable<GetUserResumed> GetUsers();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IUserRepository.cs", "chunk_id": 5, "subchunk_id": 0, "start_line": 15, "end_line": 15, "language": "cs", "text": "        GetUserResult GetUser(Guid id);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\IUserRepository.cs", "chunk_id": 6, "subchunk_id": 0, "start_line": 16, "end_line": 16, "language": "cs", "text": "        bool MockDataCreator();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\Security\\IClaimRepository.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 8, "language": "cs", "text": "        IEnumerable<Claim> Get();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\Security\\IUserClaimRepository.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 9, "language": "cs", "text": "        IEnumerable<UserClaim> GetByUser(User user);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Repositories\\Security\\IUserClaimRepository.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 10, "end_line": 10, "language": "cs", "text": "        void AddUserClaims(List<UserClaim> usersClaims);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\BaseCommandResult.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 14, "language": "cs", "text": "        public BaseCommandResult(bool success, string message, object responseDataObj)\n        {\n            Success = success;\n            Message = message;\n            ResponseDataObj = responseDataObj;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\BaseCommandResult.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 15, "end_line": 16, "language": "cs", "text": "\n        public BaseCommandResult() { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\IBaseCommandResult.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 11, "language": "cs", "text": "    public interface IBaseCommandResult\n    {\n        object ResponseDataObj { get; set; }\n\n        string Message { get; set; }\n\n        bool Success { get; set; }\n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\DashBoard\\GetDashBoardInfo.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 9, "language": "cs", "text": "        public GetDashBoardInfo(string field, string value)\n        {\n            Field = field;\n            Value = value;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\DashBoard\\GetDashBoardResult.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 14, "language": "cs", "text": "\n        public GetDashBoardResult(List<GetDashBoardInfo> listOfAndroids, List<GetDashBoardInfo> listOfManufacturers)\n        {\n            ListOfAndroid = listOfAndroids;\n            ListOfManufacturers = listOfManufacturers;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\DeviceModel\\GetDeviceModelResult.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 11, "language": "cs", "text": "    public class GetDeviceModelResult\n    {\n        public string Id { get; set; }\n        public string Description { get; set; }\n        public string ManufacturerId { get; set; }\n        public string Manufacturer { get; set; }\n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\Equipment\\GetEquipmentResult.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 23, "language": "cs", "text": "    public class GetEquipmentResult\n    {\n        public string Id { get; set; }\n        public string AndroidId { get; set; }\n        public string Imei1 { get; set; }\n        public string Imei2 { get; set; }\n        public string PhoneNumber { get; set; }\n        public string MacAddress { get; set; }\n        public string ApiLevel { get; set; }\n        public string ApiLevelDesc { get; set; }\n        public string SerialNumber { get; set; }\n        public string SystemName { get; set; }\n        public string SystemVersion { get; set; }\n        public Guid DeviceModelId { get; set; }\n        public string DeviceModel { get; set; }\n        public Guid UserId { get; set; }\n        public string User { get; set; }\n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\Equipment\\GetEquipmentResultResumed.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 16, "language": "cs", "text": "    public class GetEquipmentResultResumed\n    {\n        public string Id { get; set; }\n        public string PhoneNumber { get; set; }\n        public string ApiLevel { get; set; }\n        public string ApiLevelDesc { get; set; }\n        public string SerialNumber { get; set; }\n        public string SystemName { get; set; }\n        public string SystemVersion { get; set; }\n        public string DeviceModel { get; set; }\n        public string User { get; set; }\n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\Manufacturer\\GetManufacturerResult.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 9, "language": "cs", "text": "    public class GetManufacturerResult\n    {\n        public string Id { get; set; }\n        public string Description { get; set; }\n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\User\\GetLoggedUserResult.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 11, "language": "cs", "text": "        public GetLoggedUserResult()\n        {\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\User\\GetLoggedUserResult.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 22, "language": "cs", "text": "\n        public GetLoggedUserResult(bool success, string message, string idUser, string nameUser, string emailAddress, string usernameOrEmail, object data)\n        {\n            Success = success;\n            Message = message;\n            IdUser = idUser;\n            NameUser = nameUser;\n            EmailAddress = emailAddress;\n            UsernameOrEmail = usernameOrEmail;\n            Data = data;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\User\\GetUserResult.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 26, "language": "cs", "text": "    public class GetUserResult\n    {\n        public string Id { get; set; }\n        public string AditionalInfo { get; set; }\n        public string CountryRegistryNumber { get; set; }\n        public string StateRegistryNumber { get; set; }\n        public string EmailAddress { get; set; }\n        public string FirstName { get; set; }\n        public string LastName { get; set; }\n        public string MobilePhoneNumber1 { get; set; }\n        public string MobilePhoneNumber2 { get; set; }\n        public string PhoneNumber1 { get; set; }\n        public string PhoneNumber2 { get; set; }\n        public string City { get; set; }\n        public string NeighborHood { get; set; }\n        public string Street { get; set; }\n        public string StreetNumber { get; set; }\n        public string ZipCode { get; set; }\n        public string UserName { get; set; }\n        public string Password { get; set; }\n        public string ConfirmPassword { get; set; }\n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\User\\GetUserResumed.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 11, "language": "cs", "text": "    public class GetUserResumed\n    {\n        public string Id { get; set; }\n        public string Name { get; set; }\n        public string Email { get; set; }\n        public string City { get; set; }\n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\Results\\User\\TokenResult.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 16, "language": "cs", "text": "    //This is a Model to Join the Token and the Refresh Token (class will be filled and send to Serialize on JsonSerializer)\n    public class TokenResult\n    {\n        public string Token { get; set; }\n\n        public bool LoggedSuccessful { get; set; }\n\n        public string UserName { get; set; }\n\n        public string UserEmail { get; set; }\n\n        public string UserId { get; set; }\n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\Address.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 13, "language": "cs", "text": "        public Address(string street, string streetNumber, string neighborHood, string city, string zipCode)\n        {\n            Street = street;\n            StreetNumber = streetNumber;\n            NeighborHood = neighborHood;\n            City = city;\n            ZipCode = zipCode;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\Address.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 14, "end_line": 15, "language": "cs", "text": "\n        protected Address() { } //This constructor will be used by EF during migrations (for some reason, EF needs a empty constructor to run)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\Document.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 10, "language": "cs", "text": "        public Document(string countryRegistryNumber, string stateRegistryNumber)\n        {\n            CountryRegistryNumber = countryRegistryNumber;\n            StateRegistryNumber = stateRegistryNumber;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\Document.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 12, "language": "cs", "text": "\n        protected Document() { } //This constructor will be used by EF during migrations (for some reason, EF needs a empty constructor to run)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\Email.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 9, "language": "cs", "text": "        public Email(string emailAddress)\n        {\n            EmailAddress = emailAddress;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\Email.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 10, "end_line": 11, "language": "cs", "text": "\n        protected Email() { } //This constructor will be used by EF during migrations (for some reason, EF needs a empty constructor to run)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\Name.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 10, "language": "cs", "text": "        public Name(string firstName, string lastName)\n        {\n            FirstName = firstName;\n            LastName = lastName;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\Name.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 12, "language": "cs", "text": "\n        protected Name() { } //This constructor will be used by EF during migrations (for some reason, EF needs a empty constructor to run)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\Name.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 16, "end_line": 20, "language": "cs", "text": "\n        public override string ToString()\n        {\n            return $\"{FirstName} {LastName}\";\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\Phone.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 12, "language": "cs", "text": "        public Phone(string phoneNumber1, string phoneNumber2, string mobilePhoneNumber1, string mobilePhoneNumber2)\n        {\n            PhoneNumber1 = phoneNumber1;\n            PhoneNumber2 = phoneNumber2;\n            MobilePhoneNumber1 = mobilePhoneNumber1;\n            MobilePhoneNumber2 = mobilePhoneNumber2;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\Phone.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 14, "language": "cs", "text": "\n        protected Phone() { } //This constructor will be used by EF during migrations (for some reason, EF needs a empty constructor to run)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\UserAccount.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 11, "language": "cs", "text": "        public UserAccount(string username, string password)\n        {\n            UserName = username;\n            Password = EncryptDecryptData.Encrypt(password);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\UserAccount.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 13, "language": "cs", "text": "\n        protected UserAccount() { } //This constructor will be used by EF during migrations (for some reason, EF needs a empty constructor to run)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\UserAccount.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 18, "end_line": 26, "language": "cs", "text": "\n        public bool Authenticate(string username, string password)\n        {\n            var passwordFromDbDecrypted = EncryptDecryptData.Decrypt(Password);\n\n            if (UserName == username && password == passwordFromDbDecrypted)\n                return true;\n            return false;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Domain\\ValueObjects\\UserAccount.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 27, "end_line": 31, "language": "cs", "text": "\n        public string DecryptPassword()\n        {\n            return EncryptDecryptData.Decrypt(Password);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Context\\AppFullStackDemoContext.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 11, "end_line": 19, "language": "cs", "text": "        //Note: Docs about these maps, relatinships can be found inside the Entities (Models)\n        //Note: 18092019 starting migration to PostgreSQL Database. Wow!\n\n        #region Constructor and DbSets\n\n        public AppFullStackDemoContext(DbContextOptions<AppFullStackDemoContext> options) : base(options)\n        {\n\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Context\\AppFullStackDemoContext.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 20, "end_line": 23, "language": "cs", "text": "\n        public AppFullStackDemoContext()\n        {\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Context\\AppFullStackDemoContext.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 36, "end_line": 43, "language": "cs", "text": "\n        protected override void OnConfiguring(DbContextOptionsBuilder optionsBuilder)\n        {\n            if (!optionsBuilder.IsConfigured) //if it's not configured and not comming from anysource, I'll use the default connection here\n            {\n                optionsBuilder.UseNpgsql(\"server=postgres_container;port=5432;userid=postgres;database=AppFullStackDemo;password=@1234Fd#;\");\n            }\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Context\\AppFullStackDemoContext.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 44, "end_line": 57, "language": "cs", "text": "\n        #endregion Constructor and DbSets\n\n        #region OnModelCreating\n        protected override void OnModelCreating(ModelBuilder builder)\n        {\n            base.OnModelCreating(builder);\n            builder.ApplyConfiguration(new ClaimMap());\n            builder.ApplyConfiguration(new UserMap());\n            builder.ApplyConfiguration(new ManufacturerMap());\n            builder.ApplyConfiguration(new UserClaimMap());\n            builder.ApplyConfiguration(new DeviceModelMap());\n            builder.ApplyConfiguration(new EquipmentMap());\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Maps\\DeviceModelMap.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 25, "language": "cs", "text": "        public void Configure(EntityTypeBuilder<DeviceModel> builder)\n        {\n            builder.ToTable(\"DeviceModel\");\n            builder.HasKey(c => c.Id);\n            builder.Property(c => c.CreatedBy).IsRequired();\n            builder.Property(c => c.UpdatedBy).IsRequired();\n            builder.Property(c => c.CreatedIn).IsRequired();\n            builder.Property(c => c.UpdatedIn).IsRequired();\n            builder.Property(c => c.Status).IsRequired();\n\n            builder\n                .HasOne(p => p.Manufacturer)\n                .WithMany(b => b.DevicesModel)\n                .OnDelete(DeleteBehavior.Restrict);\n\n            builder.Ignore(c => c.Notifications);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Maps\\EquipmentMap.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 38, "language": "cs", "text": "        public void Configure(EntityTypeBuilder<Equipment> builder)\n        {\n            builder.ToTable(\"Equipment\");\n            builder.HasKey(c => c.Id);\n            builder.Property(c => c.AndroidId).HasMaxLength(30).IsRequired();\n            builder.Property(c => c.Imei1).HasMaxLength(30);\n            builder.Property(c => c.Imei2).HasMaxLength(30);\n            builder.Property(c => c.PhoneNumber).HasMaxLength(30);\n            builder.Property(c => c.MacAddress).HasMaxLength(30);\n            builder.Property(c => c.ApiLevel).HasMaxLength(10).IsRequired();\n            builder.Property(c => c.ApiLevelDesc).HasMaxLength(30).IsRequired();\n            builder.Property(c => c.SerialNumber).HasMaxLength(40);\n            builder.Property(c => c.SystemName).HasMaxLength(20);\n            builder.Property(c => c.SystemVersion).HasMaxLength(20).IsRequired();\n\n            builder.Property(c => c.CreatedBy).IsRequired();\n            builder.Property(c => c.UpdatedBy).IsRequired();\n            builder.Property(c => c.CreatedIn).IsRequired();\n            builder.Property(c => c.UpdatedIn).IsRequired();\n\n            builder\n              .HasOne(p => p.User)\n              .WithMany(b => b.EquipmentsList)\n              .OnDelete(DeleteBehavior.Restrict);\n\n            builder\n              .HasOne(p => p.DeviceModel)\n              .WithMany(b => b.EquipmentsList)\n              .OnDelete(DeleteBehavior.Cascade); //ON EF: Tables with Multiple FK can have just one Cascade\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Maps\\EquipmentMap.cs", "chunk_id": 0, "subchunk_id": 1, "start_line": 37, "end_line": 40, "language": "cs", "text": "              .OnDelete(DeleteBehavior.Cascade); //ON EF: Tables with Multiple FK can have just one Cascade\n\n            builder.Ignore(c => c.Notifications);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Maps\\EquipmentMap.cs", "chunk_id": 0, "subchunk_id": 2, "start_line": 39, "end_line": 40, "language": "cs", "text": "            builder.Ignore(c => c.Notifications);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Maps\\EquipmentMap.cs", "chunk_id": 0, "subchunk_id": 3, "start_line": 40, "end_line": 40, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Maps\\ManufacturerMap.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 22, "language": "cs", "text": "        public void Configure(EntityTypeBuilder<Manufacturer> builder)\n        {\n            builder.ToTable(\"Manufacturer\");\n            builder.HasKey(c => c.Id);\n            builder.Property(c => c.Description).IsRequired().HasMaxLength(30);\n            builder.Property(c => c.CreatedBy).IsRequired();\n            builder.Property(c => c.UpdatedBy).IsRequired();\n            builder.Property(c => c.CreatedIn).IsRequired();\n            builder.Property(c => c.UpdatedIn).IsRequired();\n            builder.Property(c => c.Status).IsRequired();\n\n            //here i had to (1) show all my valueobject and (2) says to EF ignore the Notifications inside it\n            builder.Ignore(c => c.Notifications);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Maps\\UserMap.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 29, "language": "cs", "text": "        public void Configure(EntityTypeBuilder<User> builder)\n        {\n            builder.ToTable(\"User\");\n            builder.HasKey(c => c.Id);\n            builder.Property(c => c.AditionalInfo).IsRequired().HasMaxLength(200);\n            builder.Property(c => c.CreatedBy).IsRequired();\n            builder.Property(c => c.UpdatedBy).IsRequired();\n            builder.Property(c => c.CreatedIn).IsRequired();\n            builder.Property(c => c.UpdatedIn).IsRequired();\n            builder.Property(c => c.Status).IsRequired();\n\n            // here i had to (1) show all my valueobject and (2) says to EF ignore the Notifications inside it\n            // Note: By Default EF will create fields with the ValueObject name (Address_Street, Address_City, Name_FirstName)\n            // If you want to gave your own custom name just add an annotattion to it: HasColumnName(\"FirstName\")\n            builder.OwnsOne(c => c.Address).Property(c => c.Street).IsRequired();\n            builder.OwnsOne(c => c.Address).Property(c => c.StreetNumber).HasMaxLength(20).IsRequired();\n            builder.OwnsOne(c => c.Address).Property(c => c.NeighborHood).HasMaxLength(60).IsRequired();\n            builder.OwnsOne(c => c.Address).Property(c => c.City).HasMaxLength(60).IsRequired();\n            builder.OwnsOne(c => c.Address).Property(c => c.ZipCode).HasMaxLength(10);\n\n            builder.OwnsOne(c => c.Name).Property(c => c.FirstName).HasMaxLength(40).IsRequired();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Maps\\UserMap.cs", "chunk_id": 0, "subchunk_id": 1, "start_line": 28, "end_line": 45, "language": "cs", "text": "\n            builder.OwnsOne(c => c.Name).Property(c => c.FirstName).HasMaxLength(40).IsRequired();\n            builder.OwnsOne(c => c.Name).Property(c => c.LastName).HasMaxLength(80).IsRequired();\n\n            builder.OwnsOne(c => c.Document).Property(c => c.CountryRegistryNumber).HasMaxLength(20).IsRequired();\n            builder.OwnsOne(c => c.Document).Property(c => c.StateRegistryNumber).HasMaxLength(20);\n\n            builder.OwnsOne(c => c.Phone).Property(c => c.PhoneNumber1).HasMaxLength(20);\n            builder.OwnsOne(c => c.Phone).Property(c => c.PhoneNumber2).HasMaxLength(20);\n            builder.OwnsOne(c => c.Phone).Property(c => c.MobilePhoneNumber1).HasMaxLength(20);\n            builder.OwnsOne(c => c.Phone).Property(c => c.MobilePhoneNumber2).HasMaxLength(20);\n\n            builder.OwnsOne(c => c.Email).Property(c => c.EmailAddress).HasMaxLength(100).IsRequired();\n\n            builder.OwnsOne(c => c.UserAccount).Property(c => c.UserName).HasMaxLength(100).IsRequired();\n            builder.OwnsOne(c => c.UserAccount).Property(c => c.Password).HasMaxLength(120).IsRequired();\n            builder.Ignore(c => c.Notifications);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Maps\\UserMap.cs", "chunk_id": 0, "subchunk_id": 2, "start_line": 44, "end_line": 45, "language": "cs", "text": "            builder.Ignore(c => c.Notifications);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Maps\\UserMap.cs", "chunk_id": 0, "subchunk_id": 3, "start_line": 45, "end_line": 45, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Maps\\Security\\ClaimMap.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 22, "language": "cs", "text": "        public void Configure(EntityTypeBuilder<Claim> builder)\n        {\n            builder.ToTable(\"Claim\");\n            builder.HasKey(c => c.Id);\n            builder.Property(c => c.ClaimName).HasMaxLength(40).IsRequired();\n            builder.Property(c => c.ClaimUrlOpt).HasMaxLength(80).IsRequired();\n            builder.Property(c => c.CreatedBy).IsRequired();\n            builder.Property(c => c.UpdatedBy).IsRequired();\n            builder.Property(c => c.CreatedIn).IsRequired();\n            builder.Property(c => c.UpdatedIn).IsRequired();\n            builder.Property(c => c.Status).IsRequired();\n\n            builder.Ignore(c => c.Notifications);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Maps\\Security\\UserClaimMap.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 30, "language": "cs", "text": "        public void Configure(EntityTypeBuilder<UserClaim> builder)\n        {\n            builder.ToTable(\"UserClaim\");\n            builder.HasKey(c => c.Id);\n\n            builder.Property(c => c.CreatedBy).IsRequired();\n            builder.Property(c => c.UpdatedBy).IsRequired();\n            builder.Property(c => c.CreatedIn).IsRequired();\n            builder.Property(c => c.UpdatedIn).IsRequired();\n\n            builder\n              .HasOne(p => p.User)\n              .WithMany(b => b.UserClaimList)\n              .OnDelete(DeleteBehavior.Restrict);\n\n            builder\n              .HasOne(p => p.Claim)\n              .WithMany(b => b.UserClaimList)\n              .OnDelete(DeleteBehavior.Cascade); //ON EF: Tables with Multiple FK can have just one Cascade\n\n            builder.Ignore(c => c.Notifications);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 36, "language": "cs", "text": "        protected override void Up(MigrationBuilder migrationBuilder)\n        {\n            migrationBuilder.CreateTable(\n                name: \"Claim\",\n                columns: table => new\n                {\n                    Id = table.Column<Guid>(nullable: false),\n                    CreatedBy = table.Column<string>(nullable: false),\n                    CreatedIn = table.Column<DateTime>(nullable: false),\n                    Status = table.Column<int>(nullable: false),\n                    UpdatedBy = table.Column<string>(nullable: false),\n                    UpdatedIn = table.Column<DateTime>(nullable: false),\n                    ClaimName = table.Column<string>(maxLength: 40, nullable: false),\n                    ClaimUrlOpt = table.Column<string>(maxLength: 80, nullable: false)\n                },\n                constraints: table =>\n                {\n                    table.PrimaryKey(\"PK_Claim\", x => x.Id);\n                });\n\n            migrationBuilder.CreateTable(\n                name: \"Manufacturer\",\n                columns: table => new\n                {\n                    Id = table.Column<Guid>(nullable: false),\n                    CreatedBy = table.Column<string>(nullable: false),\n                    CreatedIn = table.Column<DateTime>(nullable: false),\n                    Status = table.Column<int>(nullable: false),\n                    UpdatedBy = table.Column<string>(nullable: false),"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.cs", "chunk_id": 0, "subchunk_id": 1, "start_line": 35, "end_line": 59, "language": "cs", "text": "                    Status = table.Column<int>(nullable: false),\n                    UpdatedBy = table.Column<string>(nullable: false),\n                    UpdatedIn = table.Column<DateTime>(nullable: false),\n                    Description = table.Column<string>(maxLength: 30, nullable: false)\n                },\n                constraints: table =>\n                {\n                    table.PrimaryKey(\"PK_Manufacturer\", x => x.Id);\n                });\n\n            migrationBuilder.CreateTable(\n                name: \"User\",\n                columns: table => new\n                {\n                    Id = table.Column<Guid>(nullable: false),\n                    CreatedBy = table.Column<string>(nullable: false),\n                    CreatedIn = table.Column<DateTime>(nullable: false),\n                    Status = table.Column<int>(nullable: false),\n                    UpdatedBy = table.Column<string>(nullable: false),\n                    UpdatedIn = table.Column<DateTime>(nullable: false),\n                    AditionalInfo = table.Column<string>(maxLength: 200, nullable: false),\n                    Document_CountryRegistryNumber = table.Column<string>(maxLength: 20, nullable: true),\n                    Document_StateRegistryNumber = table.Column<string>(maxLength: 20, nullable: true),\n                    Email_EmailAddress = table.Column<string>(maxLength: 100, nullable: true),\n                    Name_FirstName = table.Column<string>(maxLength: 40, nullable: true),"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.cs", "chunk_id": 0, "subchunk_id": 2, "start_line": 58, "end_line": 78, "language": "cs", "text": "                    Email_EmailAddress = table.Column<string>(maxLength: 100, nullable: true),\n                    Name_FirstName = table.Column<string>(maxLength: 40, nullable: true),\n                    Name_LastName = table.Column<string>(maxLength: 80, nullable: true),\n                    Phone_MobilePhoneNumber1 = table.Column<string>(maxLength: 20, nullable: true),\n                    Phone_MobilePhoneNumber2 = table.Column<string>(maxLength: 20, nullable: true),\n                    Phone_PhoneNumber1 = table.Column<string>(maxLength: 20, nullable: true),\n                    Phone_PhoneNumber2 = table.Column<string>(maxLength: 20, nullable: true),\n                    Address_City = table.Column<string>(maxLength: 60, nullable: true),\n                    Address_NeighborHood = table.Column<string>(maxLength: 60, nullable: true),\n                    Address_Street = table.Column<string>(nullable: true),\n                    Address_StreetNumber = table.Column<string>(maxLength: 20, nullable: true),\n                    Address_ZipCode = table.Column<string>(maxLength: 10, nullable: true),\n                    UserAccount_Password = table.Column<string>(maxLength: 120, nullable: true),\n                    UserAccount_UserName = table.Column<string>(maxLength: 100, nullable: true)\n                },\n                constraints: table =>\n                {\n                    table.PrimaryKey(\"PK_User\", x => x.Id);\n                });\n\n            migrationBuilder.CreateTable("}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.cs", "chunk_id": 0, "subchunk_id": 3, "start_line": 77, "end_line": 107, "language": "cs", "text": "\n            migrationBuilder.CreateTable(\n                name: \"DeviceModel\",\n                columns: table => new\n                {\n                    Id = table.Column<Guid>(nullable: false),\n                    CreatedBy = table.Column<string>(nullable: false),\n                    CreatedIn = table.Column<DateTime>(nullable: false),\n                    Status = table.Column<int>(nullable: false),\n                    UpdatedBy = table.Column<string>(nullable: false),\n                    UpdatedIn = table.Column<DateTime>(nullable: false),\n                    Description = table.Column<string>(nullable: true),\n                    ManufacturerId = table.Column<Guid>(nullable: true)\n                },\n                constraints: table =>\n                {\n                    table.PrimaryKey(\"PK_DeviceModel\", x => x.Id);\n                    table.ForeignKey(\n                        name: \"FK_DeviceModel_Manufacturer_ManufacturerId\",\n                        column: x => x.ManufacturerId,\n                        principalTable: \"Manufacturer\",\n                        principalColumn: \"Id\",\n                        onDelete: ReferentialAction.Restrict);\n                });\n\n            migrationBuilder.CreateTable(\n                name: \"UserClaim\",\n                columns: table => new\n                {\n                    Id = table.Column<Guid>(nullable: false),\n                    CreatedBy = table.Column<string>(nullable: false),"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.cs", "chunk_id": 0, "subchunk_id": 4, "start_line": 106, "end_line": 135, "language": "cs", "text": "                    Id = table.Column<Guid>(nullable: false),\n                    CreatedBy = table.Column<string>(nullable: false),\n                    CreatedIn = table.Column<DateTime>(nullable: false),\n                    Status = table.Column<int>(nullable: false),\n                    UpdatedBy = table.Column<string>(nullable: false),\n                    UpdatedIn = table.Column<DateTime>(nullable: false),\n                    ClaimId = table.Column<Guid>(nullable: true),\n                    UserId = table.Column<Guid>(nullable: true)\n                },\n                constraints: table =>\n                {\n                    table.PrimaryKey(\"PK_UserClaim\", x => x.Id);\n                    table.ForeignKey(\n                        name: \"FK_UserClaim_Claim_ClaimId\",\n                        column: x => x.ClaimId,\n                        principalTable: \"Claim\",\n                        principalColumn: \"Id\",\n                        onDelete: ReferentialAction.Cascade);\n                    table.ForeignKey(\n                        name: \"FK_UserClaim_User_UserId\",\n                        column: x => x.UserId,\n                        principalTable: \"User\",\n                        principalColumn: \"Id\",\n                        onDelete: ReferentialAction.Restrict);\n                });\n\n            migrationBuilder.CreateTable(\n                name: \"Equipment\",\n                columns: table => new\n                {"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.cs", "chunk_id": 0, "subchunk_id": 5, "start_line": 134, "end_line": 154, "language": "cs", "text": "                columns: table => new\n                {\n                    Id = table.Column<Guid>(nullable: false),\n                    CreatedBy = table.Column<string>(nullable: false),\n                    CreatedIn = table.Column<DateTime>(nullable: false),\n                    Status = table.Column<int>(nullable: false),\n                    UpdatedBy = table.Column<string>(nullable: false),\n                    UpdatedIn = table.Column<DateTime>(nullable: false),\n                    AndroidId = table.Column<string>(maxLength: 30, nullable: false),\n                    Imei1 = table.Column<string>(maxLength: 30, nullable: true),\n                    Imei2 = table.Column<string>(maxLength: 30, nullable: true),\n                    PhoneNumber = table.Column<string>(maxLength: 30, nullable: true),\n                    MacAddress = table.Column<string>(maxLength: 30, nullable: true),\n                    ApiLevel = table.Column<string>(maxLength: 10, nullable: false),\n                    ApiLevelDesc = table.Column<string>(maxLength: 30, nullable: false),\n                    SerialNumber = table.Column<string>(maxLength: 40, nullable: true),\n                    SystemName = table.Column<string>(maxLength: 20, nullable: true),\n                    SystemVersion = table.Column<string>(maxLength: 20, nullable: false),\n                    DeviceModelId = table.Column<Guid>(nullable: true),\n                    UserId = table.Column<Guid>(nullable: true)\n                },"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.cs", "chunk_id": 0, "subchunk_id": 6, "start_line": 153, "end_line": 189, "language": "cs", "text": "                    UserId = table.Column<Guid>(nullable: true)\n                },\n                constraints: table =>\n                {\n                    table.PrimaryKey(\"PK_Equipment\", x => x.Id);\n                    table.ForeignKey(\n                        name: \"FK_Equipment_DeviceModel_DeviceModelId\",\n                        column: x => x.DeviceModelId,\n                        principalTable: \"DeviceModel\",\n                        principalColumn: \"Id\",\n                        onDelete: ReferentialAction.Cascade);\n                    table.ForeignKey(\n                        name: \"FK_Equipment_User_UserId\",\n                        column: x => x.UserId,\n                        principalTable: \"User\",\n                        principalColumn: \"Id\",\n                        onDelete: ReferentialAction.Restrict);\n                });\n\n            migrationBuilder.CreateIndex(\n                name: \"IX_DeviceModel_ManufacturerId\",\n                table: \"DeviceModel\",\n                column: \"ManufacturerId\");\n\n            migrationBuilder.CreateIndex(\n                name: \"IX_Equipment_DeviceModelId\",\n                table: \"Equipment\",\n                column: \"DeviceModelId\");\n\n            migrationBuilder.CreateIndex(\n                name: \"IX_Equipment_UserId\",\n                table: \"Equipment\",\n                column: \"UserId\");\n\n            migrationBuilder.CreateIndex(\n                name: \"IX_UserClaim_ClaimId\",\n                table: \"UserClaim\","}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.cs", "chunk_id": 0, "subchunk_id": 7, "start_line": 188, "end_line": 196, "language": "cs", "text": "                name: \"IX_UserClaim_ClaimId\",\n                table: \"UserClaim\",\n                column: \"ClaimId\");\n\n            migrationBuilder.CreateIndex(\n                name: \"IX_UserClaim_UserId\",\n                table: \"UserClaim\",\n                column: \"UserId\");\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.cs", "chunk_id": 0, "subchunk_id": 8, "start_line": 195, "end_line": 196, "language": "cs", "text": "                column: \"UserId\");\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.cs", "chunk_id": 0, "subchunk_id": 9, "start_line": 196, "end_line": 196, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 197, "end_line": 217, "language": "cs", "text": "\n        protected override void Down(MigrationBuilder migrationBuilder)\n        {\n            migrationBuilder.DropTable(\n                name: \"Equipment\");\n\n            migrationBuilder.DropTable(\n                name: \"UserClaim\");\n\n            migrationBuilder.DropTable(\n                name: \"DeviceModel\");\n\n            migrationBuilder.DropTable(\n                name: \"Claim\");\n\n            migrationBuilder.DropTable(\n                name: \"User\");\n\n            migrationBuilder.DropTable(\n                name: \"Manufacturer\");\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 16, "end_line": 52, "language": "cs", "text": "        protected override void BuildTargetModel(ModelBuilder modelBuilder)\n        {\n#pragma warning disable 612, 618\n            modelBuilder\n                .HasAnnotation(\"Npgsql:ValueGenerationStrategy\", NpgsqlValueGenerationStrategy.IdentityByDefaultColumn)\n                .HasAnnotation(\"ProductVersion\", \"3.1.5\")\n                .HasAnnotation(\"Relational:MaxIdentifierLength\", 63);\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.DeviceModel\", b =>\n                {\n                    b.Property<Guid>(\"Id\")\n                        .ValueGeneratedOnAdd()\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"CreatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"CreatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<string>(\"Description\")\n                        .HasColumnType(\"text\");\n\n                    b.Property<Guid?>(\"ManufacturerId\")\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<int>(\"Status\")\n                        .HasColumnType(\"integer\");\n\n                    b.Property<string>(\"UpdatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"UpdatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 1, "start_line": 51, "end_line": 91, "language": "cs", "text": "                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.HasKey(\"Id\");\n\n                    b.HasIndex(\"ManufacturerId\");\n\n                    b.ToTable(\"DeviceModel\");\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.Equipment\", b =>\n                {\n                    b.Property<Guid>(\"Id\")\n                        .ValueGeneratedOnAdd()\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"AndroidId\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<string>(\"ApiLevel\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(10)\")\n                        .HasMaxLength(10);\n\n                    b.Property<string>(\"ApiLevelDesc\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<string>(\"CreatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"CreatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<Guid?>(\"DeviceModelId\")\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"Imei1\")"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 2, "start_line": 90, "end_line": 127, "language": "cs", "text": "\n                    b.Property<string>(\"Imei1\")\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<string>(\"Imei2\")\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<string>(\"MacAddress\")\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<string>(\"PhoneNumber\")\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<string>(\"SerialNumber\")\n                        .HasColumnType(\"character varying(40)\")\n                        .HasMaxLength(40);\n\n                    b.Property<int>(\"Status\")\n                        .HasColumnType(\"integer\");\n\n                    b.Property<string>(\"SystemName\")\n                        .HasColumnType(\"character varying(20)\")\n                        .HasMaxLength(20);\n\n                    b.Property<string>(\"SystemVersion\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(20)\")\n                        .HasMaxLength(20);\n\n                    b.Property<string>(\"UpdatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"UpdatedIn\")"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 3, "start_line": 126, "end_line": 169, "language": "cs", "text": "\n                    b.Property<DateTime>(\"UpdatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<Guid?>(\"UserId\")\n                        .HasColumnType(\"uuid\");\n\n                    b.HasKey(\"Id\");\n\n                    b.HasIndex(\"DeviceModelId\");\n\n                    b.HasIndex(\"UserId\");\n\n                    b.ToTable(\"Equipment\");\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.Manufacturer\", b =>\n                {\n                    b.Property<Guid>(\"Id\")\n                        .ValueGeneratedOnAdd()\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"CreatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"CreatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<string>(\"Description\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<int>(\"Status\")\n                        .HasColumnType(\"integer\");\n\n                    b.Property<string>(\"UpdatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"UpdatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 4, "start_line": 168, "end_line": 209, "language": "cs", "text": "                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.HasKey(\"Id\");\n\n                    b.ToTable(\"Manufacturer\");\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.Security.Claim\", b =>\n                {\n                    b.Property<Guid>(\"Id\")\n                        .ValueGeneratedOnAdd()\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"ClaimName\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(40)\")\n                        .HasMaxLength(40);\n\n                    b.Property<string>(\"ClaimUrlOpt\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(80)\")\n                        .HasMaxLength(80);\n\n                    b.Property<string>(\"CreatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"CreatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<int>(\"Status\")\n                        .HasColumnType(\"integer\");\n\n                    b.Property<string>(\"UpdatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"UpdatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.HasKey(\"Id\");\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 5, "start_line": 208, "end_line": 253, "language": "cs", "text": "                    b.HasKey(\"Id\");\n\n                    b.ToTable(\"Claim\");\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.Security.UserClaim\", b =>\n                {\n                    b.Property<Guid>(\"Id\")\n                        .ValueGeneratedOnAdd()\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<Guid?>(\"ClaimId\")\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"CreatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"CreatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<int>(\"Status\")\n                        .HasColumnType(\"integer\");\n\n                    b.Property<string>(\"UpdatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"UpdatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<Guid?>(\"UserId\")\n                        .HasColumnType(\"uuid\");\n\n                    b.HasKey(\"Id\");\n\n                    b.HasIndex(\"ClaimId\");\n\n                    b.HasIndex(\"UserId\");\n\n                    b.ToTable(\"UserClaim\");\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.User\", b =>\n                {\n                    b.Property<Guid>(\"Id\")"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 6, "start_line": 252, "end_line": 291, "language": "cs", "text": "                {\n                    b.Property<Guid>(\"Id\")\n                        .ValueGeneratedOnAdd()\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"AditionalInfo\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(200)\")\n                        .HasMaxLength(200);\n\n                    b.Property<string>(\"CreatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"CreatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<int>(\"Status\")\n                        .HasColumnType(\"integer\");\n\n                    b.Property<string>(\"UpdatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"UpdatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.HasKey(\"Id\");\n\n                    b.ToTable(\"User\");\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.DeviceModel\", b =>\n                {\n                    b.HasOne(\"AppFullStackDemo.Domain.Entities.Manufacturer\", \"Manufacturer\")\n                        .WithMany(\"DevicesModel\")\n                        .HasForeignKey(\"ManufacturerId\")\n                        .OnDelete(DeleteBehavior.Restrict);\n                });\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 7, "start_line": 290, "end_line": 321, "language": "cs", "text": "                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.Equipment\", b =>\n                {\n                    b.HasOne(\"AppFullStackDemo.Domain.Entities.DeviceModel\", \"DeviceModel\")\n                        .WithMany(\"EquipmentsList\")\n                        .HasForeignKey(\"DeviceModelId\")\n                        .OnDelete(DeleteBehavior.Cascade);\n\n                    b.HasOne(\"AppFullStackDemo.Domain.Entities.User\", \"User\")\n                        .WithMany(\"EquipmentsList\")\n                        .HasForeignKey(\"UserId\")\n                        .OnDelete(DeleteBehavior.Restrict);\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.Security.UserClaim\", b =>\n                {\n                    b.HasOne(\"AppFullStackDemo.Domain.Entities.Security.Claim\", \"Claim\")\n                        .WithMany(\"UserClaimList\")\n                        .HasForeignKey(\"ClaimId\")\n                        .OnDelete(DeleteBehavior.Cascade);\n\n                    b.HasOne(\"AppFullStackDemo.Domain.Entities.User\", \"User\")\n                        .WithMany(\"UserClaimList\")\n                        .HasForeignKey(\"UserId\")\n                        .OnDelete(DeleteBehavior.Restrict);\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.User\", b =>\n                {\n                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.Address\", \"Address\", b1 =>\n                        {"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 8, "start_line": 320, "end_line": 355, "language": "cs", "text": "                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.Address\", \"Address\", b1 =>\n                        {\n                            b1.Property<Guid>(\"UserId\")\n                                .HasColumnType(\"uuid\");\n\n                            b1.Property<string>(\"City\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(60)\")\n                                .HasMaxLength(60);\n\n                            b1.Property<string>(\"NeighborHood\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(60)\")\n                                .HasMaxLength(60);\n\n                            b1.Property<string>(\"Street\")\n                                .IsRequired()\n                                .HasColumnType(\"text\");\n\n                            b1.Property<string>(\"StreetNumber\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.Property<string>(\"ZipCode\")\n                                .HasColumnType(\"character varying(10)\")\n                                .HasMaxLength(10);\n\n                            b1.HasKey(\"UserId\");\n\n                            b1.ToTable(\"User\");\n\n                            b1.WithOwner()\n                                .HasForeignKey(\"UserId\");\n                        });\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 9, "start_line": 354, "end_line": 391, "language": "cs", "text": "                        });\n\n                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.Document\", \"Document\", b1 =>\n                        {\n                            b1.Property<Guid>(\"UserId\")\n                                .HasColumnType(\"uuid\");\n\n                            b1.Property<string>(\"CountryRegistryNumber\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.Property<string>(\"StateRegistryNumber\")\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.HasKey(\"UserId\");\n\n                            b1.ToTable(\"User\");\n\n                            b1.WithOwner()\n                                .HasForeignKey(\"UserId\");\n                        });\n\n                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.Email\", \"Email\", b1 =>\n                        {\n                            b1.Property<Guid>(\"UserId\")\n                                .HasColumnType(\"uuid\");\n\n                            b1.Property<string>(\"EmailAddress\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(100)\")\n                                .HasMaxLength(100);\n\n                            b1.HasKey(\"UserId\");\n\n                            b1.ToTable(\"User\");\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 10, "start_line": 390, "end_line": 425, "language": "cs", "text": "                            b1.ToTable(\"User\");\n\n                            b1.WithOwner()\n                                .HasForeignKey(\"UserId\");\n                        });\n\n                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.Name\", \"Name\", b1 =>\n                        {\n                            b1.Property<Guid>(\"UserId\")\n                                .HasColumnType(\"uuid\");\n\n                            b1.Property<string>(\"FirstName\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(40)\")\n                                .HasMaxLength(40);\n\n                            b1.Property<string>(\"LastName\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(80)\")\n                                .HasMaxLength(80);\n\n                            b1.HasKey(\"UserId\");\n\n                            b1.ToTable(\"User\");\n\n                            b1.WithOwner()\n                                .HasForeignKey(\"UserId\");\n                        });\n\n                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.Phone\", \"Phone\", b1 =>\n                        {\n                            b1.Property<Guid>(\"UserId\")\n                                .HasColumnType(\"uuid\");\n\n                            b1.Property<string>(\"MobilePhoneNumber1\")\n                                .HasColumnType(\"character varying(20)\")"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 11, "start_line": 424, "end_line": 457, "language": "cs", "text": "                            b1.Property<string>(\"MobilePhoneNumber1\")\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.Property<string>(\"MobilePhoneNumber2\")\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.Property<string>(\"PhoneNumber1\")\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.Property<string>(\"PhoneNumber2\")\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.HasKey(\"UserId\");\n\n                            b1.ToTable(\"User\");\n\n                            b1.WithOwner()\n                                .HasForeignKey(\"UserId\");\n                        });\n\n                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.UserAccount\", \"UserAccount\", b1 =>\n                        {\n                            b1.Property<Guid>(\"UserId\")\n                                .HasColumnType(\"uuid\");\n\n                            b1.Property<string>(\"Password\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(120)\")\n                                .HasMaxLength(120);\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 12, "start_line": 456, "end_line": 472, "language": "cs", "text": "                                .HasMaxLength(120);\n\n                            b1.Property<string>(\"UserName\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(100)\")\n                                .HasMaxLength(100);\n\n                            b1.HasKey(\"UserId\");\n\n                            b1.ToTable(\"User\");\n\n                            b1.WithOwner()\n                                .HasForeignKey(\"UserId\");\n                        });\n                });\n#pragma warning restore 612, 618\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 13, "start_line": 471, "end_line": 472, "language": "cs", "text": "#pragma warning restore 612, 618\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\20200612053105_FirstBase.Designer.cs", "chunk_id": 0, "subchunk_id": 14, "start_line": 472, "end_line": 472, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 14, "end_line": 51, "language": "cs", "text": "        protected override void BuildModel(ModelBuilder modelBuilder)\n        {\n#pragma warning disable 612, 618\n            modelBuilder\n                .HasAnnotation(\"Npgsql:ValueGenerationStrategy\", NpgsqlValueGenerationStrategy.IdentityByDefaultColumn)\n                .HasAnnotation(\"ProductVersion\", \"3.1.5\")\n                .HasAnnotation(\"Relational:MaxIdentifierLength\", 63);\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.DeviceModel\", b =>\n                {\n                    b.Property<Guid>(\"Id\")\n                        .ValueGeneratedOnAdd()\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"CreatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"CreatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<string>(\"Description\")\n                        .HasColumnType(\"text\");\n\n                    b.Property<Guid?>(\"ManufacturerId\")\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<int>(\"Status\")\n                        .HasColumnType(\"integer\");\n\n                    b.Property<string>(\"UpdatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"UpdatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.HasKey(\"Id\");"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 1, "start_line": 50, "end_line": 90, "language": "cs", "text": "\n                    b.HasKey(\"Id\");\n\n                    b.HasIndex(\"ManufacturerId\");\n\n                    b.ToTable(\"DeviceModel\");\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.Equipment\", b =>\n                {\n                    b.Property<Guid>(\"Id\")\n                        .ValueGeneratedOnAdd()\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"AndroidId\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<string>(\"ApiLevel\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(10)\")\n                        .HasMaxLength(10);\n\n                    b.Property<string>(\"ApiLevelDesc\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<string>(\"CreatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"CreatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<Guid?>(\"DeviceModelId\")\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"Imei1\")\n                        .HasColumnType(\"character varying(30)\")"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 2, "start_line": 89, "end_line": 125, "language": "cs", "text": "                    b.Property<string>(\"Imei1\")\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<string>(\"Imei2\")\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<string>(\"MacAddress\")\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<string>(\"PhoneNumber\")\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<string>(\"SerialNumber\")\n                        .HasColumnType(\"character varying(40)\")\n                        .HasMaxLength(40);\n\n                    b.Property<int>(\"Status\")\n                        .HasColumnType(\"integer\");\n\n                    b.Property<string>(\"SystemName\")\n                        .HasColumnType(\"character varying(20)\")\n                        .HasMaxLength(20);\n\n                    b.Property<string>(\"SystemVersion\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(20)\")\n                        .HasMaxLength(20);\n\n                    b.Property<string>(\"UpdatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"UpdatedIn\")"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 3, "start_line": 124, "end_line": 167, "language": "cs", "text": "\n                    b.Property<DateTime>(\"UpdatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<Guid?>(\"UserId\")\n                        .HasColumnType(\"uuid\");\n\n                    b.HasKey(\"Id\");\n\n                    b.HasIndex(\"DeviceModelId\");\n\n                    b.HasIndex(\"UserId\");\n\n                    b.ToTable(\"Equipment\");\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.Manufacturer\", b =>\n                {\n                    b.Property<Guid>(\"Id\")\n                        .ValueGeneratedOnAdd()\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"CreatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"CreatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<string>(\"Description\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(30)\")\n                        .HasMaxLength(30);\n\n                    b.Property<int>(\"Status\")\n                        .HasColumnType(\"integer\");\n\n                    b.Property<string>(\"UpdatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"UpdatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 4, "start_line": 166, "end_line": 207, "language": "cs", "text": "                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.HasKey(\"Id\");\n\n                    b.ToTable(\"Manufacturer\");\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.Security.Claim\", b =>\n                {\n                    b.Property<Guid>(\"Id\")\n                        .ValueGeneratedOnAdd()\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"ClaimName\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(40)\")\n                        .HasMaxLength(40);\n\n                    b.Property<string>(\"ClaimUrlOpt\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(80)\")\n                        .HasMaxLength(80);\n\n                    b.Property<string>(\"CreatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"CreatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<int>(\"Status\")\n                        .HasColumnType(\"integer\");\n\n                    b.Property<string>(\"UpdatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"UpdatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.HasKey(\"Id\");\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 5, "start_line": 206, "end_line": 251, "language": "cs", "text": "                    b.HasKey(\"Id\");\n\n                    b.ToTable(\"Claim\");\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.Security.UserClaim\", b =>\n                {\n                    b.Property<Guid>(\"Id\")\n                        .ValueGeneratedOnAdd()\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<Guid?>(\"ClaimId\")\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"CreatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"CreatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<int>(\"Status\")\n                        .HasColumnType(\"integer\");\n\n                    b.Property<string>(\"UpdatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"UpdatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<Guid?>(\"UserId\")\n                        .HasColumnType(\"uuid\");\n\n                    b.HasKey(\"Id\");\n\n                    b.HasIndex(\"ClaimId\");\n\n                    b.HasIndex(\"UserId\");\n\n                    b.ToTable(\"UserClaim\");\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.User\", b =>\n                {\n                    b.Property<Guid>(\"Id\")"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 6, "start_line": 250, "end_line": 289, "language": "cs", "text": "                {\n                    b.Property<Guid>(\"Id\")\n                        .ValueGeneratedOnAdd()\n                        .HasColumnType(\"uuid\");\n\n                    b.Property<string>(\"AditionalInfo\")\n                        .IsRequired()\n                        .HasColumnType(\"character varying(200)\")\n                        .HasMaxLength(200);\n\n                    b.Property<string>(\"CreatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"CreatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.Property<int>(\"Status\")\n                        .HasColumnType(\"integer\");\n\n                    b.Property<string>(\"UpdatedBy\")\n                        .IsRequired()\n                        .HasColumnType(\"text\");\n\n                    b.Property<DateTime>(\"UpdatedIn\")\n                        .HasColumnType(\"timestamp without time zone\");\n\n                    b.HasKey(\"Id\");\n\n                    b.ToTable(\"User\");\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.DeviceModel\", b =>\n                {\n                    b.HasOne(\"AppFullStackDemo.Domain.Entities.Manufacturer\", \"Manufacturer\")\n                        .WithMany(\"DevicesModel\")\n                        .HasForeignKey(\"ManufacturerId\")\n                        .OnDelete(DeleteBehavior.Restrict);\n                });\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 7, "start_line": 288, "end_line": 319, "language": "cs", "text": "                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.Equipment\", b =>\n                {\n                    b.HasOne(\"AppFullStackDemo.Domain.Entities.DeviceModel\", \"DeviceModel\")\n                        .WithMany(\"EquipmentsList\")\n                        .HasForeignKey(\"DeviceModelId\")\n                        .OnDelete(DeleteBehavior.Cascade);\n\n                    b.HasOne(\"AppFullStackDemo.Domain.Entities.User\", \"User\")\n                        .WithMany(\"EquipmentsList\")\n                        .HasForeignKey(\"UserId\")\n                        .OnDelete(DeleteBehavior.Restrict);\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.Security.UserClaim\", b =>\n                {\n                    b.HasOne(\"AppFullStackDemo.Domain.Entities.Security.Claim\", \"Claim\")\n                        .WithMany(\"UserClaimList\")\n                        .HasForeignKey(\"ClaimId\")\n                        .OnDelete(DeleteBehavior.Cascade);\n\n                    b.HasOne(\"AppFullStackDemo.Domain.Entities.User\", \"User\")\n                        .WithMany(\"UserClaimList\")\n                        .HasForeignKey(\"UserId\")\n                        .OnDelete(DeleteBehavior.Restrict);\n                });\n\n            modelBuilder.Entity(\"AppFullStackDemo.Domain.Entities.User\", b =>\n                {\n                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.Address\", \"Address\", b1 =>\n                        {"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 8, "start_line": 318, "end_line": 353, "language": "cs", "text": "                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.Address\", \"Address\", b1 =>\n                        {\n                            b1.Property<Guid>(\"UserId\")\n                                .HasColumnType(\"uuid\");\n\n                            b1.Property<string>(\"City\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(60)\")\n                                .HasMaxLength(60);\n\n                            b1.Property<string>(\"NeighborHood\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(60)\")\n                                .HasMaxLength(60);\n\n                            b1.Property<string>(\"Street\")\n                                .IsRequired()\n                                .HasColumnType(\"text\");\n\n                            b1.Property<string>(\"StreetNumber\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.Property<string>(\"ZipCode\")\n                                .HasColumnType(\"character varying(10)\")\n                                .HasMaxLength(10);\n\n                            b1.HasKey(\"UserId\");\n\n                            b1.ToTable(\"User\");\n\n                            b1.WithOwner()\n                                .HasForeignKey(\"UserId\");\n                        });\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 9, "start_line": 352, "end_line": 389, "language": "cs", "text": "                        });\n\n                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.Document\", \"Document\", b1 =>\n                        {\n                            b1.Property<Guid>(\"UserId\")\n                                .HasColumnType(\"uuid\");\n\n                            b1.Property<string>(\"CountryRegistryNumber\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.Property<string>(\"StateRegistryNumber\")\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.HasKey(\"UserId\");\n\n                            b1.ToTable(\"User\");\n\n                            b1.WithOwner()\n                                .HasForeignKey(\"UserId\");\n                        });\n\n                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.Email\", \"Email\", b1 =>\n                        {\n                            b1.Property<Guid>(\"UserId\")\n                                .HasColumnType(\"uuid\");\n\n                            b1.Property<string>(\"EmailAddress\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(100)\")\n                                .HasMaxLength(100);\n\n                            b1.HasKey(\"UserId\");\n\n                            b1.ToTable(\"User\");\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 10, "start_line": 388, "end_line": 423, "language": "cs", "text": "                            b1.ToTable(\"User\");\n\n                            b1.WithOwner()\n                                .HasForeignKey(\"UserId\");\n                        });\n\n                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.Name\", \"Name\", b1 =>\n                        {\n                            b1.Property<Guid>(\"UserId\")\n                                .HasColumnType(\"uuid\");\n\n                            b1.Property<string>(\"FirstName\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(40)\")\n                                .HasMaxLength(40);\n\n                            b1.Property<string>(\"LastName\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(80)\")\n                                .HasMaxLength(80);\n\n                            b1.HasKey(\"UserId\");\n\n                            b1.ToTable(\"User\");\n\n                            b1.WithOwner()\n                                .HasForeignKey(\"UserId\");\n                        });\n\n                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.Phone\", \"Phone\", b1 =>\n                        {\n                            b1.Property<Guid>(\"UserId\")\n                                .HasColumnType(\"uuid\");\n\n                            b1.Property<string>(\"MobilePhoneNumber1\")\n                                .HasColumnType(\"character varying(20)\")"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 11, "start_line": 422, "end_line": 455, "language": "cs", "text": "                            b1.Property<string>(\"MobilePhoneNumber1\")\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.Property<string>(\"MobilePhoneNumber2\")\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.Property<string>(\"PhoneNumber1\")\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.Property<string>(\"PhoneNumber2\")\n                                .HasColumnType(\"character varying(20)\")\n                                .HasMaxLength(20);\n\n                            b1.HasKey(\"UserId\");\n\n                            b1.ToTable(\"User\");\n\n                            b1.WithOwner()\n                                .HasForeignKey(\"UserId\");\n                        });\n\n                    b.OwnsOne(\"AppFullStackDemo.Domain.ValueObjects.UserAccount\", \"UserAccount\", b1 =>\n                        {\n                            b1.Property<Guid>(\"UserId\")\n                                .HasColumnType(\"uuid\");\n\n                            b1.Property<string>(\"Password\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(120)\")\n                                .HasMaxLength(120);\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 12, "start_line": 454, "end_line": 470, "language": "cs", "text": "                                .HasMaxLength(120);\n\n                            b1.Property<string>(\"UserName\")\n                                .IsRequired()\n                                .HasColumnType(\"character varying(100)\")\n                                .HasMaxLength(100);\n\n                            b1.HasKey(\"UserId\");\n\n                            b1.ToTable(\"User\");\n\n                            b1.WithOwner()\n                                .HasForeignKey(\"UserId\");\n                        });\n                });\n#pragma warning restore 612, 618\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 13, "start_line": 469, "end_line": 470, "language": "cs", "text": "#pragma warning restore 612, 618\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Migrations\\AppFullStackDemoContextModelSnapshot.cs", "chunk_id": 0, "subchunk_id": 14, "start_line": 470, "end_line": 470, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\obj\\Debug\\netstandard2.0\\AppFullStackDemo.Infra.AssemblyInfo.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 23, "language": "cs", "text": "//------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by a tool.\n//     Runtime Version:4.0.30319.42000\n//\n//     Changes to this file may cause incorrect behavior and will be lost if\n//     the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\n\nusing System;\nusing System.Reflection;\n\n[assembly: System.Reflection.AssemblyCompanyAttribute(\"AppFullStackDemo.Infra\")]\n[assembly: System.Reflection.AssemblyConfigurationAttribute(\"Debug\")]\n[assembly: System.Reflection.AssemblyFileVersionAttribute(\"1.0.0.0\")]\n[assembly: System.Reflection.AssemblyInformationalVersionAttribute(\"1.0.0\")]\n[assembly: System.Reflection.AssemblyProductAttribute(\"AppFullStackDemo.Infra\")]\n[assembly: System.Reflection.AssemblyTitleAttribute(\"AppFullStackDemo.Infra\")]\n[assembly: System.Reflection.AssemblyVersionAttribute(\"1.0.0.0\")]\n\n// Generated by the MSBuild WriteCodeFragment class.\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\DeviceModelRepository.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 16, "end_line": 20, "language": "cs", "text": "\n        public DeviceModelRepository(AppFullStackDemoContext context)\n        {\n            _context = context;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\DeviceModelRepository.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 21, "end_line": 25, "language": "cs", "text": "\n        public void Create(DeviceModel deviceModel)\n        {\n            _context.DeviceModels.Add(deviceModel);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\DeviceModelRepository.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 26, "end_line": 30, "language": "cs", "text": "\n        public void Update(DeviceModel deviceModel)\n        {\n            _context.Entry(deviceModel).State = EntityState.Modified;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\DeviceModelRepository.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 31, "end_line": 49, "language": "cs", "text": "\n        public GetDeviceModelResult GetDeviceModel(Guid id)\n        {\n            var data = _context\n                .DeviceModels\n                .Include(p => p.Manufacturer)\n                .FirstOrDefault(x => x.Id == id);\n\n            if (data == null)\n                return null;\n\n            return new GetDeviceModelResult\n            {\n                Id = data.Id.ToString(),\n                Description = data.Description,\n                Manufacturer = data.Manufacturer.Description,\n                ManufacturerId = data.Manufacturer.Id.ToString()\n            };\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\DeviceModelRepository.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 50, "end_line": 69, "language": "cs", "text": "\n        public IEnumerable<GetDeviceModelResult> GetDeviceModels()\n        {\n            var data = _context.DeviceModels\n               .Where(DeviceModelQueries.GetAll())\n               .Include(p => p.Manufacturer)\n               .OrderBy(x => x.Description\n               );\n\n            if (data == null)\n                return null;\n\n            return data.Select(reg => new GetDeviceModelResult\n            {\n                Id = reg.Id.ToString(),\n                Description = reg.Description,\n                Manufacturer = reg.Manufacturer.Description,\n                ManufacturerId = reg.Manufacturer.Id.ToString()\n            });\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\DeviceModelRepository.cs", "chunk_id": 5, "subchunk_id": 0, "start_line": 70, "end_line": 76, "language": "cs", "text": "\n        public DeviceModel GetById(Guid id)\n        {\n            return _context\n                .DeviceModels\n                .FirstOrDefault(x => x.Id == id);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\DeviceModelRepository.cs", "chunk_id": 6, "subchunk_id": 0, "start_line": 77, "end_line": 84, "language": "cs", "text": "\n        public DeviceModel GetByDescriptionAndManufacturer(string description, Manufacturer manufacturer)\n        {\n            return _context\n                .DeviceModels\n                .Include(x => x.Manufacturer)\n                .FirstOrDefault(x => x.Description == description && x.Manufacturer == manufacturer);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\EquipmentRepository.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 17, "end_line": 22, "language": "cs", "text": "\n        public EquipmentRepository(AppFullStackDemoContext context)\n\n        {\n            _context = context;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\EquipmentRepository.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 23, "end_line": 27, "language": "cs", "text": "\n        public void Create(Equipment equipment)\n        {\n            _context.Equipments.Add(equipment);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\EquipmentRepository.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 28, "end_line": 32, "language": "cs", "text": "\n        public void Update(Equipment equipment)\n        {\n            _context.Entry(equipment).State = EntityState.Modified;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\EquipmentRepository.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 33, "end_line": 39, "language": "cs", "text": "\n        public Equipment GetById(Guid id)\n        {\n            return _context\n                .Equipments\n                .FirstOrDefault(x => x.Id == id);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\EquipmentRepository.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 40, "end_line": 54, "language": "cs", "text": "\n        public IEnumerable<Equipment> GetEquipmentsEnt()\n        {\n            var data = _context.Equipments\n               .Where(EquipmentQueries.GetAll())\n               .Include(p => p.DeviceModel.Manufacturer)\n               .Include(p => p.User)\n               .OrderBy(x => x.ApiLevelDesc)\n               .ToList();\n\n            if (data == null)\n                return null;\n\n            return data;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\EquipmentRepository.cs", "chunk_id": 5, "subchunk_id": 0, "start_line": 55, "end_line": 80, "language": "cs", "text": "\n        public IEnumerable<GetEquipmentResultResumed> GetEquipments()\n        {\n            var data = _context.Equipments\n               .Where(EquipmentQueries.GetAll())\n               .Include(p => p.DeviceModel.Manufacturer)\n               .Include(p => p.User)\n               .OrderBy(x => x.ApiLevelDesc)\n               .ToList();\n\n            if (data == null)\n                return null;\n\n            return data.Select(reg => new GetEquipmentResultResumed\n            {\n                Id = reg.Id.ToString(),\n                PhoneNumber = reg.PhoneNumber,\n                ApiLevel = reg.ApiLevel,\n                ApiLevelDesc = reg.ApiLevelDesc,\n                SerialNumber = reg.SerialNumber,\n                SystemName = reg.SystemName,\n                SystemVersion = reg.SystemVersion,\n                DeviceModel = reg.DeviceModel.Manufacturer.Description + \" \" + reg.DeviceModel.Description,\n                User = reg.User.Name.ToString()\n            });\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\EquipmentRepository.cs", "chunk_id": 6, "subchunk_id": 0, "start_line": 81, "end_line": 112, "language": "cs", "text": "\n        public GetEquipmentResult GetEquipment(Guid id)\n        {\n            var data = _context.Equipments\n               .Where(EquipmentQueries.GetById(id))\n               .Include(p => p.DeviceModel.Manufacturer)\n               .Include(p => p.User)\n               .FirstOrDefault();\n\n\n            if (data == null)\n                return null;\n\n            return new GetEquipmentResult\n            {\n                Id = data.Id.ToString(),\n                AndroidId = data.AndroidId,\n                Imei1 = data.Imei1,\n                Imei2 = data.Imei2,\n                PhoneNumber = data.PhoneNumber,\n                MacAddress = data.MacAddress,\n                ApiLevel = data.ApiLevel,\n                ApiLevelDesc = data.ApiLevelDesc,\n                SerialNumber = data.SerialNumber,\n                SystemName = data.SystemName,\n                SystemVersion = data.SystemVersion,\n                DeviceModelId = data.DeviceModel.Id,\n                DeviceModel = data.DeviceModel.Manufacturer.Description + \" \" + data.DeviceModel.Description,\n                UserId = data.User.Id,\n                User = data.User.Name.ToString()\n            };\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\EquipmentRepository.cs", "chunk_id": 7, "subchunk_id": 0, "start_line": 113, "end_line": 138, "language": "cs", "text": "\n        public IEnumerable<GetEquipmentResultResumed> GetEquipmentsByUser(Guid UserId)\n        {\n            var data = _context.Equipments\n               .Where(EquipmentQueries.GetByUser(UserId))\n               .Include(p => p.DeviceModel.Manufacturer)\n               .Include(p => p.User)\n               .OrderBy(x => x.ApiLevelDesc)\n               .ToList();\n\n            if (data == null)\n                return null;\n\n            return data.Select(reg => new GetEquipmentResultResumed\n            {\n                Id = reg.Id.ToString(),\n                PhoneNumber = reg.PhoneNumber,\n                ApiLevel = reg.ApiLevel,\n                ApiLevelDesc = reg.ApiLevelDesc,\n                SerialNumber = reg.SerialNumber,\n                SystemName = reg.SystemName,\n                SystemVersion = reg.SystemVersion,\n                DeviceModel = reg.DeviceModel.Manufacturer.Description + \" \" + reg.DeviceModel.Description,\n                User = reg.User.Name.ToString()\n            });\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\ManufacturerRepository.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 17, "end_line": 21, "language": "cs", "text": "\n        public ManufacturerRepository(AppFullStackDemoContext context)\n        {\n            _context = context;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\ManufacturerRepository.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 22, "end_line": 26, "language": "cs", "text": "\n        public void Create(Manufacturer manufacturer)\n        {\n            _context.Manufacturers.Add(manufacturer);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\ManufacturerRepository.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 27, "end_line": 31, "language": "cs", "text": "\n        public void Update(Manufacturer manufacturer)\n        {\n            _context.Entry(manufacturer).State = EntityState.Modified;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\ManufacturerRepository.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 32, "end_line": 38, "language": "cs", "text": "\n        public Manufacturer GetById(Guid id)\n        {\n            return _context\n                .Manufacturers\n                .FirstOrDefault(x => x.Id == id);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\ManufacturerRepository.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 39, "end_line": 45, "language": "cs", "text": "\n        public Manufacturer GetByDescription(string description)\n        {\n            return _context\n                .Manufacturers\n                .FirstOrDefault(x => x.Description == description);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\ManufacturerRepository.cs", "chunk_id": 5, "subchunk_id": 0, "start_line": 46, "end_line": 62, "language": "cs", "text": "\n        public IEnumerable<GetManufacturerResult> GetManufacturers()\n        {\n            var data = _context.Manufacturers\n               .Where(ManufacturerQueries.GetAll())\n               .OrderBy(x => x.Description)\n               .ToList();\n\n            if (data == null)\n                return null;\n\n            return data.Select(reg => new GetManufacturerResult\n            {\n                Id = reg.Id.ToString(),\n                Description = reg.Description\n            });\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\ManufacturerRepository.cs", "chunk_id": 6, "subchunk_id": 0, "start_line": 63, "end_line": 79, "language": "cs", "text": "\n        public GetManufacturerResult GetManufacturer(Guid id)\n        {\n            var data = _context.Manufacturers\n               .Where(ManufacturerQueries.GetById(id))\n               .FirstOrDefault();\n\n\n            if (data == null)\n                return null;\n\n            return new GetManufacturerResult\n            {\n                Id = data.Id.ToString(),\n                Description = data.Description\n            };\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\UserRepository.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 22, "language": "cs", "text": "\n        public UserRepository(AppFullStackDemoContext context)\n        {\n            _context = context;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\UserRepository.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 23, "end_line": 27, "language": "cs", "text": "\n        public void Create(User user)\n        {\n            _context.Users.Add(user);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\UserRepository.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 28, "end_line": 32, "language": "cs", "text": "\n        public void Update(User user)\n        {\n            _context.Entry(user).State = EntityState.Modified;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\UserRepository.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 33, "end_line": 39, "language": "cs", "text": "\n        public User GetById(Guid id)\n        {\n            return _context\n                .Users\n                .FirstOrDefault(x => x.Id == id);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\UserRepository.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 40, "end_line": 47, "language": "cs", "text": "\n        public User GetByLogin(string userName)\n        {\n            return _context.Users\n                .AsNoTracking()\n                .Where(UserQueries.GetByLogin(userName))\n                .FirstOrDefault();\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\UserRepository.cs", "chunk_id": 5, "subchunk_id": 0, "start_line": 48, "end_line": 66, "language": "cs", "text": "\n        public IEnumerable<GetUserResumed> GetUsers()\n        {\n            var data = _context.Users\n               .Where(UserQueries.GetAll())\n               .OrderBy(x => x.Name.FirstName)\n               .ToList();\n\n            if (data == null)\n                return null;\n\n            return data.Select(reg => new GetUserResumed\n            {\n                Id = reg.Id.ToString(),\n                Name = reg.Name.ToString(),\n                Email = reg.Email.EmailAddress,\n                City = reg.Address.City\n            });\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\UserRepository.cs", "chunk_id": 6, "subchunk_id": 0, "start_line": 67, "end_line": 100, "language": "cs", "text": "\n        public GetUserResult GetUser(Guid id)\n        {\n            var data = _context.Users\n               .Where(UserQueries.GetById(id))\n               .FirstOrDefault();\n\n\n            if (data == null)\n                return null;\n\n            return new GetUserResult\n            {\n                Id = data.Id.ToString(),\n                AditionalInfo = data.AditionalInfo,\n                CountryRegistryNumber = data.Document.CountryRegistryNumber,\n                StateRegistryNumber = data.Document.StateRegistryNumber,\n                EmailAddress = data.Email.EmailAddress,\n                FirstName = data.Name.FirstName,\n                LastName = data.Name.LastName,\n                MobilePhoneNumber1 = data.Phone.MobilePhoneNumber1,\n                MobilePhoneNumber2 = data.Phone.MobilePhoneNumber2,\n                PhoneNumber1 = data.Phone.PhoneNumber1,\n                PhoneNumber2 = data.Phone.PhoneNumber2,\n                City = data.Address.City,\n                NeighborHood = data.Address.NeighborHood,\n                Street = data.Address.Street,\n                StreetNumber = data.Address.StreetNumber,\n                ZipCode = data.Address.ZipCode,\n                UserName = data.UserAccount.UserName,\n                Password = data.UserAccount.DecryptPassword(),\n                ConfirmPassword = data.UserAccount.DecryptPassword()\n            };\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\UserRepository.cs", "chunk_id": 7, "subchunk_id": 0, "start_line": 101, "end_line": 125, "language": "cs", "text": "\n        public bool MockDataCreator()\n        {\n            // Note By Fernando: This is a small \"hack\" to avoid the system to be initialized without Test-Data (FakeData). I've created this method to\n            // Feed data and fill database with some tests info, that will display a better and most complete panel with some Manufacturers, Models...\n            // You can skip the call of this method by commenting the line on UserHandler > Handle(CreateUser)\n\n            var usersOnDb = GetUsers().ToList(); //will check if database is empty (no one user exists - first user) before run\n\n            if (usersOnDb.Count == 0)\n            {\n                var users = new User[] {\n                    new User(\"Created by loadFakeData\",\n                    new Name(\"Admin\", \"SystemAdmin\"),\n                    new Document(\"33557788-9\", \"55448899\"),\n                    new Phone(\"3699955566\", \"\", \"\", \"\"),\n                    new Email(\"admin@appfullstackdemo.com\"),\n                    new Address(\"Street Api\", \"12\", \"Solid Village\", \"City of NetCore\", \"7788\"),\n                    new UserAccount(\"admin\", \"admin\")\n                )};\n                    _context.Users.AddRange(users);\n                    _context.SaveChanges(); //I'm calling SaveChanges each time because i need DB to generate the Guids then it will be stored here to the Fks\n\n                    var manufacturers = new Manufacturer[] {\n                    new Manufacturer(\"Xiaomi\"),"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\UserRepository.cs", "chunk_id": 7, "subchunk_id": 1, "start_line": 124, "end_line": 154, "language": "cs", "text": "                    var manufacturers = new Manufacturer[] {\n                    new Manufacturer(\"Xiaomi\"),\n                    new Manufacturer(\"Motorola\"),\n                    new Manufacturer(\"Samsung\"),\n                    new Manufacturer(\"LG\")\n                };\n                    _context.Manufacturers.AddRange(manufacturers);\n                    _context.SaveChanges();\n\n                    var deviceModels = new DeviceModel[] {\n                    new DeviceModel(\"Mi Max 2\", manufacturers[0]),//0\n                    new DeviceModel(\"Redmi Note 10\", manufacturers[0]),//1\n                    new DeviceModel(\"Moto G8\", manufacturers[1]),//2\n                    new DeviceModel(\"Galaxy S20 Plus\", manufacturers[2]),//3\n                    new DeviceModel(\"Galaxy S10e\", manufacturers[2]),//4\n                    new DeviceModel(\"LG V60\", manufacturers[3]),//5\n                };\n                    _context.DeviceModels.AddRange(deviceModels);\n                    _context.SaveChanges();\n\n                    var claims = new Claim[] {\n                    new Claim(\"dashboard\", \"\"),\n                    new Claim(\"manufacturer\", \"\"),\n                    new Claim(\"devicemodel\", \"\"),\n                    new Claim(\"user\", \"\"),\n                    new Claim(\"equipment\", \"\"),\n                };\n                    _context.Claims.AddRange(claims);\n                    _context.SaveChanges();\n\n                    var userClaims = new UserClaim[] {"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\UserRepository.cs", "chunk_id": 7, "subchunk_id": 2, "start_line": 153, "end_line": 172, "language": "cs", "text": "\n                    var userClaims = new UserClaim[] {\n                    new UserClaim(users[0], claims[0]),\n                    new UserClaim(users[0], claims[1]),\n                    new UserClaim(users[0], claims[2]),\n                    new UserClaim(users[0], claims[3]),\n                    new UserClaim(users[0], claims[4]),\n                };\n                    _context.UserClaims.AddRange(userClaims);\n                    _context.SaveChanges();\n\n                    var equipments = new Equipment[] {\n                    new Equipment(\"8c4997076d138ae6\", \"864166044650604\", \"864167058640512\", \"36-555-777\", \"EC:D0:8F:2F:09:D5\", \"25\",\n                    \"Android 7.1\", \"5588997788234\", \"Android\", \"7.1.1\", deviceModels[0], users[0]), //mimax2\n                    new Equipment(\"8c4997076d138bc6\", \"864166044650605\", \"864167058640513\", \"36-555-778\", \"EC:D0:8F:2F:09:D1\", \"25\",\n                    \"Android 7.1\", \"5588997788231\", \"Android\", \"7.1.1\", deviceModels[1], users[0]), //note10\n                    new Equipment(\"8c4997076d138bd6\", \"864166044650655\", \"864167058640556\", \"36-555-790\", \"EC:D0:8F:2F:09:D6\", \"27\",\n                    \"Android 8.1\", \"5588997788333\", \"Android\", \"8.1\", deviceModels[1], users[0]), //note10\n                    new Equipment(\"8c4997076d138ae7\", \"864166044650603\", \"864167058640514\", \"36-555-779\", \"EC:D0:8F:2F:09:D7\", \"27\",\n                    \"Android 8.1\", \"5588997788232\", \"Android\", \"8.1\", deviceModels[2], users[0]), //g8"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\UserRepository.cs", "chunk_id": 7, "subchunk_id": 3, "start_line": 171, "end_line": 184, "language": "cs", "text": "                    new Equipment(\"8c4997076d138ae7\", \"864166044650603\", \"864167058640514\", \"36-555-779\", \"EC:D0:8F:2F:09:D7\", \"27\",\n                    \"Android 8.1\", \"5588997788232\", \"Android\", \"8.1\", deviceModels[2], users[0]), //g8\n                    new Equipment(\"8c4997076d138cc7\", \"864166044650601\", \"864167058640517\", \"36-555-780\", \"EC:D0:8F:2F:09:D2\", \"27\",\n                    \"Android 8.1\", \"5588997788235\", \"Android\", \"8.1\", deviceModels[3], users[0]), //s20\n                    new Equipment(\"8c4997076d138dc7\", \"864166044650608\", \"864167058640518\", \"36-555-781\", \"EC:D0:8F:2F:09:D3\", \"27\",\n                    \"Android 8.1\", \"5588997788236\", \"Android\", \"8.1\", deviceModels[4], users[0]), //ss10e\n                    new Equipment(\"8c4997076d138cc7\", \"864166044650602\", \"864167058640519\", \"36-555-784\", \"EC:D0:8F:2F:09:D8\", \"28\",\n                    \"Android 9\", \"5588997788245\", \"Android\", \"9\", deviceModels[5], users[0]), //v60                \n                };\n                _context.Equipments.AddRange(equipments);\n                _context.SaveChanges();\n            }\n            return true;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\UserRepository.cs", "chunk_id": 7, "subchunk_id": 4, "start_line": 183, "end_line": 184, "language": "cs", "text": "            return true;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\UserRepository.cs", "chunk_id": 7, "subchunk_id": 5, "start_line": 184, "end_line": 184, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\Security\\ClaimRepository.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 12, "end_line": 16, "language": "cs", "text": "\n        public ClaimRepository(AppFullStackDemoContext context)\n        {\n            _context = context;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\Security\\ClaimRepository.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 17, "end_line": 24, "language": "cs", "text": "\n        public IEnumerable<Claim> Get()\n        {\n            var claims = _context.Claims\n                .ToList();\n\n            return claims;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\Security\\UserClaimRepository.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 14, "end_line": 18, "language": "cs", "text": "\n        public UserClaimRepository(AppFullStackDemoContext context)\n        {\n            _context = context;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\Security\\UserClaimRepository.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 19, "end_line": 23, "language": "cs", "text": "\n        public void AddUserClaims(List<UserClaim> usersClaims)\n        {\n            _context.UserClaims.AddRange(usersClaims);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Repositories\\Security\\UserClaimRepository.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 24, "end_line": 33, "language": "cs", "text": "\n        public IEnumerable<UserClaim> GetByUser(User user)\n        {\n            var userClaims = _context.UserClaims\n                .Include(p => p.User)\n                .Include(p => p.Claim)\n                .Where(p => p.User == user).ToList();\n\n            return userClaims;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Transactions\\IUow.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 7, "language": "cs", "text": "        Task Commit();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Transactions\\IUow.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 8, "end_line": 9, "language": "cs", "text": "\n        void Rollback();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Transactions\\Uow.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 13, "language": "cs", "text": "\n        public Uow(AppFullStackDemoContext context)\n        {\n            _context = context;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Transactions\\Uow.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 14, "end_line": 18, "language": "cs", "text": "\n        public async Task Commit()\n        {\n            await _context.SaveChangesAsync();\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Infra\\Transactions\\Uow.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 19, "end_line": 23, "language": "cs", "text": "\n        public void Rollback()\n        {\n            // Do nothing yet, but we can do a log, or something, in future\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Crypt\\EncryptDecryptData.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 41, "language": "cs", "text": "        public static string Encrypt(string text)\n        {\n            var _key = Encoding.UTF8.GetBytes(\"18a218d3c8054e9b90d014a2080edb20\");\n\n            using (var aes = Aes.Create())\n            {\n                using (var encryptor = aes.CreateEncryptor(_key, aes.IV))\n                {\n                    using (var ms = new MemoryStream())\n                    {\n                        using (var cs = new CryptoStream(ms, encryptor, CryptoStreamMode.Write))\n                        {\n                            using (var sw = new StreamWriter(cs))\n                            {\n                                sw.Write(text);\n                            }\n                        }\n\n                        var iv = aes.IV;\n\n                        var encrypted = ms.ToArray();\n\n                        var result = new byte[iv.Length + encrypted.Length];\n\n                        Buffer.BlockCopy(iv, 0, result, 0, iv.Length);\n                        Buffer.BlockCopy(encrypted, 0, result, iv.Length, encrypted.Length);\n\n                        return Convert.ToBase64String(result);\n                    }\n                }\n            }\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Crypt\\EncryptDecryptData.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 42, "end_line": 74, "language": "cs", "text": "\n        public static string Decrypt(string encrypted)\n        {\n            var b = Convert.FromBase64String(encrypted);\n\n            var iv = new byte[16];\n            var cipher = new byte[16];\n\n            Buffer.BlockCopy(b, 0, iv, 0, iv.Length);\n            Buffer.BlockCopy(b, iv.Length, cipher, 0, iv.Length);\n\n            var _key = Encoding.UTF8.GetBytes(\"18a218d3c8054e9b90d014a2080edb20\");\n\n            using (var aes = Aes.Create())\n            {\n                using (var decryptor = aes.CreateDecryptor(_key, iv))\n                {\n                    var result = string.Empty;\n                    using (var ms = new MemoryStream(cipher))\n                    {\n                        using (var cs = new CryptoStream(ms, decryptor, CryptoStreamMode.Read))\n                        {\n                            using (var sr = new StreamReader(cs))\n                            {\n                                result = sr.ReadToEnd();\n                            }\n                        }\n                    }\n\n                    return result;\n                }\n            }\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\obj\\Debug\\netstandard2.0\\AppFullStackDemo.Shared.AssemblyInfo.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 23, "language": "cs", "text": "//------------------------------------------------------------------------------\n// <auto-generated>\n//     This code was generated by a tool.\n//     Runtime Version:4.0.30319.42000\n//\n//     Changes to this file may cause incorrect behavior and will be lost if\n//     the code is regenerated.\n// </auto-generated>\n//------------------------------------------------------------------------------\n\nusing System;\nusing System.Reflection;\n\n[assembly: System.Reflection.AssemblyCompanyAttribute(\"AppFullStackDemo.Shared\")]\n[assembly: System.Reflection.AssemblyConfigurationAttribute(\"Debug\")]\n[assembly: System.Reflection.AssemblyFileVersionAttribute(\"1.0.0.0\")]\n[assembly: System.Reflection.AssemblyInformationalVersionAttribute(\"1.0.0\")]\n[assembly: System.Reflection.AssemblyProductAttribute(\"AppFullStackDemo.Shared\")]\n[assembly: System.Reflection.AssemblyTitleAttribute(\"AppFullStackDemo.Shared\")]\n[assembly: System.Reflection.AssemblyVersionAttribute(\"1.0.0.0\")]\n\n// Generated by the MSBuild WriteCodeFragment class.\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Validations\\FieldsFormaters.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 15, "language": "cs", "text": "        public static string formatBatteryLevel(string value)\n        {\n            if (value.Length > 2)\n            {\n                decimal realValue = Convert.ToDecimal(value.Replace(\".\", \",\")) * 100;\n                return realValue.ToString().Substring(0, 2);\n            }\n            return \"100\";\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Validations\\FieldsFormaters.cs", "chunk_id": 1, "subchunk_id": 0, "start_line": 16, "end_line": 25, "language": "cs", "text": "\n        public static string formatSpeed(string value)\n        {\n            if (value.Length > 2)\n            {\n                decimal realValue = Convert.ToDecimal(value.Replace(\".\", \",\")) * 100;\n                return realValue.ToString().Substring(0, 2);\n            }\n            return \"0\";\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Validations\\FieldsFormaters.cs", "chunk_id": 2, "subchunk_id": 0, "start_line": 26, "end_line": 36, "language": "cs", "text": "\n        public static string ConvertTimeStampToBRDateTime(string value)\n        {\n            if (value.Length > 11)\n            {\n                double timestamp = Convert.ToDouble(value.Substring(0, 10));\n                DateTime origin = new DateTime(1970, 1, 1, 0, 0, 0, 0);\n                return origin.AddSeconds(timestamp).ToString(\"dd/MM/yyyy hh:mm:ss\");\n            }\n            return \"?\";\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Validations\\FieldsFormaters.cs", "chunk_id": 3, "subchunk_id": 0, "start_line": 37, "end_line": 57, "language": "cs", "text": "\n        public static string reasonPostFormater(int reason)\n        {\n            if (reason == 1)\n            {\n                return \"Bateria\";\n            }\n            if (reason == 2)\n            {\n                return \"Carregamento\";\n            }\n            if (reason == 3)\n            {\n                return \"Posio GPS\";\n            }\n            if (reason == 4)\n            {\n                return \"Velocidade GPS\";\n            }\n            return \"Indefinido\";\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Validations\\FieldsFormaters.cs", "chunk_id": 4, "subchunk_id": 0, "start_line": 58, "end_line": 70, "language": "cs", "text": "\n        public static string normalizeStr(string value)\n        {\n            if (value != \"\")\n            {\n                // The Devices (Smartphones) sometimes send un-pattern texts like \"motorola\" or \" motorola\"\n                // or \"Motorola\" or \" Motorola \": So I'll Patternize it to \"Motorola\" always: Rule will be\n                // appllied to \"Description\", \"ApiLevelDesc\", \"Brand\", \"Manufacturer\" and \"Model\".\n                value = value.TrimEnd().TrimStart().Trim().ToLower();\n                value = value.Substring(0, 1).ToUpper() + value.Substring(1, value.Length - 1);\n            }\n            return value;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Validations\\FieldsValidations.cs", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 51, "language": "cs", "text": "        #region ValidateCountryRegistryNumber (CPF/CNPJ)\n\n        public static bool ValidateCountryRegistryNumber(string Value)\n        {\n            string valor = Value.Replace(\".\", \"\");\n            valor = valor.Replace(\"-\", \"\");\n            valor = valor.Replace(\",\", \"\");\n            valor = valor.Replace(\"/\", \"\");\n            valor = valor.Replace(\"\\\\\", \"\");\n\n            if (valor.Length != 11 && valor.Length != 14)\n                return false;\n\n            #region Validacao CPF\n\n            if (valor.Length == 11)\n            {\n                bool igual = true;\n                for (int i = 1; i < 11 && igual; i++)\n                    if (valor[i] != valor[0])\n                        igual = false;\n                if (igual || valor == \"12345678909\")\n                    return false;\n                int[] numeros = new int[11];\n                for (int i = 0; i < 11; i++)\n\n                    numeros[i] = int.Parse(\n\n                      valor[i].ToString());\n\n                int soma = 0;\n                for (int i = 0; i < 9; i++)\n                    soma += (10 - i) * numeros[i];\n                int resultado = soma % 11;\n\n                if (resultado == 1 || resultado == 0)\n                {\n                    if (numeros[9] != 0)\n\n                        return false;\n                }\n                else if (numeros[9] != 11 - resultado)\n                    return false;\n\n                soma = 0;\n\n                for (int i = 0; i < 10; i++)"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Validations\\FieldsValidations.cs", "chunk_id": 0, "subchunk_id": 1, "start_line": 50, "end_line": 52, "language": "cs", "text": "\n                for (int i = 0; i < 10; i++)\n                    soma += (11 - i) * numeros[i];"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Validations\\FieldsValidations.cs", "chunk_id": 0, "subchunk_id": 2, "start_line": 51, "end_line": 52, "language": "cs", "text": "                for (int i = 0; i < 10; i++)\n                    soma += (11 - i) * numeros[i];"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Validations\\FieldsValidations.cs", "chunk_id": 0, "subchunk_id": 3, "start_line": 52, "end_line": 52, "language": "cs", "text": "                    soma += (11 - i) * numeros[i];"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Validations\\FieldsValidations.cs", "chunk_id": 0, "subchunk_id": 4, "start_line": 51, "end_line": 98, "language": "cs", "text": "                for (int i = 0; i < 10; i++)\n                    soma += (11 - i) * numeros[i];\n                resultado = soma % 11;\n\n                if (resultado == 1 || resultado == 0)\n                {\n                    if (numeros[10] != 0)\n                        return false;\n                }\n                else\n                    if (numeros[10] != 11 - resultado)\n                    return false;\n                return true;\n            }\n\n            #endregion Validacao CPF\n\n            #region Validacao CNPJ\n\n            if (valor.Length == 14)\n            {\n                string CNPJ = valor.Replace(\".\", \"\");\n                CNPJ = CNPJ.Replace(\"/\", \"\");\n                CNPJ = CNPJ.Replace(\"-\", \"\");\n\n                int[] digitos, soma, resultado;\n                int nrDig;\n                string ftmt;\n                bool[] CNPJOk;\n\n                ftmt = \"6543298765432\";\n                digitos = new int[14];\n                soma = new int[2];\n                soma[0] = 0;\n                soma[1] = 0;\n                resultado = new int[2];\n                resultado[0] = 0;\n                resultado[1] = 0;\n                CNPJOk = new bool[2];\n                CNPJOk[0] = false;\n                CNPJOk[1] = false;\n\n                try\n                {\n                    for (nrDig = 0; nrDig < 14; nrDig++)\n                    {\n                        digitos[nrDig] = int.Parse(\n                            CNPJ.Substring(nrDig, 1));"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Validations\\FieldsValidations.cs", "chunk_id": 0, "subchunk_id": 5, "start_line": 97, "end_line": 132, "language": "cs", "text": "                        digitos[nrDig] = int.Parse(\n                            CNPJ.Substring(nrDig, 1));\n                        if (nrDig <= 11)\n                            soma[0] += (digitos[nrDig] *\n                              int.Parse(ftmt.Substring(\n                              nrDig + 1, 1)));\n                        if (nrDig <= 12)\n                            soma[1] += (digitos[nrDig] *\n                              int.Parse(ftmt.Substring(\n                              nrDig, 1)));\n                    }\n\n                    for (nrDig = 0; nrDig < 2; nrDig++)\n                    {\n                        resultado[nrDig] = (soma[nrDig] % 11);\n                        if ((resultado[nrDig] == 0) || (\n                             resultado[nrDig] == 1))\n                            CNPJOk[nrDig] = (\n                            digitos[12 + nrDig] == 0);\n                        else\n                            CNPJOk[nrDig] = (\n                            digitos[12 + nrDig] == (\n                            11 - resultado[nrDig]));\n                    }\n                    return (CNPJOk[0] && CNPJOk[1]);\n                }\n                catch\n                {\n                    return false;\n                }\n            }\n\n            #endregion Validacao CNPJ\n\n            return false;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Validations\\FieldsValidations.cs", "chunk_id": 0, "subchunk_id": 6, "start_line": 131, "end_line": 132, "language": "cs", "text": "            return false;\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\BackEnd\\AppFullStackDemo.Shared\\Validations\\FieldsValidations.cs", "chunk_id": 0, "subchunk_id": 7, "start_line": 132, "end_line": 132, "language": "cs", "text": "        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\karma.conf.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 44, "language": "js", "text": "// Karma configuration file, see link for more information\n// https://karma-runner.github.io/0.13/config/configuration-file.html\n\nmodule.exports = function (config) {\n  config.set({\n    basePath: '',\n    frameworks: ['jasmine', '@angular-devkit/build-angular'],\n    plugins: [\n      require('karma-jasmine'),\n      require('karma-chrome-launcher'),\n      require('karma-jasmine-html-reporter'),\n      require('karma-coverage-istanbul-reporter'),\n      require('@angular-devkit/build-angular/plugins/karma')\n    ],\n    client:{\n      clearContext: false // leave Jasmine Spec Runner output visible in browser\n    },\n    files: [\n      \n    ],\n    preprocessors: {\n      \n    },\n    mime: {\n      'text/x-typescript': ['ts','tsx']\n    },\n    coverageIstanbulReporter: {\n      dir: require('path').join(__dirname, 'coverage'), reports: [ 'html', 'lcovonly' ],\n      fixWebpackSourcePaths: true\n    },\n    angularCli: {\n      environment: 'dev'\n    },\n    reporters: config.angularCli && config.angularCli.codeCoverage\n              ? ['progress', 'coverage-istanbul']\n              : ['progress', 'kjhtml'],\n    port: 9876,\n    colors: true,\n    logLevel: config.LOG_INFO,\n    autoWatch: true,\n    browsers: ['Chrome'],\n    singleRun: false\n  });\n};"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\protractor.conf.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 27, "end_line": 29, "language": "js", "text": "  onPrepare() {\n    jasmine.getEnv().addReporter(new SpecReporter({ spec: { displayStacktrace: true } }));\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\e2e\\app.e2e-spec.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 14, "language": "ts", "text": "\ndescribe('md-pro-angular-cli App', () => {\n  let page: MdProAngularCliPage;\n\n  beforeEach(() => {\n    page = new MdProAngularCliPage();\n  });\n\n  it('should display message saying app works', () => {\n    page.navigateTo();\n    expect(page.getParagraphText()).toEqual('app works!');\n  });\n});"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\e2e\\app.po.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 6, "language": "ts", "text": "  navigateTo() {\n    return browser.get('/');\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\e2e\\app.po.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 7, "end_line": 10, "language": "ts", "text": "\n  getParagraphText() {\n    return element(by.css('app-root h1')).getText();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\main.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 12, "language": "ts", "text": "\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\polyfills.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 38, "language": "ts", "text": "/**\n * This file includes polyfills needed by Angular and is loaded before the app.\n * You can add your own extra polyfills to this file.\n *\n * This file is divided into 2 sections:\n *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\n *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\n *      file.\n *\n * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\n * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\n * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\n *\n * Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html\n */\n\n/***************************************************************************************************\n * BROWSER POLYFILLS\n */\n\n/** IE9, IE10 and IE11 requires all of the following polyfills. **/\nimport 'core-js/es/symbol';\nimport 'core-js/es/object';\nimport 'core-js/es/function';\nimport 'core-js/es/parse-int';\nimport 'core-js/es/parse-float';\nimport 'core-js/es/number';\nimport 'core-js/es/math';\nimport 'core-js/es/string';\nimport 'core-js/es/date';\nimport 'core-js/es/array';\nimport 'core-js/es/regexp';\nimport 'core-js/es/map';\nimport 'core-js/es/set';\n\n/** IE10 and IE11 requires the following for NgClass support on SVG elements */\n// import 'classlist.js';  // Run `npm install --save classlist.js`.\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\polyfills.ts", "chunk_id": 0, "subchunk_id": 1, "start_line": 37, "end_line": 67, "language": "ts", "text": "// import 'classlist.js';  // Run `npm install --save classlist.js`.\n\n/** IE10 and IE11 requires the following to support `@angular/animation`. */\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n/** Evergreen browsers require these. **/\nimport 'core-js/es/reflect';\n\n\n/** ALL Firefox browsers require the following to support `@angular/animation`. **/\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\n\n\n\n/***************************************************************************************************\n * Zone JS is required by Angular itself.\n */\nimport 'zone.js/dist/zone';  // Included with Angular CLI.\n\n\n\n/***************************************************************************************************\n * APPLICATION IMPORTS\n */\n\n/**\n * Date, currency, decimal and percent pipes.\n * Needed for: All but Chrome, Firefox, Edge, IE11 and Safari 10\n */\n// import 'intl';  // Run `npm install --save intl`."}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\polyfills.ts", "chunk_id": 0, "subchunk_id": 2, "start_line": 66, "end_line": 67, "language": "ts", "text": " */\n// import 'intl';  // Run `npm install --save intl`."}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\polyfills.ts", "chunk_id": 0, "subchunk_id": 3, "start_line": 67, "end_line": 67, "language": "ts", "text": "// import 'intl';  // Run `npm install --save intl`."}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\test.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 20, "language": "ts", "text": "// This file is required by karma.conf.js and loads recursively all the .spec and framework files\n\nimport 'zone.js/dist/zone-testing';\nimport { getTestBed } from '@angular/core/testing';\nimport {\n  BrowserDynamicTestingModule,\n  platformBrowserDynamicTesting\n} from '@angular/platform-browser-dynamic/testing';\n\ndeclare const require: any;\n\n// First, initialize the Angular testing environment.\ngetTestBed().initTestEnvironment(\n  BrowserDynamicTestingModule,\n  platformBrowserDynamicTesting()\n);\n// Then we find all the tests.\nconst context = require.context('./', true, /\\.spec\\.ts$/);\n// And load the modules.\ncontext.keys().map(context);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\typings.d.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 5, "language": "ts", "text": "/* SystemJS module definition */\ndeclare var module: NodeModule;\ninterface NodeModule {\n  id: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\app.api.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 15, "language": "ts", "text": "// here is my API Address - All my Services should reference this file - Please Externalize it to JSON\n\nexport class AppApi {\n  static AppFullStackDemoApi = \"http://localhost:4001/api\";\n  static AppFullStackDemoApiResourceUser =\n    AppApi.AppFullStackDemoApi + \"/User\";\n  static AppFullStackDemoApiResourceDeviceModel =\n    AppApi.AppFullStackDemoApi + \"/DeviceModel\";\n  static AppFullStackDemoApiResourceEquipment =\n    AppApi.AppFullStackDemoApi + \"/Equipment\";\n  static AppFullStackDemoApiResourceManufacturer =\n    AppApi.AppFullStackDemoApi + \"/Manufacturer\";\n  static AppFullStackDemoApiResourceDashBoard =\n    AppApi.AppFullStackDemoApi + \"/DashBoard\";\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\app.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 12, "end_line": 14, "language": "ts", "text": "\n  constructor( private router: Router ) {\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\app.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 15, "end_line": 25, "language": "ts", "text": "\n    ngOnInit() {\n      this._router = this.router.events.filter(event => event instanceof NavigationEnd).subscribe((event: NavigationEnd) => {\n        const body = document.getElementsByTagName('body')[0];\n        const modalBackdrop = document.getElementsByClassName('modal-backdrop')[0];\n        if (body.classList.contains('modal-open')) {\n          body.classList.remove('modal-open');\n          modalBackdrop.remove();\n        }\n      });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\app.module.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 28, "language": "ts", "text": "import { NgModule } from \"@angular/core\";\nimport { BrowserAnimationsModule } from \"@angular/platform-browser/animations\";\nimport { RouterModule } from \"@angular/router\";\nimport { HttpModule } from \"@angular/http\";\nimport { FormsModule, ReactiveFormsModule } from \"@angular/forms\";\nimport { CommonModule } from \"@angular/common\";\nimport { NgxSpinnerModule } from \"ngx-spinner\";\n\nimport { AppComponent } from \"./app.component\";\nimport { SidebarModule } from \"./template/sidebar/sidebar.module\";\nimport { FooterModule } from \"./template/shared/footer/footer.module\";\nimport { NavbarModule } from \"./template/shared/navbar/navbar.module\";\nimport { FixedpluginModule } from \"./template/shared/fixedplugin/fixedplugin.module\";\nimport { AdminLayoutComponent } from \"./template/layouts/admin/admin-layout.component\";\nimport { AuthLayoutComponent } from \"./template/layouts/auth/auth-layout.component\";\n\nimport { AppRoutes } from \"./app.routing\";\nimport { MaterialModule } from \"./modules/material.module\";\nimport { HttpClientModule, HTTP_INTERCEPTORS } from \"@angular/common/http\";\nimport { MatConfirmDialogComponent } from \"./template/mat-confirm-dialog/mat-confirm-dialog.component\";\nimport { AuthInterceptor } from \"./modules/auth/auth.interceptor\";\nimport { AuthService } from \"./services/auth.service\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    BrowserAnimationsModule,\n    FormsModule,"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\app.module.ts", "chunk_id": 0, "subchunk_id": 1, "start_line": 27, "end_line": 62, "language": "ts", "text": "    BrowserAnimationsModule,\n    FormsModule,\n    ReactiveFormsModule, //i had to add here too (instead just MobileControlModule) because PassWordMatch (CustomValidators) is not working\n    MaterialModule,\n    RouterModule.forRoot(AppRoutes, {\n      useHash: true,\n    }),\n    HttpModule,\n    HttpClientModule,\n    MaterialModule,\n    SidebarModule,\n    NavbarModule,\n    FooterModule,\n    FixedpluginModule,\n    NgxSpinnerModule,\n  ],\n  declarations: [\n    MatConfirmDialogComponent,\n    AppComponent,\n    AdminLayoutComponent,\n    AuthLayoutComponent,\n  ],\n  bootstrap: [AppComponent],\n  entryComponents: [MatConfirmDialogComponent],\n  //Here on Providers I`ll configure my HTTPInterceptor that will Catch the Requests and Add the Token - Note:\n  //Interceptor needs to be Here on the Main-Module and cannot be set on the Assets or other Modules...\n  providers: [\n    AuthService,\n    {\n      provide: HTTP_INTERCEPTORS,\n      useClass: AuthInterceptor,\n      multi: true,\n    },\n  ],\n})\nexport class AppModule {}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\app.module.ts", "chunk_id": 0, "subchunk_id": 2, "start_line": 61, "end_line": 62, "language": "ts", "text": "})\nexport class AppModule {}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\app.module.ts", "chunk_id": 0, "subchunk_id": 3, "start_line": 62, "end_line": 62, "language": "ts", "text": "export class AppModule {}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\app.routing.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 35, "language": "ts", "text": "import { Routes } from \"@angular/router\";\nimport { AdminLayoutComponent } from \"./template/layouts/admin/admin-layout.component\";\nimport { AuthLayoutComponent } from \"./template/layouts/auth/auth-layout.component\";\n\nexport const AppRoutes: Routes = [\n  {\n    path: \"\",\n    redirectTo: \"dashboard\",\n    pathMatch: \"full\",\n  },\n  {\n    path: \"\",\n    component: AdminLayoutComponent,\n    children: [\n      {\n        path: \"\",\n        loadChildren: \"./modules/appfullstackdemo.module#AppFullStackDemoModule\",\n      },\n      {\n        path: \"\",\n        loadChildren: \"./template/dashboard/dashboard.module#DashboardModule\",\n      },\n    ],\n  },\n  {\n    path: \"\",\n    component: AuthLayoutComponent,\n    children: [\n      {\n        path: \"pages\",\n        loadChildren: \"./template/pages/pages.module#PagesModule\",\n      },\n    ],\n  },\n];"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\main.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 6, "language": "ts", "text": "import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport { AppModule } from './app.module';\nimport {enableProdMode} from '@angular/core';\n\nenableProdMode();\nplatformBrowserDynamic().bootstrapModule(AppModule);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\commands\\devicemodel\\CreateDeviceModelCommand.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 4, "language": "ts", "text": "export class CreateDeviceModelCommand {\n    Description: string;\n    ManufacturerId: number;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\commands\\devicemodel\\UpdateDeviceModelCommand.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 5, "language": "ts", "text": "export class UpdateDeviceModelCommand {\n    Id: string;\n    Description: string;\n    ManufacturerId: number;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\commands\\equipment\\CreateEquipmentCommand.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 14, "language": "ts", "text": "export class CreateManufacturerCommand {\n    AndroidId: string;\n    Imei1: string;\n    Imei2: string;\n    PhoneNumber: string;\n    MacAddress: string;\n    ApiLevel: string;\n    ApiLevelDesc: string;\n    SerialNumber: string;\n    SystemName: string;\n    SystemVersion: string;\n    DeviceModelId: string;\n    UserId: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\commands\\manufacturer\\CreateManufacturerCommand.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "ts", "text": "export class CreateManufacturerCommand {\n    Description: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\commands\\manufacturer\\UpdateManufacturerCommand.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 4, "language": "ts", "text": "export class UpdateManufacturerCommand {\n    Id: string;\n    Description: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\commands\\user\\CreateUserCommand.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 19, "language": "ts", "text": "export class CreateUserCommand {\n    AditionalInfo: string;\n    CountryRegistryNumber: string;\n    StateRegistryNumber: string;\n    EmailAddress: string;\n    FirstName: string;\n    LastName: string;\n    MobilePhoneNumber1: string;\n    MobilePhoneNumber2: string;\n    PhoneNumber1: string;\n    PhoneNumber2: string;\n    City: string;\n    NeighborHood: string;\n    Street: string;\n    StreetNumber: string;\n    ZipCode: string;\n    UserName: string;\n    Password: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\commands\\user\\LoginUserCommand.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 4, "language": "ts", "text": "export class LoginUserCommand {\n    UserName: string;\n    Password: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\commands\\user\\UpdateUserCommand.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 21, "language": "ts", "text": "export class UpdateUserCommand {\n    Id: string;\n    AditionalInfo: string;\n    CountryRegistryNumber: string;\n    StateRegistryNumber: string;\n    EmailAddress: string;\n    FirstName: string;\n    LastName: string;\n    MobilePhoneNumber1: string;\n    MobilePhoneNumber2: string;\n    PhoneNumber1: string;\n    PhoneNumber2: string;\n    City: string;\n    NeighborHood: string;\n    Street: string;\n    StreetNumber: string;\n    ZipCode: string;\n    UserName: string;\n    Password: string;\n    ConfirmPassword: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\enums\\EIdentityTypeOf.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 14, "language": "ts", "text": "export enum EIdentityTypeOf {\n  WelcomeEmailToNewEmployee = 0,\n  EmailDeviceNotSeenToOwner = 1,\n  EmailDeviceNotSeenToAdmin = 2,\n  EmailDeviceNotSeenToMaster = 3,\n}\n\nexport const EIdentityTypeOfDesc = {\n  [EIdentityTypeOf.WelcomeEmailToNewEmployee]:\n    \"Welcome Email para Novo Usurios\",\n  [EIdentityTypeOf.EmailDeviceNotSeenToOwner]: \"Alerta Equip.Offline p/Dono\",\n  [EIdentityTypeOf.EmailDeviceNotSeenToAdmin]: \"Alerta Equip.Offline p/Admin\",\n  [EIdentityTypeOf.EmailDeviceNotSeenToMaster]: \"Alerta Equip.Offline p/Mestre\",\n};"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\enums\\ETaskStatus.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 11, "language": "ts", "text": "export enum ETaskStatus {\n  All = 0,\n  Todo = 1,\n  Done = 2,\n}\n\nexport const ETaskStatusDesc = {\n  [ETaskStatus.All]: \"Todos\",\n  [ETaskStatus.Todo]: \"Pendente\",\n  [ETaskStatus.Done]: \"Executado\",\n};"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\enums\\ETypeOf.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 7, "language": "ts", "text": "export enum ETypeOf {\n  SendAnEmail = 0,\n}\n\nexport const ETypeOfDesc = {\n  [ETypeOf.SendAnEmail]: \"Envio Email\",\n};"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\appfullstackdemo.module.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 25, "language": "ts", "text": "export const options: Partial<IConfig> | (() => Partial<IConfig>) = {};\nimport { MaterialModule } from \"./material.module\";\n\nimport { ForbiddenComponent } from \"./auth/forbidden/forbidden.component\";\nimport { ForbiddenMessageComponent } from \"./auth/forbidden/forbiddenmessage/forbiddenmessage.component\";\nimport { NumberPickerModule } from \"ng-number-picker\";\nimport { EnumDescriber } from \"../shared/enum-describer.service\";\nimport { AppFullStackDemoRoutes } from \"./appfullstackdemo.routing\";\nimport { UserComponent } from \"../pages/user/user.component\";\nimport { UserListComponent } from \"../pages/user/user-list/user-list.component\";\nimport { UserCuComponent } from \"../pages/user/user-cu/user-cu.component\";\nimport { ManufacturerComponent } from \"../pages/manufacturer/manufacturer.component\";\nimport { ManufacturerCuComponent } from \"../pages/manufacturer/manufacturer-cu/manufacturer-cu.component\";\nimport { ManufacturerListComponent } from \"../pages/manufacturer/manufacturer-list/manufacturer-list.component\";\nimport { DeviceModelComponent } from \"../pages/devicemodel/devicemodel.component\";\nimport { DeviceModelCuComponent } from \"../pages/devicemodel/devicemodel-cu/devicemodel-cu.component\";\nimport { DeviceModelListComponent } from \"../pages/devicemodel/devicemodel-list/devicemodel-list.component\";\nimport { EquipmentCuComponent } from \"../pages/equipment/equipment-cu/equipment-cu.component\";"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\appfullstackdemo.module.ts", "chunk_id": 0, "subchunk_id": 1, "start_line": 24, "end_line": 61, "language": "ts", "text": "import { DeviceModelListComponent } from \"../pages/devicemodel/devicemodel-list/devicemodel-list.component\";\nimport { EquipmentCuComponent } from \"../pages/equipment/equipment-cu/equipment-cu.component\";\nimport { EquipmentListComponent } from \"../pages/equipment/equipment-list/equipment-list.component\";\nimport { EquipmentComponent } from \"../pages/equipment/equipment.component\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(AppFullStackDemoRoutes), //My File of Rotes\n    FormsModule,\n    ReactiveFormsModule, //i had to change from MobileControlModule to AppModule (main) because if not, Custom-Validators is not working\n    //AdminLayoutModule, //I need to import AdminLayout module, because i need DashBoard that it exports\n    MaterialModule, //My containner of Material Module components\n    NumberPickerModule, //for the numberpicker (company screen > hours equipment not seen)\n    NgxMaskModule.forRoot(options), //to MASK on inputs, like telephone    \n  ],\n  declarations: [\n    ForbiddenComponent,\n    ForbiddenMessageComponent,\n    // Modules from the Real system\n    UserComponent,\n    UserCuComponent,\n    UserListComponent,\n\n    ManufacturerComponent,\n    ManufacturerCuComponent,\n    ManufacturerListComponent,\n\n    DeviceModelComponent,\n    DeviceModelCuComponent,\n    DeviceModelListComponent,\n\n    EquipmentComponent,\n    EquipmentCuComponent,\n    EquipmentListComponent,\n\n    EnumDescriber,\n  ],"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\appfullstackdemo.module.ts", "chunk_id": 0, "subchunk_id": 2, "start_line": 60, "end_line": 70, "language": "ts", "text": "    EnumDescriber,\n  ],\n  //to open in a Modal (be injected) needs to be here in entry\n  entryComponents: [\n    UserCuComponent,\n    DeviceModelCuComponent,\n    ManufacturerCuComponent,\n    EquipmentCuComponent\n  ],\n})\nexport class AppFullStackDemoModule { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\appfullstackdemo.module.ts", "chunk_id": 0, "subchunk_id": 3, "start_line": 69, "end_line": 70, "language": "ts", "text": "})\nexport class AppFullStackDemoModule { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\appfullstackdemo.module.ts", "chunk_id": 0, "subchunk_id": 4, "start_line": 70, "end_line": 70, "language": "ts", "text": "export class AppFullStackDemoModule { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\appfullstackdemo.routing.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 36, "language": "ts", "text": "import { Routes } from \"@angular/router\";\nimport { AuthGuard } from \"./auth/auth.guard\";\nimport { ForbiddenComponent } from \"./auth/forbidden/forbidden.component\";\nimport { UserComponent } from \"../pages/user/user.component\";\nimport { ManufacturerComponent } from \"../pages/manufacturer/manufacturer.component\";\nimport { DeviceModelComponent } from \"../pages/devicemodel/devicemodel.component\";\nimport { EquipmentComponent } from \"../pages/equipment/equipment.component\";\n//import { EquipmentComponent } from \"../equipment/equipment.component\";\n\nexport const AppFullStackDemoRoutes: Routes = [\n  //custom maps routes made by Fernando\n  { path: \"forbidden\", component: ForbiddenComponent },\n\n  //Note: I can have a Client-Side Role Verification, in this case i Have this \"\".Screen\" roles, that will be done on\n  //Client side, so this is a \"First-level\" Authorization, before API, and i will check if LoggedUser can se a Screen.\n  //The second level will be done on the API side, on the Api-URL, by the Tag [Authorization] and corresponding Claim\n\n  {\n    path: \"user\",\n    component: UserComponent,\n    canActivate: [AuthGuard],\n    data: { permittedRoles: [\"user\"] },\n  },\n  {\n    path: \"manufacturer\",\n    component: ManufacturerComponent,\n    canActivate: [AuthGuard],\n    data: { permittedRoles: [\"manufacturer\"] },\n  },\n  {\n    path: \"devicemodel\",\n    component: DeviceModelComponent,\n    canActivate: [AuthGuard],\n    data: { permittedRoles: [\"devicemodel\"] },\n  },\n  {"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\appfullstackdemo.routing.ts", "chunk_id": 0, "subchunk_id": 1, "start_line": 35, "end_line": 42, "language": "ts", "text": "  },\n  {\n    path: \"equipment/:userId\",\n    component: EquipmentComponent,\n    canActivate: [AuthGuard],\n    data: { permittedRoles: [\"equipment\"] },\n  },\n];"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\appfullstackdemo.routing.ts", "chunk_id": 0, "subchunk_id": 2, "start_line": 41, "end_line": 42, "language": "ts", "text": "  },\n];"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\appfullstackdemo.routing.ts", "chunk_id": 0, "subchunk_id": 3, "start_line": 42, "end_line": 42, "language": "ts", "text": "];"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\material.module.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 42, "language": "ts", "text": "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport * as Material from '@angular/material';\n\n// This is a \"Central\" Angular Material Module and I'll put all the Componentes I'll use here\n\n@NgModule({\n    imports: [\n        CommonModule,\n        //this is the modules from the template        \n        Material.MatRippleModule,\n        Material.MatTooltipModule,\n        Material.MatAutocompleteModule,\n        Material.MatButtonToggleModule,\n        Material.MatCardModule,\n        Material.MatChipsModule,\n        Material.MatExpansionModule,\n        Material.MatGridListModule,\n        Material.MatIconModule,\n        Material.MatListModule,\n        Material.MatMenuModule,\n        Material.MatProgressBarModule,\n        Material.MatProgressSpinnerModule,\n        Material.MatSidenavModule,\n        Material.MatSliderModule,\n        Material.MatSlideToggleModule,\n        Material.MatTooltipModule,\n        Material.MatStepperModule,\n        Material.MatNativeDateModule,\n\n        //this i used in fornax sample (modules to grid, search, order, modal)\n        Material.MatToolbarModule,\n        Material.MatGridListModule,\n        Material.MatFormFieldModule,\n        Material.MatInputModule,\n        Material.MatRadioModule,\n        Material.MatSelectModule,\n        Material.MatCheckboxModule,\n        Material.MatDatepickerModule,\n        Material.MatNativeDateModule,\n        Material.MatButtonModule,\n        Material.MatSnackBarModule,"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\material.module.ts", "chunk_id": 0, "subchunk_id": 1, "start_line": 41, "end_line": 80, "language": "ts", "text": "        Material.MatButtonModule,\n        Material.MatSnackBarModule,\n        Material.MatTableModule,\n        Material.MatIconModule,\n        Material.MatPaginatorModule,\n        Material.MatSortModule,\n        Material.MatDialogModule,\n        Material.MatTabsModule,\n    ],\n    exports: [\n        //this is the modules from the template        \n        Material.MatRippleModule,\n        Material.MatTooltipModule,\n        Material.MatAutocompleteModule,\n        Material.MatButtonToggleModule,\n        Material.MatCardModule,\n        Material.MatChipsModule,\n        Material.MatExpansionModule,\n        Material.MatGridListModule,\n        Material.MatIconModule,\n        Material.MatListModule,\n        Material.MatMenuModule,\n        Material.MatProgressBarModule,\n        Material.MatProgressSpinnerModule,\n        Material.MatSidenavModule,\n        Material.MatSliderModule,\n        Material.MatSlideToggleModule,\n        Material.MatTooltipModule,\n        Material.MatStepperModule,\n        Material.MatNativeDateModule,\n\n        //this i used in fornax sample (modules to grid, search, order, modal)\n        Material.MatToolbarModule,\n        Material.MatGridListModule,\n        Material.MatFormFieldModule,\n        Material.MatInputModule,\n        Material.MatRadioModule,\n        Material.MatSelectModule,\n        Material.MatCheckboxModule,\n        Material.MatDatepickerModule,"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\material.module.ts", "chunk_id": 0, "subchunk_id": 2, "start_line": 79, "end_line": 80, "language": "ts", "text": "        Material.MatCheckboxModule,\n        Material.MatDatepickerModule,"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\material.module.ts", "chunk_id": 0, "subchunk_id": 3, "start_line": 80, "end_line": 80, "language": "ts", "text": "        Material.MatDatepickerModule,"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\material.module.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 81, "end_line": 93, "language": "ts", "text": "        Material.MatNativeDateModule,\n        Material.MatButtonModule,\n        Material.MatSnackBarModule,\n        Material.MatTableModule,\n        Material.MatIconModule,\n        Material.MatPaginatorModule,\n        Material.MatSortModule,\n        Material.MatDialogModule,\n        Material.MatTabsModule,\n    ],\n    declarations: []\n})\nexport class MaterialModule { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\auth.guard.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 11, "end_line": 11, "language": "ts", "text": "  constructor(private router: Router, private authService: AuthService) { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\auth.guard.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 33, "language": "ts", "text": "\n  canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): boolean | UrlTree {\n    //I`ll check if the token exists, if false, I'll redirect the usr to the Login\n    if (this.authService.isLoggedIn() != null) {\n      let roles = next.data['permittedRoles'] as Array<string>; //i convert to array because inside routing it's an array...      \n      if (roles) { //if there are any routes, I`ll handle in the if\n        if (this.authService.roleMatch(roles)) {\n          return true; //to check if the user has the roles, I'll do it inside the UserProfile Service\n        }\n        else { //if there arent roles, I will redirect to forbidden\n          this.router.navigate(['/forbidden']);\n          return false;\n        }\n      }\n      return true;\n    }\n    else {\n      this.router.navigate(['/pages/login']);\n    }\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\auth.interceptor.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 22, "end_line": 36, "language": "ts", "text": "\n        //Note By Fernando: I need to Check if Form contains Multi-Part/FormData (for example, if a file was attached)\n        //and inser a Header of MultiForm. If Not, it's just a JSON in the body, we will send application/json header.\n        if (request.body instanceof FormData) {\n            //console.log(\"Yeah, catch FormData\");\n            //Note by Fernando: It's enought to not add any header in case of files in multi-part body, so, will do nothing\n        }\n        else {\n            //console.log(\"Not FormData, just Json.\");\n            if (this.authService.getJwtToken()) {\n                request = this.addHeaderToken(request, this.authService.getJwtToken());\n            } else {\n                request = this.addHeaderWithoutToken(request);\n            }\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\auth.interceptor.ts", "chunk_id": 0, "subchunk_id": 1, "start_line": 41, "end_line": 54, "language": "ts", "text": "                if (res.status == 200) {\n                    //if returns 200, the BackEnd operation is OK... but i have to enter the model (BaseCommandResult) and\n                    //check the \"Success\" (true or false): Based on that I'll show the proper message to the UI                    \n                    if (res.body.Success != undefined) {\n                        let baseCommandResult = res.body as BaseCommandResult; //convert the baseCommandResult                        \n                        if (baseCommandResult.Success == true) {\n                            NotificationService.showNotification('success', 'top', 'right', 'Success', res.body.Message);\n                        }\n                        else {\n                            //Note: The BackEnd will return 400 just when there is an exception. In case of validation errors or backend message, it will return an 200 OK\n                            //(because the backend don't generate an error) but with a \"False\" on the Success boolean flag, and the respective message to fix the errors.\n                            //FrontEnd apps should intercept the flag, and show the respective message to the user. So 200 but \"false\" on Success is an error that should be\n                            //fixed by the User. Remember that inside the \"Errors\" there is an array, that i should open and get all errors, showing them to user\n                            let erros = \"\";"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\auth.interceptor.ts", "chunk_id": 0, "subchunk_id": 2, "start_line": 53, "end_line": 61, "language": "ts", "text": "                            //fixed by the User. Remember that inside the \"Errors\" there is an array, that i should open and get all errors, showing them to user\n                            let erros = \"\";\n                            baseCommandResult.ResponseDataObj.forEach(item => {\n                                erros = erros + '<br />' + item.Message;\n                            })\n                            NotificationService.showNotification('warning', 'top', 'right', 'Error: ' + res.body.Message, erros);\n                        }\n                    }\n                }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\auth.interceptor.ts", "chunk_id": 0, "subchunk_id": 3, "start_line": 60, "end_line": 61, "language": "ts", "text": "                    }\n                }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\auth.interceptor.ts", "chunk_id": 0, "subchunk_id": 4, "start_line": 61, "end_line": 61, "language": "ts", "text": "                }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\auth.interceptor.ts", "chunk_id": 0, "subchunk_id": 5, "start_line": 65, "end_line": 67, "language": "ts", "text": "                if (error instanceof HttpErrorResponse && error.status === 401) {\n                    return this.handle401Error(request, next);\n                }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\auth.interceptor.ts", "chunk_id": 0, "subchunk_id": 6, "start_line": 68, "end_line": 73, "language": "ts", "text": "                if (error instanceof HttpErrorResponse && error.status === 403) {\n                    return this.handle403Error(request, next);\n                }\n                else {\n                    return throwError(error);\n                }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\auth.interceptor.ts", "chunk_id": 0, "subchunk_id": 7, "start_line": 116, "end_line": 128, "language": "ts", "text": "        if (!this.isRefreshing) {\n            this.isRefreshing = true;\n            this.refreshTokenSubject.next(null);\n\n            //TO-DO: RefreshToken here\n        } else {\n            return this.refreshTokenSubject.pipe(\n                filter(token => token != null),\n                take(1),\n                switchMap(jwt => {\n                    return next.handle(this.addHeaderToken(request, jwt));\n                }));\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\auth.interceptor.ts", "chunk_id": 0, "subchunk_id": 8, "start_line": 133, "end_line": 144, "language": "ts", "text": "        if (!this.isRefreshing) {\n            this.isRefreshing = true;\n            this.refreshTokenSubject.next(null);\n            //TO-DO: RefreshToken here\n        } else {\n            return this.refreshTokenSubject.pipe(\n                filter(token => token != null),\n                take(1),\n                switchMap(jwt => {\n                    return next.handle(this.addHeaderToken(request, jwt));\n                }));\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\forbidden\\forbidden.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 10, "language": "ts", "text": "\n  constructor() { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\forbidden\\forbidden.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 13, "language": "ts", "text": "\n  ngOnInit() {\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\forbidden\\forbiddenmessage\\forbiddenmessage.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 10, "language": "ts", "text": "\n  constructor() { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\modules\\auth\\forbidden\\forbiddenmessage\\forbiddenmessage.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 13, "language": "ts", "text": "\n  ngOnInit() {\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 10, "language": "ts", "text": "\n  constructor() { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 13, "language": "ts", "text": "\n  ngOnInit() {\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-cu\\devicemodel-cu.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 21, "language": "ts", "text": "\n  constructor(public service: DeviceModelService,\n    public serviceManufacturer: ManufacturerService,\n    public dialogRef: MatDialogRef<DeviceModelCuComponent>) { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-cu\\devicemodel-cu.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 22, "end_line": 25, "language": "ts", "text": "\n  ngOnInit() {\n    this.loadManufacturerCategory();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-cu\\devicemodel-cu.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 26, "end_line": 33, "language": "ts", "text": "\n  loadManufacturerCategory() {\n    this.serviceManufacturer.getManufacturers().subscribe(\n      list => {\n        this.listManufacturer = list;\n        console.log(list);\n      });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-cu\\devicemodel-cu.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 34, "end_line": 43, "language": "ts", "text": "\n  onSubmit() {\n    if (this.service.form.valid) {\n      if (!this.service.form.get('Id').value) {\n        this.insert();\n      } else {\n        this.update();\n      }\n    }\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-cu\\devicemodel-cu.component.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 44, "end_line": 52, "language": "ts", "text": "\n  insert() {\n    this.service.createDeviceModel(this.service.form.value).subscribe(result => {\n      this.baseCommandResult = result as BaseCommandResult;\n      if (this.baseCommandResult.Success) {\n        this.onClose();\n      }\n    });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-cu\\devicemodel-cu.component.ts", "chunk_id": 5, "subchunk_id": 0, "start_line": 53, "end_line": 61, "language": "ts", "text": "\n  update() {\n    this.service.updateDeviceModel(this.service.form.value).subscribe(result => {\n      this.baseCommandResult = result as BaseCommandResult;\n      if (this.baseCommandResult.Success) {\n        this.onClose();\n      }\n    });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-cu\\devicemodel-cu.component.ts", "chunk_id": 6, "subchunk_id": 0, "start_line": 62, "end_line": 67, "language": "ts", "text": "\n  onClose() {\n    this.service.form.reset();\n    this.service.initializeFormGroup();\n    this.dialogRef.close(); // here i will CLOSE the popup (modal)\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-list\\devicemodel-list.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 14, "end_line": 17, "language": "ts", "text": "\n  constructor(private service: DeviceModelService,\n    private dialog: MatDialog,\n    private dialogService: DialogService) { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-list\\devicemodel-list.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 26, "end_line": 29, "language": "ts", "text": "\n  ngOnInit() {\n    this.loadData();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-list\\devicemodel-list.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 30, "end_line": 43, "language": "ts", "text": "\n  loadData() {\n    this.service.getDeviceModel().subscribe(\n      list => {\n        this.listData = new MatTableDataSource(list);\n        this.listData.sort = this.sort;\n        this.listData.paginator = this.paginator;\n        this.listData.filterPredicate = (data, filter) => {\n          return this.displayedColumns.some(ele => {\n            return ele !== 'actions' && data[ele].toLowerCase().indexOf(filter) !== -1;\n          });\n        };\n      });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-list\\devicemodel-list.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 44, "end_line": 47, "language": "ts", "text": "\n  applyFilter() {\n    this.listData.filter = this.searchKey.trim().toLowerCase();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-list\\devicemodel-list.component.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 48, "end_line": 52, "language": "ts", "text": "\n  onSearchClear() {\n    this.searchKey = '';\n    this.applyFilter();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-list\\devicemodel-list.component.ts", "chunk_id": 5, "subchunk_id": 0, "start_line": 53, "end_line": 62, "language": "ts", "text": "\n  onCreate() {\n    this.service.initializeFormGroup();\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.disableClose = true;\n    dialogConfig.autoFocus = true;\n    dialogConfig.width = '80%';\n    this.dialog.afterAllClosed.subscribe(data => { this.loadData(); });\n    this.dialog.open(DeviceModelCuComponent, dialogConfig);\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-list\\devicemodel-list.component.ts", "chunk_id": 6, "subchunk_id": 0, "start_line": 63, "end_line": 73, "language": "ts", "text": "\n  onEdit(row) {\n    this.service.initializeFormGroup();\n    this.service.populateForm(row);\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.disableClose = true;\n    dialogConfig.autoFocus = true;\n    dialogConfig.width = '80%';\n    this.dialog.afterAllClosed.subscribe(data => { this.loadData(); });\n    this.dialog.open(DeviceModelCuComponent, dialogConfig);\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\devicemodel\\devicemodel-list\\devicemodel-list.component.ts", "chunk_id": 7, "subchunk_id": 0, "start_line": 74, "end_line": 84, "language": "ts", "text": "\n  onDelete(Id) {\n    this.dialogService.openConfirmDialog('Are you sure you want to delete?')\n      .afterClosed().subscribe(res => {\n        if (res) {\n          this.service.deleteDeviceModel(Id).subscribe(data => {\n            this.returnOfWebService = data; this.loadData();\n          });\n        }\n      });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\equipment\\equipment.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 11, "end_line": 14, "language": "ts", "text": "  constructor(\n    private _router: Router,\n    private _activatedRoute: ActivatedRoute\n  ) { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\equipment\\equipment.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 15, "end_line": 20, "language": "ts", "text": "\n  ngOnInit() {\n    this._activatedRoute.paramMap.subscribe((params) => {\n      this.userId = params.get(\"userId\");\n    });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\equipment\\equipment-cu\\equipment-cu.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 13, "end_line": 14, "language": "ts", "text": "\n  constructor() { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\equipment\\equipment-cu\\equipment-cu.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 15, "end_line": 17, "language": "ts", "text": "\n  ngOnInit() {\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\equipment\\equipment-list\\equipment-list.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 25, "end_line": 26, "language": "ts", "text": "\n  constructor(private service: EquipmentService) { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\equipment\\equipment-list\\equipment-list.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 27, "end_line": 30, "language": "ts", "text": "\n  ngOnInit() {\n    this.loadData();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\equipment\\equipment-list\\equipment-list.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 31, "end_line": 44, "language": "ts", "text": "\n  loadData() {\n    this.service.GetEquipmentsByUser(this.userId).subscribe(\n      list => {\n        this.listData = new MatTableDataSource(list);\n        this.listData.sort = this.sort;\n        this.listData.paginator = this.paginator;\n        this.listData.filterPredicate = (data, filter) => {\n          return this.displayedColumns.some(ele => {\n            return ele !== 'actions' && data[ele].toLowerCase().indexOf(filter) !== -1;\n          });\n        };\n      });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\equipment\\equipment-list\\equipment-list.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 45, "end_line": 48, "language": "ts", "text": "\n  applyFilter() {\n    this.listData.filter = this.searchKey.trim().toLowerCase();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\equipment\\equipment-list\\equipment-list.component.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 49, "end_line": 53, "language": "ts", "text": "\n  onSearchClear() {\n    this.searchKey = '';\n    this.applyFilter();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\equipment\\equipment-list\\equipment-list.component.ts", "chunk_id": 5, "subchunk_id": 0, "start_line": 54, "end_line": 61, "language": "ts", "text": "\n  loadEquipmentDetails(row) {\n    this.equipmentId = row.Id;\n    this.service.GetEquipment(this.equipmentId).subscribe(\n      res => {\n        this.equipmentDetail = res as GetEquipmentResult;\n      });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 10, "language": "ts", "text": "\n  constructor() { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 13, "language": "ts", "text": "\n  ngOnInit() {\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-cu\\manufacturer-cu.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 13, "end_line": 15, "language": "ts", "text": "\n  constructor(public service: ManufacturerService,\n    public dialogRef: MatDialogRef<ManufacturerCuComponent>) { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-cu\\manufacturer-cu.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 16, "end_line": 18, "language": "ts", "text": "\n  ngOnInit() {\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-cu\\manufacturer-cu.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 19, "end_line": 28, "language": "ts", "text": "\n  onSubmit() {\n    if (this.service.form.valid) {\n      if (!this.service.form.get('Id').value) {\n        this.insert();\n      } else {\n        this.update();\n      }\n    }\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-cu\\manufacturer-cu.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 29, "end_line": 37, "language": "ts", "text": "\n  insert() {\n    this.service.createManufacturer(this.service.form.value).subscribe(result => {\n      this.baseCommandResult = result as BaseCommandResult;\n      if (this.baseCommandResult.Success) {\n        this.onClose();\n      }\n    });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-cu\\manufacturer-cu.component.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 38, "end_line": 46, "language": "ts", "text": "\n  update() {\n    this.service.updateManufacturer(this.service.form.value).subscribe(result => {\n      this.baseCommandResult = result as BaseCommandResult;\n      if (this.baseCommandResult.Success) {\n        this.onClose();\n      }\n    });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-cu\\manufacturer-cu.component.ts", "chunk_id": 5, "subchunk_id": 0, "start_line": 47, "end_line": 52, "language": "ts", "text": "\n  onClose() {\n    this.service.form.reset();\n    this.service.initializeFormGroup();\n    this.dialogRef.close(); // here i will CLOSE the popup (modal)\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-list\\manufacturer-list.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 12, "end_line": 15, "language": "ts", "text": "\n  constructor(private service: ManufacturerService,\n    private dialog: MatDialog,\n    private dialogService: DialogService) { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-list\\manufacturer-list.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 24, "end_line": 27, "language": "ts", "text": "\n  ngOnInit() {\n    this.loadData();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-list\\manufacturer-list.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 28, "end_line": 41, "language": "ts", "text": "\n  loadData() {\n    this.service.getManufacturers().subscribe(\n      list => {\n        this.listData = new MatTableDataSource(list);\n        this.listData.sort = this.sort;\n        this.listData.paginator = this.paginator;\n        this.listData.filterPredicate = (data, filter) => {\n          return this.displayedColumns.some(ele => {\n            return ele !== 'actions' && data[ele].toLowerCase().indexOf(filter) !== -1;\n          });\n        };\n      });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-list\\manufacturer-list.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 42, "end_line": 45, "language": "ts", "text": "\n  applyFilter() {\n    this.listData.filter = this.searchKey.trim().toLowerCase();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-list\\manufacturer-list.component.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 46, "end_line": 50, "language": "ts", "text": "\n  onSearchClear() {\n    this.searchKey = '';\n    this.applyFilter();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-list\\manufacturer-list.component.ts", "chunk_id": 5, "subchunk_id": 0, "start_line": 51, "end_line": 60, "language": "ts", "text": "\n  onCreate() {\n    this.service.initializeFormGroup();\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.disableClose = true;\n    dialogConfig.autoFocus = true;\n    dialogConfig.width = '80%';\n    this.dialog.afterAllClosed.subscribe(data => { this.loadData(); });\n    this.dialog.open(ManufacturerCuComponent, dialogConfig);\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-list\\manufacturer-list.component.ts", "chunk_id": 6, "subchunk_id": 0, "start_line": 61, "end_line": 71, "language": "ts", "text": "\n  onEdit(row) {\n    this.service.initializeFormGroup();\n    this.service.populateForm(row);\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.disableClose = true;\n    dialogConfig.autoFocus = true;\n    dialogConfig.width = '80%';\n    this.dialog.afterAllClosed.subscribe(data => { this.loadData(); });\n    this.dialog.open(ManufacturerCuComponent, dialogConfig);\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\manufacturer\\manufacturer-list\\manufacturer-list.component.ts", "chunk_id": 7, "subchunk_id": 0, "start_line": 72, "end_line": 82, "language": "ts", "text": "\n  onDelete(Id) {\n    this.dialogService.openConfirmDialog('Sure you want to delete?')\n      .afterClosed().subscribe(res => {\n        if (res) {\n          this.service.deleteManufacturer(Id).subscribe(data => {\n            this.returnOfWebService = data; this.loadData();\n          });\n        }\n      });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 11, "language": "ts", "text": "\n  constructor() { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 14, "language": "ts", "text": "\n  ngOnInit() {\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-cu\\user-cu.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 13, "end_line": 15, "language": "ts", "text": "\n    constructor(public service: UserService,\n        public dialogRef: MatDialogRef<UserCuComponent>) { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-cu\\user-cu.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 16, "end_line": 18, "language": "ts", "text": "\n    ngOnInit() {\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-cu\\user-cu.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 19, "end_line": 28, "language": "ts", "text": "\n    onSubmit() {\n        if (this.service.form.valid) {\n            if (!this.service.form.get('Id').value) {\n                this.insert();\n            } else {\n                this.update();\n            }\n        }\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-cu\\user-cu.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 29, "end_line": 37, "language": "ts", "text": "\n    insert() {\n        this.service.createUser(this.service.form.value).subscribe(result => {\n            this.baseCommandResult = result as BaseCommandResult;\n            if (this.baseCommandResult.Success) {\n                this.onClose();\n            }\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-cu\\user-cu.component.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 38, "end_line": 46, "language": "ts", "text": "\n    update() {\n        this.service.updateUser(this.service.form.value).subscribe(result => {\n            this.baseCommandResult = result as BaseCommandResult;\n            if (this.baseCommandResult.Success) {\n                this.onClose();\n            }\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-cu\\user-cu.component.ts", "chunk_id": 5, "subchunk_id": 0, "start_line": 47, "end_line": 52, "language": "ts", "text": "\n    onClose() {\n        this.service.form.reset();\n        this.service.initializeFormGroup();\n        this.dialogRef.close(); // here i will CLOSE the popup (modal)\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-list\\user-list.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 16, "end_line": 20, "language": "ts", "text": "\n  constructor(private router: Router,\n    private service: UserService,\n    private dialog: MatDialog,\n    private dialogService: DialogService) { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-list\\user-list.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 29, "end_line": 32, "language": "ts", "text": "\n  ngOnInit() {\n    this.loadData();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-list\\user-list.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 33, "end_line": 46, "language": "ts", "text": "\n  loadData() {\n    this.service.getUsers().subscribe(\n      list => {\n        this.listData = new MatTableDataSource(list);\n        this.listData.sort = this.sort;\n        this.listData.paginator = this.paginator;\n        this.listData.filterPredicate = (data, filter) => {\n          return this.displayedColumns.some(ele => {\n            return ele !== 'actions' && data[ele].toLowerCase().indexOf(filter) !== -1;\n          });\n        };\n      });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-list\\user-list.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 47, "end_line": 50, "language": "ts", "text": "\n  applyFilter() {\n    this.listData.filter = this.searchKey.trim().toLowerCase();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-list\\user-list.component.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 51, "end_line": 55, "language": "ts", "text": "\n  onSearchClear() {\n    this.searchKey = '';\n    this.applyFilter();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-list\\user-list.component.ts", "chunk_id": 5, "subchunk_id": 0, "start_line": 56, "end_line": 66, "language": "ts", "text": "\n  onCreate() {\n    this.service.initializeFormGroup();\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.disableClose = true;\n    dialogConfig.autoFocus = true;\n    dialogConfig.width = '80%';\n    dialogConfig.height = '60%';\n    this.dialog.afterAllClosed.subscribe(data => { this.loadData(); });\n    this.dialog.open(UserCuComponent, dialogConfig);\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-list\\user-list.component.ts", "chunk_id": 6, "subchunk_id": 0, "start_line": 67, "end_line": 78, "language": "ts", "text": "\n  onEdit(row) {\n    this.service.initializeFormGroup();\n    this.service.populateForm(row);\n    const dialogConfig = new MatDialogConfig();\n    dialogConfig.disableClose = true;\n    dialogConfig.autoFocus = true;\n    dialogConfig.width = '80%';\n    dialogConfig.height = '60%';\n    this.dialog.afterAllClosed.subscribe(data => { this.loadData(); });\n    this.dialog.open(UserCuComponent, dialogConfig);\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-list\\user-list.component.ts", "chunk_id": 7, "subchunk_id": 0, "start_line": 79, "end_line": 89, "language": "ts", "text": "\n  onDelete(userId) {\n    this.dialogService.openConfirmDialog('Are you sure you want to delete?')\n      .afterClosed().subscribe(res => {\n        if (res) {\n          this.service.deleteUser(userId).subscribe(data => {\n            this.returnOfWebService = data; this.loadData();\n          });\n        }\n      });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\pages\\user\\user-list\\user-list.component.ts", "chunk_id": 8, "subchunk_id": 0, "start_line": 90, "end_line": 93, "language": "ts", "text": "\n  goToDevices(row) {\n    this.router.navigate(['equipment/' + row]);\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\results\\BaseCommandResult.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 16, "language": "ts", "text": "// How it Works: On Post/Put/Delete - WebApi Controller will send a DTO to Handler. Handler will check (validate), if fails, will return in\n// \"BaseCommandResult\" a friendly and pattern message and if there's errors, it will come on an array. If no error, will return the message\n// to be displayed on the screen. The meaning of \"BaseCommandResult\" is always give back a Padronized-Answer to the UI. Note: A Best Approach\n// will be to always have specific results for the operations: CreateUserResult, CreateEquipmentResult, but in this simple systen, it fits.\n\nexport class BaseCommandResult {\n    Success: boolean;\n    Message: string;\n    ResponseDataObj: BaseCommandResultErrors[];\n}\n\n//I will always return an object with 2 fields (it comes from the Flunt Contract on BackEnd)\nexport class BaseCommandResultErrors {\n    Property: string;\n    Message: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\results\\BaseCommandResultDashBoard.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 6, "language": "ts", "text": "// Note: you can read about how works this commandResult in the API > BaseCommandResult class\nexport class BaseCommandResultDashBoard {\n    Success: boolean;\n    Message: string;\n    ResponseDataObj: object;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\results\\dashboard\\GetDashBoardInfo.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 4, "language": "ts", "text": "export class GetDashBoardInfo {\n    Field: string;\n    Value: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\results\\dashboard\\GetDashBoardResult.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 6, "language": "ts", "text": "import { GetDashBoardInfo } from \"./GetDashBoardInfo.model\";\n\nexport class GetDashBoardResult {\n    ListOfAndroid: GetDashBoardInfo[];\n    ListOfManufacturers: GetDashBoardInfo[];\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\results\\devicemodel\\GetDeviceModelResult.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 6, "language": "ts", "text": "export class GetDeviceModelResult {\n    Id: string;\n    Description: string;\n    ManufacturerId: number;\n    Manufacturer: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\results\\equipment\\GetEquipmentResult.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 17, "language": "ts", "text": "export class GetEquipmentResult {\n    Id: string;\n    AndroidId: string;\n    Imei1: string;\n    Imei2: string;\n    PhoneNumber: string;\n    MacAddress: string;\n    ApiLevel: string;\n    ApiLevelDesc: string;\n    SerialNumber: string;\n    SystemName: string;\n    SystemVersion: string;\n    DeviceModelId: string;\n    DeviceModel: string;\n    UserId: string;\n    User: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\results\\equipment\\GetEquipmentResultResumed.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 17, "language": "ts", "text": "export class GetEquipmentResultResumed {\n    Id: string;\n    AndroidId: string;\n    Imei1: string;\n    Imei2: string;\n    PhoneNumber: string;\n    MacAddress: string;\n    ApiLevel: string;\n    ApiLevelDesc: string;\n    SerialNumber: string;\n    SystemName: string;\n    SystemVersion: string;\n    DeviceModelId: string;\n    DeviceModel: string;\n    UserId: string;\n    User: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\results\\manufacturer\\GetManufacturerResult.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 4, "language": "ts", "text": "export class GetManufacturerResult {\n    Id: string;\n    Description: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\results\\user\\GetLoggedUserResult.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 9, "language": "ts", "text": "export class GetLoggedUserResult {\n    EmailAddress: string;\n    IdUser: string;\n    Message: string;\n    NameUser: string;\n    Success: boolean;\n    UsernameOrEmail: string;\n    Data: [];\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\results\\user\\GetUserResult.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 21, "language": "ts", "text": "export class GetUserResult {\n    Id: string;\n    AditionalInfo: string;\n    CountryRegistryNumber: string;\n    StateRegistryNumber: string;\n    EmailAddress: string;\n    FirstName: string;\n    LastName: string;\n    MobilePhoneNumber1: string;\n    MobilePhoneNumber2: string;\n    PhoneNumber1: string;\n    PhoneNumber2: string;\n    City: string;\n    NeighborHood: string;\n    Street: string;\n    StreetNumber: string;\n    ZipCode: string;\n    UserName: string;\n    Password: string;\n    ConfirmPassword: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\results\\user\\GetUsersResumed.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 6, "language": "ts", "text": "export class GetUsersResumed {\n    Id: string;\n    Name: string;\n    Email: string;\n    City: string;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\results\\user\\TokenResult.model.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 7, "language": "ts", "text": "export class TokenResult {\n    Token: string;\n    LoggedSuccessful: string;\n    UserName: string;\n    UserEmail: string;\n    UserId: boolean;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\auth.service.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 103, "end_line": 120, "language": "ts", "text": "    if (tokens.Success) {\n      localStorage.setItem(this.JWT_TOKEN, tokens.ResponseDataObj.Token);\n      //private readonly USERNAME = \"appFullStackDemoUN\";\n      //private readonly USEREMAIL = \"appFullStackDemoEM\";\n      //private readonly USERID = \"appFullStackDemoUI\";\n      localStorage.setItem(\n        this.USERNAME,\n        tokens.ResponseDataObj.UserName\n      );\n      localStorage.setItem(\n        this.USEREMAIL,\n        tokens.ResponseDataObj.UserEmail\n      );\n      localStorage.setItem(\n        this.USERID,\n        tokens.ResponseDataObj.UserId\n      );\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\auth.service.ts", "chunk_id": 0, "subchunk_id": 1, "start_line": 134, "end_line": 147, "language": "ts", "text": "    if (this.getJwtToken() != null) {\n      var isMatch = false;\n      var payLoad = JSON.parse(window.atob(this.getJwtToken().split(\".\")[1]));\n      var userRoles = payLoad.roles as Array<string>;\n      allowedRoles.forEach((element) => {\n        userRoles.forEach((userRole) => {\n          if (userRole == element) {\n            isMatch = true;\n            return false;\n          }\n        });\n      });\n      return isMatch;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\dashboard.service.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 32, "language": "ts", "text": "\n@Injectable({\n    providedIn: \"root\",\n})\nexport class DashBoardService {\n\n    constructor(private http: HttpClient) { }\n    dashBoardData: BaseCommandResultDashBoard;\n\n    initializeFormGroup() { }\n\n    getDashBoardData() {\n        return this.http\n            .get(`${AppApi.AppFullStackDemoApiResourceDashBoard}/v1`)\n            .pipe(\n                retry(2), //if something happens, will retry 2x\n                map(\n                    (res) =>\n                        (this.dashBoardData = res as BaseCommandResultDashBoard)\n                ),\n                catchError((err) => {\n                    return of(null); //if exception happens, i'll return null\n                })\n            );\n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\devicemodel.service.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 65, "language": "ts", "text": "\n@Injectable({\n  providedIn: \"root\",\n})\nexport class DeviceModelService {\n  constructor(private http: HttpClient) { }\n  listDeviceModel: GetDeviceModelResult[];\n\n  // I've created a group for the controls of the form\n  form: FormGroup = new FormGroup({\n    Id: new FormControl(''),\n    Description: new FormControl('', Validators.required),\n    ManufacturerId: new FormControl(''),\n  });\n\n  initializeFormGroup() {\n    this.form.setValue({\n      Id: 0,\n      Description: \"\",\n      ManufacturerId: \"1\",\n    });\n  }\n\n  createDeviceModel(command: CreateDeviceModelCommand) {\n    return this.http\n      .post(\n        `${AppApi.AppFullStackDemoApiResourceDeviceModel}/v1`,\n        JSON.stringify(command)\n      )\n      .pipe(\n        retry(2), //if something happens, will retry 2x\n        catchError((err) => {\n          return of(null); //if exception happens, i'll return null\n        })\n      );\n  }\n\n  updateDeviceModel(command: UpdateDeviceModelCommand) {\n    return this.http\n      .put(\n        `${AppApi.AppFullStackDemoApiResourceDeviceModel}/v1/` + command.Id,\n        JSON.stringify(command)\n      )\n      .pipe(\n        retry(2), //if something happens, will retry 2x\n        catchError((err) => {\n          return of(null); //if exception happens, i'll return null\n        })\n      );\n  }\n\n  deleteDeviceModel(id: string) {\n    return this.http\n      .delete(`${AppApi.AppFullStackDemoApiResourceDeviceModel}/v1/` + id)\n      .pipe(\n        retry(3), //if something happens, will retry 2x"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\devicemodel.service.ts", "chunk_id": 0, "subchunk_id": 1, "start_line": 64, "end_line": 96, "language": "ts", "text": "      .pipe(\n        retry(3), //if something happens, will retry 2x\n        catchError((err) => {\n          return of(null); //if exception happens, i'll return null\n        })\n      );\n  }\n\n  getDeviceModel() {\n    return this.http\n      .get(`${AppApi.AppFullStackDemoApiResourceDeviceModel}/v1`)\n      .pipe(\n        retry(2), //if something happens, will retry 2x\n        map((res) => (this.listDeviceModel = res as GetDeviceModelResult[])),\n        catchError((err) => {\n          return of(null); //if exception happens, i'll return null\n        })\n      );\n  }\n\n  populateForm(deviceModel) {\n    this.http\n      .get(`${AppApi.AppFullStackDemoApiResourceDeviceModel}/v1/` + deviceModel.Id)\n      .subscribe((res) => {\n        const DeviceModelToBeChanged = res as UpdateDeviceModelCommand;\n        this.form.setValue({\n          Id: DeviceModelToBeChanged.Id,\n          Description: DeviceModelToBeChanged.Description,\n          ManufacturerId: DeviceModelToBeChanged.ManufacturerId.toString(), //precisa jogar pra string seno no pega!\n        });\n      });\n  }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\devicemodel.service.ts", "chunk_id": 0, "subchunk_id": 2, "start_line": 95, "end_line": 96, "language": "ts", "text": "  }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\devicemodel.service.ts", "chunk_id": 0, "subchunk_id": 3, "start_line": 96, "end_line": 96, "language": "ts", "text": "}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\equipment.service.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 60, "language": "ts", "text": "\n@Injectable({\n  providedIn: \"root\",\n})\nexport class EquipmentService {\n\n  constructor(private http: HttpClient) { }\n  listEquipment: GetEquipmentResultResumed[];\n  equipmentDetail: GetEquipmentResult[];\n\n  initializeFormGroup() { }\n\n  deleteEquipment(id: string) {\n    return this.http\n      .delete(`${AppApi.AppFullStackDemoApiResourceEquipment}/v1/` + id)\n      .pipe(\n        retry(3), //if something happens, will retry 2x\n        catchError((err) => {\n          return of(null); //if exception happens, i'll return null\n        })\n      );\n  }\n\n  GetEquipments() {\n    return this.http\n      .get(\n        `${AppApi.AppFullStackDemoApiResourceEquipment}/v1/`)\n      .pipe(\n        retry(2), //if something happens, will retry 2x\n        map((res) => (this.listEquipment = res as GetEquipmentResultResumed[])),\n        catchError((err) => {\n          return of(null); //if exception happens, i'll return null\n        })\n      );\n  }\n\n  GetEquipment(id: string) {\n    return this.http\n      .get(\n        `${AppApi.AppFullStackDemoApiResourceEquipment}/v1/` + id)\n      .pipe(\n        retry(2), //if something happens, will retry 2x\n        map((res) => (this.equipmentDetail = res as GetEquipmentResult[])),\n        catchError((err) => {\n          return of(null); //if exception happens, i'll return null\n        })\n      );\n  }\n\n  GetEquipmentsByUser(userId: string) {\n    return this.http\n      .get(`${AppApi.AppFullStackDemoApiResourceEquipment}/v1/user/` + userId)\n      .pipe("}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\equipment.service.ts", "chunk_id": 0, "subchunk_id": 1, "start_line": 59, "end_line": 69, "language": "ts", "text": "      .get(`${AppApi.AppFullStackDemoApiResourceEquipment}/v1/user/` + userId)\n      .pipe(\n        retry(2), //if something happens, will retry 2x\n        map((res) => (this.listEquipment = res as GetEquipmentResultResumed[])),\n        catchError((err) => {\n          return of(null); //if exception happens, i'll return null\n        })\n      );\n  }\n\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\equipment.service.ts", "chunk_id": 0, "subchunk_id": 2, "start_line": 68, "end_line": 69, "language": "ts", "text": "\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\equipment.service.ts", "chunk_id": 0, "subchunk_id": 3, "start_line": 69, "end_line": 69, "language": "ts", "text": "}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\manufacturer.service.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 64, "language": "ts", "text": "\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ManufacturerService {\n  constructor(private http: HttpClient) { }\n  listManufacturer: GetManufacturerResult[];\n\n  // I've created a group for the controls of the form\n  form: FormGroup = new FormGroup({\n    Id: new FormControl(\"\"),\n    Description: new FormControl(\"\", Validators.required),\n  });\n\n  initializeFormGroup() {\n    this.form.setValue({\n      Id: 0,\n      Description: \"\",\n    });\n  }\n\n  createManufacturer(command: CreateManufacturerCommand) {\n    return this.http\n      .post(\n        `${AppApi.AppFullStackDemoApiResourceManufacturer}/v1`,\n        JSON.stringify(command)\n      )\n      .pipe(\n        retry(2), //if something happens, will retry 2x\n        catchError((err) => {\n          return of(null); //if exception happens, i'll return null\n        })\n      );\n  }\n\n  updateManufacturer(command: UpdateManufacturerCommand) {\n    return this.http\n      .put(\n        `${AppApi.AppFullStackDemoApiResourceManufacturer}/v1/` + command.Id,\n        JSON.stringify(command)\n      )\n      .pipe(\n        retry(2), //if something happens, will retry 2x\n        catchError((err) => {\n          return of(null); //if exception happens, i'll return null\n        })\n      );\n  }\n\n  deleteManufacturer(id: string) {\n    return this.http\n      .delete(`${AppApi.AppFullStackDemoApiResourceManufacturer}/v1/` + id)\n      .pipe(\n        retry(3), //if something happens, will retry 2x\n        catchError((err) => {"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\manufacturer.service.ts", "chunk_id": 0, "subchunk_id": 1, "start_line": 63, "end_line": 94, "language": "ts", "text": "        retry(3), //if something happens, will retry 2x\n        catchError((err) => {\n          return of(null); //if exception happens, i'll return null\n        })\n      );\n  }\n\n  getManufacturers() {\n    return this.http\n      .get(`${AppApi.AppFullStackDemoApiResourceManufacturer}/v1/`)\n      .pipe(\n        retry(2), //if something happens, will retry 2x\n        map((res) => (this.listManufacturer = res as GetManufacturerResult[])),\n        catchError((err) => {\n          return of(null); //if exception happens, i'll return null\n        })\n      );\n  }\n\n  populateForm(manufacturer) {\n    this.http\n      .get(\n        `${AppApi.AppFullStackDemoApiResourceManufacturer}/v1/` + manufacturer.Id)\n      .subscribe((res) => {\n        const ManufacturerToBeChanged = res as GetManufacturerResult;\n        this.form.setValue({\n          Id: ManufacturerToBeChanged.Id,\n          Description: ManufacturerToBeChanged.Description,\n        });\n      });\n  }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\manufacturer.service.ts", "chunk_id": 0, "subchunk_id": 2, "start_line": 93, "end_line": 94, "language": "ts", "text": "  }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\manufacturer.service.ts", "chunk_id": 0, "subchunk_id": 3, "start_line": 94, "end_line": 94, "language": "ts", "text": "}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\user.service.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 12, "end_line": 47, "language": "ts", "text": "\n\n@Injectable({\n    providedIn: \"root\",\n})\nexport class UserService {\n\n    createSignupForm(): FormGroup {\n        return this.fb.group(\n            {\n                Id: new FormControl(''),\n                AditionalInfo: new FormControl(''),\n                CountryRegistryNumber: new FormControl(''),\n                StateRegistryNumber: new FormControl(''),\n                EmailAddress: new FormControl('', Validators.required),\n                FirstName: new FormControl('', Validators.required),\n                LastName: new FormControl('', Validators.required),\n                MobilePhoneNumber1: new FormControl(''),\n                MobilePhoneNumber2: new FormControl(''),\n                PhoneNumber1: new FormControl(''),\n                PhoneNumber2: new FormControl(''),\n                City: new FormControl(''),\n                NeighborHood: new FormControl(''),\n                Street: new FormControl(''),\n                StreetNumber: new FormControl(''),\n                ZipCode: new FormControl(''),\n                UserName: new FormControl(''),\n\n                Password: [\n                    null,\n                    Validators.compose([\n                        Validators.required,\n                        // check whether the entered password has a number\n                        CustomValidators.patternValidator(/\\d/, {\n                            hasNumber: true,\n                        }),"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\user.service.ts", "chunk_id": 0, "subchunk_id": 1, "start_line": 46, "end_line": 80, "language": "ts", "text": "                            hasNumber: true,\n                        }),\n                        // check whether the entered password has upper case letter\n                        CustomValidators.patternValidator(/[A-Z]/, {\n                            hasCapitalCase: true,\n                        }),\n                        // check whether the entered password has a lower case letter\n                        CustomValidators.patternValidator(/[a-z]/, {\n                            hasSmallCase: true,\n                        }),\n                        // check whether the entered password has a special character\n                        CustomValidators.patternValidator(\n                            /[ !@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/,\n                            {\n                                hasSpecialCharacters: true,\n                            }\n                        ),\n                        Validators.minLength(8),\n                    ]),\n                ],\n                ConfirmPassword: [null, Validators.compose([Validators.required])],\n            },\n            {\n                // check whether our password and confirm password match\n                validator: CustomValidators.passwordMatchValidator,\n            });\n    }\n\n    listUsers: GetUsersResumed[];\n    public form: FormGroup;\n\n    constructor(private http: HttpClient, private fb: FormBuilder, private service: UserService) {\n        this.form = this.createSignupForm();\n    }\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\user.service.ts", "chunk_id": 0, "subchunk_id": 2, "start_line": 79, "end_line": 127, "language": "ts", "text": "    }\n\n    initializeFormGroup() {\n        this.form.setValue({\n            Id: \"\",\n            AditionalInfo: \"\",\n            CountryRegistryNumber: \"\",\n            StateRegistryNumber: \"\",\n            EmailAddress: \"\",\n            FirstName: \"\",\n            LastName: \"\",\n            MobilePhoneNumber1: \"\",\n            MobilePhoneNumber2: \"\",\n            PhoneNumber1: \"\",\n            PhoneNumber2: \"\",\n            City: \"\",\n            NeighborHood: \"\",\n            Street: \"\",\n            StreetNumber: \"\",\n            ZipCode: \"\",\n            UserName: \"\",\n            Password: \"\",\n            ConfirmPassword: \"\"\n        });\n    }\n\n    createUser(command: CreateUserCommand) {\n        command.UserName = command.EmailAddress; //small hack to create the first config of login with email\n        return this.http\n            .post(\n                `${AppApi.AppFullStackDemoApiResourceUser}/v1`,\n                JSON.stringify(command)\n            )\n            .pipe(\n                retry(2), //if something happens, will retry 2x\n                catchError((err) => {\n                    return of(null); //if exception happens, i'll return null\n                })\n            );\n    }\n\n    updateUser(command: UpdateUserCommand) {\n        return this.http\n            .put(\n                `${AppApi.AppFullStackDemoApiResourceUser}/v1/` + command.Id,\n                JSON.stringify(command)\n            )\n            .pipe(\n                retry(2), //if something happens, will retry 2x"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\user.service.ts", "chunk_id": 0, "subchunk_id": 3, "start_line": 126, "end_line": 166, "language": "ts", "text": "            .pipe(\n                retry(2), //if something happens, will retry 2x\n                catchError((err) => {\n                    return of(null); //if exception happens, i'll return null\n                })\n            );\n    }\n\n    deleteUser(id: string) {\n        return this.http\n            .delete(\n                `${AppApi.AppFullStackDemoApiResourceUser}/v1/` + id\n            )\n            .pipe(\n                retry(2), //if something happens, will retry 2x\n                catchError((err) => {\n                    return of(null); //if exception happens, i'll return null\n                })\n            );\n    }\n\n    getUsers() {\n        return this.http.get(`${AppApi.AppFullStackDemoApiResourceUser}/v1`).pipe(\n            retry(2), //if something happens, will retry 2x\n            map((res) => (this.listUsers = res as GetUsersResumed[])),\n            catchError((err) => {\n                return of(null); //if exception happens, i'll return null\n            })\n        );\n    }\n\n    populateForm(user) {\n        this.http\n            .get(`${AppApi.AppFullStackDemoApiResourceUser}/v1/` + user.Id)\n            .subscribe((res) => {\n                const user = res as GetUserResult;\n                this.form.setValue({\n                    Id: user.Id,\n                    AditionalInfo: user.AditionalInfo,\n                    CountryRegistryNumber: user.CountryRegistryNumber,\n                    StateRegistryNumber: user.StateRegistryNumber,"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\user.service.ts", "chunk_id": 0, "subchunk_id": 4, "start_line": 165, "end_line": 185, "language": "ts", "text": "                    CountryRegistryNumber: user.CountryRegistryNumber,\n                    StateRegistryNumber: user.StateRegistryNumber,\n                    EmailAddress: user.EmailAddress,\n                    FirstName: user.FirstName,\n                    LastName: user.LastName,\n                    MobilePhoneNumber1: user.MobilePhoneNumber1,\n                    MobilePhoneNumber2: user.MobilePhoneNumber2,\n                    PhoneNumber1: user.PhoneNumber1,\n                    PhoneNumber2: user.PhoneNumber2,\n                    City: user.City,\n                    NeighborHood: user.NeighborHood,\n                    Street: user.Street,\n                    StreetNumber: user.StreetNumber,\n                    ZipCode: user.ZipCode,\n                    UserName: user.UserName,\n                    Password: user.Password,\n                    ConfirmPassword: user.ConfirmPassword,\n                });\n            });\n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\user.service.ts", "chunk_id": 0, "subchunk_id": 5, "start_line": 184, "end_line": 185, "language": "ts", "text": "    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\services\\user.service.ts", "chunk_id": 0, "subchunk_id": 6, "start_line": 185, "end_line": 185, "language": "ts", "text": "}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\shared\\custom.validators.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 28, "language": "ts", "text": "\nexport class CustomValidators {\n    static patternValidator(regex: RegExp, error: ValidationErrors): ValidatorFn {\n        return (control: AbstractControl): { [key: string]: any } => {\n            if (!control.value) {\n                // if control is empty return no error\n                return null;\n            }\n\n            // test the value of the control against the regexp supplied\n            const valid = regex.test(control.value);\n\n            // if true, return no error (no error), else return error passed in the second parameter\n            return valid ? null : error;\n        };\n    }\n\n    static passwordMatchValidator(control: AbstractControl) {\n        const Password: string = control.get('Password').value; // get password from our password form control\n        const ConfirmPassword: string = control.get('ConfirmPassword').value; // get password from our confirmPassword form control\n        // compare is the password math\n        if (Password !== ConfirmPassword) {\n            // if they don't match, set an error in our confirmPassword form control\n            control.get('ConfirmPassword').setErrors({ NoPassswordMatch: true });\n        }\n    }\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\shared\\dialog.service.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 10, "language": "ts", "text": "\n  constructor(private dialog: MatDialog) { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\shared\\dialog.service.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 22, "language": "ts", "text": "\n  openConfirmDialog(msg) {\n    return this.dialog.open(MatConfirmDialogComponent, {\n      width: '390px',\n      panelClass: 'confirm-dialog-container',\n      disableClose: true,\n      position: { top: '10px' },\n      data: {\n        message: msg\n      }\n    });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\shared\\enum-describer.service.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 7, "language": "ts", "text": "  transform(value: any, source: any): string {\n    return source[value] || value;\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\shared\\enum-describer.service.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 9, "end_line": 12, "language": "ts", "text": "\nexport function Describe(value: any, source: any): string {\n  return source[value] || value;\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\shared\\error.handler.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 8, "language": "ts", "text": "\n    constructor() { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\shared\\error.handler.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 9, "end_line": 26, "language": "ts", "text": "\n    //recebo um erro que pode ser Response (uma resposta do angular) ou qualquer outra coisa (que irei testar no mtodo)\n    static handleError(error: Response | any) {\n        let errorMessage: string\n\n        //tratamento de erro\n        if (error instanceof Response)//se error for uma response\n        {\n            //se o erro for uma instncia de response - darei uma mensagem mais legvel com cdigo do erro (400, 404...)\n            errorMessage = `Erro ${error.status} ao obter a URL ${error.url} - cdigo erro: ${error.statusText}`\n        }\n        else {\n            errorMessage = error.toString() //se no for uma response e eu no souber o que , pegarei s a mensagem do erro\n        }\n\n        NotificationService.showNotification('warning', 'top', 'right', \"Erro\", errorMessage);\n        return Observable.throw(errorMessage)\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\shared\\notification.service.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 13, "end_line": 13, "language": "ts", "text": "  constructor(public snackBar: MatSnackBar) { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\shared\\notification.service.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 21, "end_line": 25, "language": "ts", "text": "\n  showSuccessMessageSnack(msg) {\n    this.config['panelClass'] = ['notification', 'success']; // CSS File\n    this.snackBar.open(msg, '', this.config);\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\shared\\notification.service.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 26, "end_line": 30, "language": "ts", "text": "\n  showWarnMessageSnack(msg) {\n    this.config['panelClass'] = ['notification', 'warn'];\n    this.snackBar.open(msg, '', this.config);\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\shared\\notification.service.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 31, "end_line": 59, "language": "ts", "text": "\n  //static because i don't need to instance or inject to use it\n  static showNotification(color, from, align, nMessage, message) {\n    //const type = ['', 'info', 'success', 'warning', 'danger'];\n    //const color = Math.floor((Math.random() * 4) + 1);\n\n    $.notify({\n      icon: \"notifications\",\n      message: \"<b>\" + nMessage + \"</b> - \" + message\n\n    }, {\n      type: color,\n      timer: 4000,\n      placement: {\n        from: from,\n        align: align\n      },\n      template: '<div data-notify=\"container\" class=\"col-xl-4 col-lg-4 col-11 col-sm-4 col-md-4 alert alert-{0} alert-with-icon\" role=\"alert\">' +\n        '<button mat-button  type=\"button\" aria-hidden=\"true\" class=\"close mat-button\" data-notify=\"dismiss\">  <i class=\"material-icons\">close</i></button>' +\n        '<i class=\"material-icons\" data-notify=\"icon\">notifications</i> ' +\n        '<span data-notify=\"title\">{1}</span> ' +\n        '<span data-notify=\"message\">{2}</span>' +\n        '<div class=\"progress\" data-notify=\"progressbar\">' +\n        '<div class=\"progress-bar progress-bar-{0}\" role=\"progressbar\" aria-valuenow=\"0\" aria-valuemin=\"0\" aria-valuemax=\"100\" style=\"width: 0%;\"></div>' +\n        '</div>' +\n        '<a href=\"{3}\" target=\"{4}\" data-notify=\"url\"></a>' +\n        '</div>'\n    });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\dashboard\\dashboard.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 21, "end_line": 23, "language": "ts", "text": "\n  constructor(private router: Router, private dashBoardService: DashBoardService) {\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\dashboard\\dashboard.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 24, "end_line": 57, "language": "ts", "text": "\n  startAnimationForLineChart(chart: any) {\n    let seq: number, delays: number, durations: number;\n    seq = 0;\n    delays = 80;\n    durations = 500;\n    chart.on('draw', function (data: any) {\n\n      if (data.type === 'line' || data.type === 'area') {\n        data.element.animate({\n          d: {\n            begin: 600,\n            dur: 700,\n            from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),\n            to: data.path.clone().stringify(),\n            easing: Chartist.Svg.Easing.easeOutQuint\n          }\n        });\n      } else if (data.type === 'point') {\n        seq++;\n        data.element.animate({\n          opacity: {\n            begin: seq * delays,\n            dur: durations,\n            from: 0,\n            to: 1,\n            easing: 'ease'\n          }\n        });\n      }\n    });\n\n    seq = 0;\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\dashboard\\dashboard.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 58, "end_line": 79, "language": "ts", "text": "  startAnimationForBarChart(chart: any) {\n    let seq2: number, delays2: number, durations2: number;\n    seq2 = 0;\n    delays2 = 80;\n    durations2 = 500;\n    chart.on('draw', function (data: any) {\n      if (data.type === 'bar') {\n        seq2++;\n        data.element.animate({\n          opacity: {\n            begin: seq2 * delays2,\n            dur: durations2,\n            from: 0,\n            to: 1,\n            easing: 'ease'\n          }\n        });\n      }\n    });\n\n    seq2 = 0;\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\dashboard\\dashboard.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 84, "end_line": 87, "language": "ts", "text": "        if(list == undefined){\n          //if i cannot load the dashboard, probably tokenexpired, will redirect user to login\n          this.router.navigate(['/pages/login']);\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\dashboard\\dashboard.component.ts", "chunk_id": 3, "subchunk_id": 1, "start_line": 99, "end_line": 101, "language": "ts", "text": "          if (Number(item.Value) > this.deviceManufacturerWithHigherNumber) {\n            this.deviceManufacturerWithHigherNumber = Number(item.Value);\n          }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\dashboard\\dashboard.module.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 24, "language": "ts", "text": "import { NgModule } from \"@angular/core\";\nimport { RouterModule } from \"@angular/router\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\nimport { MdModule } from \"../md/md.module\";\nimport { DashboardComponent } from \"./dashboard.component\";\nimport { DashboardRoutes } from \"./dashboard.routing\";\nimport { MaterialModule } from \"src/app/modules/material.module\";\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(DashboardRoutes),\n    FormsModule,\n    MdModule,\n    MaterialModule,\n  ],\n  declarations: [DashboardComponent],\n  exports: [\n    //I'm exporting DashBoard in this module, and this module will be imported by my MobileControlModule that also need to use Dashboard\n    DashboardComponent,\n  ],\n})\nexport class DashboardModule { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\dashboard\\dashboard.routing.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 16, "language": "ts", "text": "import { Routes } from '@angular/router';\n\nimport { DashboardComponent } from './dashboard.component';\nimport { AuthGuard } from 'src/app/modules/auth/auth.guard';\n\nexport const DashboardRoutes: Routes = [\n  {\n\n    path: '',\n    children: [{\n      path: 'dashboard',\n      component: DashboardComponent,\n      canActivate: [AuthGuard]\n    }]\n  }\n];"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\layouts\\admin\\admin-layout.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 27, "end_line": 29, "language": "ts", "text": "  constructor(private router: Router, location: Location) {\n    this.location = location;\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\layouts\\admin\\admin-layout.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 37, "end_line": 47, "language": "ts", "text": "      if (event instanceof NavigationStart) {\n        if (event.url != this.lastPoppedUrl)\n          this.yScrollStack.push(window.scrollY);\n      } else if (event instanceof NavigationEnd) {\n        if (event.url == this.lastPoppedUrl) {\n          this.lastPoppedUrl = undefined;\n          window.scrollTo(0, this.yScrollStack.pop());\n        }\n        else\n          window.scrollTo(0, 0);\n      }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\layouts\\admin\\admin-layout.component.ts", "chunk_id": 1, "subchunk_id": 1, "start_line": 54, "end_line": 61, "language": "ts", "text": "    if (window.matchMedia(`(min-width: 960px)`).matches && !this.isMac()) {\n      let ps = new PerfectScrollbar(elemMainPanel);\n      ps = new PerfectScrollbar(elemSidebar);\n      html.classList.add('perfect-scrollbar-on');\n    }\n    else {\n      html.classList.add('perfect-scrollbar-off');\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\layouts\\admin\\admin-layout.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 115, "end_line": 117, "language": "ts", "text": "  ngAfterViewInit() {\n    this.runOnRouteChange();\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\layouts\\admin\\admin-layout.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 118, "end_line": 124, "language": "ts", "text": "  public isMap() {\n    if (this.location.prepareExternalUrl(this.location.path()) === '/maps/fullscreen') {\n      return true;\n    } else {\n      return false;\n    }\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\layouts\\admin\\admin-layout.component.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 125, "end_line": 133, "language": "ts", "text": "  runOnRouteChange(): void {\n    if (window.matchMedia(`(min-width: 960px)`).matches && !this.isMac()) {\n      const elemSidebar = <HTMLElement>document.querySelector('.sidebar .sidebar-wrapper');\n      const elemMainPanel = <HTMLElement>document.querySelector('.main-panel');\n      let ps = new PerfectScrollbar(elemMainPanel);\n      ps = new PerfectScrollbar(elemSidebar);\n      ps.update();\n    }\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\layouts\\admin\\admin-layout.component.ts", "chunk_id": 5, "subchunk_id": 0, "start_line": 134, "end_line": 140, "language": "ts", "text": "  isMac(): boolean {\n    let bool = false;\n    if (navigator.platform.toUpperCase().indexOf('MAC') >= 0 || navigator.platform.toUpperCase().indexOf('IPAD') >= 0) {\n      bool = true;\n    }\n    return bool;\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\layouts\\auth\\auth-layout.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 14, "end_line": 17, "language": "ts", "text": "\n  constructor(private router: Router, private element: ElementRef) {\n      this.sidebarVisible = false;\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\layouts\\auth\\auth-layout.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 18, "end_line": 29, "language": "ts", "text": "  ngOnInit(){\n    const navbar: HTMLElement = this.element.nativeElement;\n\n    this.toggleButton = navbar.getElementsByClassName('navbar-toggler')[0];\n    this._router = this.router.events.filter(event => event instanceof NavigationEnd).subscribe((event: NavigationEnd) => {\n      this.sidebarClose();\n      const $layer = document.getElementsByClassName('close-layer')[0];\n      if ($layer) {\n        $layer.remove();\n      }\n    });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\layouts\\auth\\auth-layout.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 30, "end_line": 71, "language": "ts", "text": "  sidebarOpen() {\n    var $toggle = document.getElementsByClassName('navbar-toggler')[0];\n      const toggleButton = this.toggleButton;\n      const body = document.getElementsByTagName('body')[0];\n      setTimeout(function(){\n          toggleButton.classList.add('toggled');\n      }, 500);\n      body.classList.add('nav-open');\n      setTimeout(function() {\n          $toggle.classList.add('toggled');\n      }, 430);\n\n      var $layer = document.createElement('div');\n      $layer.setAttribute('class', 'close-layer');\n\n\n      if (body.querySelectorAll('.wrapper-full-page')) {\n          document.getElementsByClassName('wrapper-full-page')[0].appendChild($layer);\n      }else if (body.classList.contains('off-canvas-sidebar')) {\n          document.getElementsByClassName('wrapper-full-page')[0].appendChild($layer);\n      }\n\n      setTimeout(function() {\n          $layer.classList.add('visible');\n      }, 100);\n\n      $layer.onclick = function() { //asign a function\n        body.classList.remove('nav-open');\n        this.mobile_menu_visible = 0;\n        this.sidebarVisible = false;\n\n        $layer.classList.remove('visible');\n        setTimeout(function() {\n            $layer.remove();\n            $toggle.classList.remove('toggled');\n        }, 400);\n      }.bind(this);\n\n      body.classList.add('nav-open');\n      this.mobile_menu_visible = 1;\n      this.sidebarVisible = true;\n  };"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\layouts\\auth\\auth-layout.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 72, "end_line": 92, "language": "ts", "text": "  sidebarClose() {\n    var $toggle = document.getElementsByClassName('navbar-toggler')[0];\n      const body = document.getElementsByTagName('body')[0];\n      this.toggleButton.classList.remove('toggled');\n      var $layer = document.createElement('div');\n      $layer.setAttribute('class', 'close-layer');\n\n      this.sidebarVisible = false;\n      body.classList.remove('nav-open');\n      // $('html').removeClass('nav-open');\n      body.classList.remove('nav-open');\n      if ($layer) {\n          $layer.remove();\n      }\n\n      setTimeout(function() {\n          $toggle.classList.remove('toggled');\n      }, 400);\n\n      this.mobile_menu_visible = 0;\n  };"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\layouts\\auth\\auth-layout.component.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 93, "end_line": 99, "language": "ts", "text": "  sidebarToggle() {\n      if (this.sidebarVisible === false) {\n          this.sidebarOpen();\n      } else {\n          this.sidebarClose();\n      }\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\mat-confirm-dialog\\mat-confirm-dialog.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 13, "language": "ts", "text": "\n  constructor(\n    @Inject(MAT_DIALOG_DATA)\n    public data,\n    public dialogRef: MatDialogRef<MatConfirmDialogComponent>) { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\mat-confirm-dialog\\mat-confirm-dialog.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 14, "end_line": 16, "language": "ts", "text": "\n  ngOnInit() {\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\mat-confirm-dialog\\mat-confirm-dialog.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 17, "end_line": 20, "language": "ts", "text": "\n  closeDialog() {\n    this.dialogRef.close(false);\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\md\\md.module.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 44, "language": "ts", "text": "\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\n\nimport { MdTableComponent } from './md-table/md-table.component';\nimport { MdChartComponent } from './md-chart/md-chart.component';\n\nexport interface DropdownLink {\n  title: string;\n  iconClass?: string;\n  routerLink?: string;\n}\n\nexport enum NavItemType {\n  Sidebar = 1, // Only ever shown on sidebar\n  NavbarLeft = 2, // Left-aligned icon-only link on navbar in desktop mode, shown above sidebar items on collapsed sidebar in mobile mode\n  NavbarRight = 3 // Right-aligned link on navbar in desktop mode, shown above sidebar items on collapsed sidebar in mobile mode\n}\n\nexport interface NavItem {\n  type: NavItemType;\n  title: string;\n  routerLink?: string;\n  iconClass?: string;\n  numNotifications?: number;\n  dropdownItems?: (DropdownLink | 'separator')[];\n}\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule\n  ],\n  declarations: [\n    MdTableComponent,\n    MdChartComponent\n  ],\n  exports: [\n    MdTableComponent,\n    MdChartComponent\n  ]\n})\nexport class MdModule { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\md\\md-chart\\md-chart.component.spec.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 25, "language": "ts", "text": "\ndescribe('MdChartComponent', () => {\n  let component: MdChartComponent;\n  let fixture: ComponentFixture<MdChartComponent>;\n\n  beforeEach(async(() => {\n    TestBed.configureTestingModule({\n      declarations: [ MdChartComponent ]\n    })\n    .compileComponents();\n  }));\n\n  beforeEach(() => {\n    fixture = TestBed.createComponent(MdChartComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n\n  it('should be created', () => {\n    expect(component).toBeTruthy();\n  });\n});"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\md\\md-chart\\md-chart.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 58, "end_line": 60, "language": "ts", "text": "\n  constructor() {\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\md\\md-chart\\md-chart.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 61, "end_line": 64, "language": "ts", "text": "\n  public ngOnInit(): void {\n    this.chartId = `md-chart-${MdChartComponent.currentId++}`;\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\md\\md-chart\\md-chart.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 65, "end_line": 79, "language": "ts", "text": "\n  public ngAfterViewInit(): void {\n\n    switch (this.chartType) {\n      case ChartType.Pie:\n        new Chartist.Pie(`#${this.chartId}`, this.chartData, this.chartOptions, this.chartResponsive);\n        break;\n      case ChartType.Line:\n        new Chartist.Line(`#${this.chartId}`, this.chartData, this.chartOptions, this.chartResponsive);\n        break;\n      case ChartType.Bar:\n        new Chartist.Bar(`#${this.chartId}`, this.chartData, this.chartOptions, this.chartResponsive);\n        break;\n    }\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\md\\md-table\\md-table.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 25, "end_line": 26, "language": "ts", "text": "\n  constructor() { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\pages\\pages.module.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 27, "language": "ts", "text": "import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n// import { FlexLayoutModule } from '@angular/flex-layout';\n\nimport { PagesRoutes } from './pages.routing';\n\nimport { RegisterComponent } from './register/register.component';\nimport { LoginComponent } from './login/login.component';\nimport { MaterialModule } from 'src/app/modules/material.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    RouterModule.forChild(PagesRoutes),\n    FormsModule,\n    MaterialModule,\n    ReactiveFormsModule\n  ],\n  declarations: [\n    LoginComponent,\n    RegisterComponent\n  ]\n})\n\nexport class PagesModule { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\pages\\pages.routing.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 18, "language": "ts", "text": "import { Routes } from '@angular/router';\n\nimport { RegisterComponent } from './register/register.component';\nimport { LoginComponent } from './login/login.component';\n\nexport const PagesRoutes: Routes = [\n\n    {\n        path: '',\n        children: [{\n            path: 'login',\n            component: LoginComponent\n        }, {\n            path: 'register',\n            component: RegisterComponent\n        }]\n    }\n];"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\pages\\login\\login.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 27, "end_line": 31, "language": "ts", "text": "\n    constructor(private element: ElementRef, public service: AuthService, private router: Router) {\n        this.nativeElement = element.nativeElement;\n        this.sidebarVisible = false;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\pages\\login\\login.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 32, "end_line": 49, "language": "ts", "text": "\n    ngOnInit() {\n        //Fernando - I'll check if already have a Token, if yes, I'll send user to Panel automaticaly\n        if (this.service.getJwtToken() != null) {\n            this.router.navigateByUrl('/dashboard');\n        }\n\n        var navbar: HTMLElement = this.element.nativeElement;\n        this.toggleButton = navbar.getElementsByClassName('navbar-toggle')[0];\n        const body = document.getElementsByTagName('body')[0];\n        body.classList.add('login-page');\n        body.classList.add('off-canvas-sidebar');\n        const card = document.getElementsByClassName('card')[0];\n        setTimeout(function () {\n            // after 1000 ms we add the class animated to the login/register card\n            card.classList.remove('card-hidden');\n        }, 700);\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\pages\\login\\login.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 50, "end_line": 66, "language": "ts", "text": "\n    sidebarToggle() {\n        var toggleButton = this.toggleButton;\n        var body = document.getElementsByTagName('body')[0];\n        var sidebar = document.getElementsByClassName('navbar-collapse')[0];\n        if (this.sidebarVisible == false) {\n            setTimeout(function () {\n                toggleButton.classList.add('toggled');\n            }, 500);\n            body.classList.add('nav-open');\n            this.sidebarVisible = true;\n        } else {\n            this.toggleButton.classList.remove('toggled');\n            this.sidebarVisible = false;\n            body.classList.remove('nav-open');\n        }\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\pages\\login\\login.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 67, "end_line": 72, "language": "ts", "text": "\n    ngOnDestroy() {\n        const body = document.getElementsByTagName('body')[0];\n        body.classList.remove('login-page');\n        body.classList.remove('off-canvas-sidebar');\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\pages\\login\\login.component.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 73, "end_line": 89, "language": "ts", "text": "\n    // Fernando: Will authenticate the user, if authenticated, will save the Token in LocalStorage\n    onSubmit() {\n        this.service.login({ username: this.form.controls['UserName'].value, password: this.form.controls['Password'].value }).subscribe(\n            (result: any) => { //if i have any kind of result                \n                if (result.Success) {\n                    this.router.navigateByUrl('/dashboard');\n                }\n            },\n            err => {\n                if (err.status == 400)\n                    NotificationService.showNotification('warning', 'top', 'right', 'Usurio ou Senha incorretos', err.message);\n                else\n                    console.log(err);\n            }\n        );\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\pages\\login\\login.component.ts", "chunk_id": 5, "subchunk_id": 0, "start_line": 90, "end_line": 104, "language": "ts", "text": "\n    //NOTE BY FERNANDO: TO TEST API (the test-method on the backend), Just remove the \"2\" and this method will be called\n    onSubmit2() {\n        this.service.testApi().subscribe(\n            (result: any) => { //if i have any kind of result                \n\n            },\n            err => {\n                if (err.status == 400)\n                    NotificationService.showNotification('warning', 'top', 'right', 'Usurio ou Senha incorretos', err.message);\n                else\n                    console.log(err);\n            }\n        );\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\pages\\register\\register.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 13, "end_line": 14, "language": "ts", "text": "\n  constructor(private service: UserService) { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\pages\\register\\register.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 15, "end_line": 20, "language": "ts", "text": "\n  ngOnInit() {\n    const body = document.getElementsByTagName('body')[0];\n    body.classList.add('register-page');\n    body.classList.add('off-canvas-sidebar');\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\pages\\register\\register.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 21, "end_line": 25, "language": "ts", "text": "  ngOnDestroy() {\n    const body = document.getElementsByTagName('body')[0];\n    body.classList.remove('register-page');\n    body.classList.remove('off-canvas-sidebar');\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\pages\\register\\register.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 26, "end_line": 36, "language": "ts", "text": "\n  onSubmit() {\n    this.service.createUser(this.service.form.value).subscribe(res => {\n      let baseCommandResult = res as BaseCommandResult;\n      if (baseCommandResult.Success == true) {\n        NotificationService.showNotification('success', 'top', 'right', 'Success', baseCommandResult.Message);\n      } else {\n        NotificationService.showNotification('warn', 'top', 'right', 'Error', baseCommandResult.Message);\n      }\n    });\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.spec.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 25, "language": "ts", "text": "\ndescribe('FixedpluginComponent', () => {\n  let component: FixedpluginComponent;\n  let fixture: ComponentFixture<FixedpluginComponent>;\n\n  beforeEach(async(() => {\n    TestBed.configureTestingModule({\n      declarations: [ FixedpluginComponent ]\n    })\n    .compileComponents();\n  }));\n\n  beforeEach(() => {\n    fixture = TestBed.createComponent(FixedpluginComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  });\n\n  it('should be created', () => {\n    expect(component).toBeTruthy();\n  });\n});"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 19, "end_line": 20, "language": "ts", "text": "\n  constructor() { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 33, "end_line": 39, "language": "ts", "text": "\n      if ( window_width > 767 && fixed_plugin_open === 'Dashboard' ) {\n          if ($('.fixed-plugin .dropdown').hasClass('show-dropdown')) {\n              $('.fixed-plugin .dropdown').addClass('open');\n          }\n\n      }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.ts", "chunk_id": 1, "subchunk_id": 1, "start_line": 44, "end_line": 50, "language": "ts", "text": "          if ($(this).hasClass('switch-trigger')) {\n              if (event.stopPropagation) {\n                  event.stopPropagation();\n              } else if (window.event) {\n                 window.event.cancelBubble = true;\n              }\n          }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.ts", "chunk_id": 1, "subchunk_id": 2, "start_line": 60, "end_line": 62, "language": "ts", "text": "          if ($sidebar.length !== 0) {\n              $sidebar.attr('data-color', new_color);\n          }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.ts", "chunk_id": 1, "subchunk_id": 3, "start_line": 64, "end_line": 66, "language": "ts", "text": "          if ($full_page.length !== 0) {\n              $full_page.attr('filter-color', new_color);\n          }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.ts", "chunk_id": 1, "subchunk_id": 4, "start_line": 68, "end_line": 70, "language": "ts", "text": "          if ($sidebar_responsive.length !== 0) {\n              $sidebar_responsive.attr('data-color', new_color);\n          }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.ts", "chunk_id": 1, "subchunk_id": 5, "start_line": 78, "end_line": 80, "language": "ts", "text": "          if ($sidebar.length !== 0) {\n              $sidebar.attr('data-background-color', new_color);\n          }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.ts", "chunk_id": 1, "subchunk_id": 6, "start_line": 91, "end_line": 96, "language": "ts", "text": "          if ( $sidebar_img_container.length !== 0 && $('.switch-sidebar-image input:checked').length !== 0 ) {\n              $sidebar_img_container.fadeOut('fast', function() {\n                 $sidebar_img_container.css('background-image', 'url(\"' + new_image + '\")');\n                 $sidebar_img_container.fadeIn('fast');\n              });\n          }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.ts", "chunk_id": 1, "subchunk_id": 7, "start_line": 98, "end_line": 105, "language": "ts", "text": "          if ($full_page_background.length !== 0 && $('.switch-sidebar-image input:checked').length !== 0 ) {\n              const new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');\n\n              $full_page_background.fadeOut('fast', function(){\n                 $full_page_background.css('background-image', 'url(\"' + new_image_full_page + '\")');\n                 $full_page_background.fadeIn('fast');\n              });\n          }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.ts", "chunk_id": 1, "subchunk_id": 8, "start_line": 107, "end_line": 113, "language": "ts", "text": "          if ( $('.switch-sidebar-image input:checked').length === 0 ) {\n              new_image = $('.fixed-plugin li.active .img-holder').find('img').attr('src');\n              const new_image_full_page = $('.fixed-plugin li.active .img-holder').find('img').data('src');\n\n              $sidebar_img_container.css('background-image', 'url(\"' + new_image + '\")');\n              $full_page_background.css('background-image', 'url(\"' + new_image_full_page + '\")');\n          }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.ts", "chunk_id": 1, "subchunk_id": 9, "start_line": 115, "end_line": 117, "language": "ts", "text": "          if ($sidebar_responsive.length !== 0) {\n              $sidebar_responsive.css('background-image', 'url(\"' + new_image + '\")');\n          }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.ts", "chunk_id": 1, "subchunk_id": 10, "start_line": 124, "end_line": 148, "language": "ts", "text": "          if ($input.is(':checked')) {\n              if ($sidebar_img_container.length !== 0) {\n                  $sidebar_img_container.fadeIn('fast');\n                  $sidebar.attr('data-image', '#');\n              }\n\n              if ($full_page_background.length !== 0) {\n                  $full_page_background.fadeIn('fast');\n                  $full_page.attr('data-image', '#');\n              }\n\n              const background_image = true;\n          } else {\n              if ($sidebar_img_container.length !== 0) {\n                  $sidebar.removeAttr('data-image');\n                  $sidebar_img_container.fadeOut('fast');\n              }\n\n              if ($full_page_background.length !== 0) {\n                  $full_page.removeAttr('data-image', '#');\n                  $full_page_background.fadeOut('fast');\n              }\n\n              const background_image = false;\n          }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.component.ts", "chunk_id": 1, "subchunk_id": 11, "start_line": 156, "end_line": 167, "language": "ts", "text": "          if (md.misc.sidebar_mini_active === true) {\n              $('body').removeClass('sidebar-mini');\n              md.misc.sidebar_mini_active = false;\n\n          } else {\n              setTimeout(function(){\n                  $('body').addClass('sidebar-mini');\n\n                  $('.sidebar .collapse').css('height', 'auto');\n                  md.misc.sidebar_mini_active = true;\n              }, 300);\n          }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\fixedplugin\\fixedplugin.module.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 12, "language": "ts", "text": "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FixedpluginComponent } from './fixedplugin.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [FixedpluginComponent],\n  exports: [FixedpluginComponent]\n})\nexport class FixedpluginModule { }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\footer\\footer.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 10, "language": "ts", "text": "import { Component } from '@angular/core';\n\n@Component({\n    selector: 'app-footer-cmp',\n    templateUrl: 'footer.component.html'\n})\n\nexport class FooterComponent {\n    test: Date = new Date();\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\footer\\footer.module.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 12, "language": "ts", "text": "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { FooterComponent } from './footer.component';\n\n@NgModule({\n    imports: [ RouterModule, CommonModule ],\n    declarations: [ FooterComponent ],\n    exports: [ FooterComponent ]\n})\n\nexport class FooterModule {}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\navbar\\navbar.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 29, "end_line": 34, "language": "ts", "text": "\n    constructor(public service: AuthService, location: Location, private renderer: Renderer, private element: ElementRef, private router: Router) {\n        this.location = location;\n        this.nativeElement = element.nativeElement;\n        this.sidebarVisible = false;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\navbar\\navbar.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 35, "end_line": 59, "language": "ts", "text": "    minimizeSidebar() {\n        const body = document.getElementsByTagName('body')[0];\n\n        if (misc.sidebar_mini_active === true) {\n            body.classList.remove('sidebar-mini');\n            misc.sidebar_mini_active = false;\n\n        } else {\n            setTimeout(function () {\n                body.classList.add('sidebar-mini');\n\n                misc.sidebar_mini_active = true;\n            }, 300);\n        }\n\n        // we simulate the window Resize so the charts will get updated in realtime.\n        const simulateWindowResize = setInterval(function () {\n            window.dispatchEvent(new Event('resize'));\n        }, 180);\n\n        // we stop the simulation of Window Resize after the animations are completed\n        setTimeout(function () {\n            clearInterval(simulateWindowResize);\n        }, 1000);\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\navbar\\navbar.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 60, "end_line": 91, "language": "ts", "text": "    hideSidebar() {\n        const body = document.getElementsByTagName('body')[0];\n        const sidebar = document.getElementsByClassName('sidebar')[0];\n\n        if (misc.hide_sidebar_active === true) {\n            setTimeout(function () {\n                body.classList.remove('hide-sidebar');\n                misc.hide_sidebar_active = false;\n            }, 300);\n            setTimeout(function () {\n                sidebar.classList.remove('animation');\n            }, 600);\n            sidebar.classList.add('animation');\n\n        } else {\n            setTimeout(function () {\n                body.classList.add('hide-sidebar');\n                // $('.sidebar').addClass('animation');\n                misc.hide_sidebar_active = true;\n            }, 300);\n        }\n\n        // we simulate the window Resize so the charts will get updated in realtime.\n        const simulateWindowResize = setInterval(function () {\n            window.dispatchEvent(new Event('resize'));\n        }, 180);\n\n        // we stop the simulation of Window Resize after the animations are completed\n        setTimeout(function () {\n            clearInterval(simulateWindowResize);\n        }, 1000);\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\navbar\\navbar.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 92, "end_line": 113, "language": "ts", "text": "\n    ngOnInit() {\n        this.listTitles = ROUTES.filter(listTitle => listTitle);\n\n        const navbar: HTMLElement = this.element.nativeElement;\n        const body = document.getElementsByTagName('body')[0];\n        this.toggleButton = navbar.getElementsByClassName('navbar-toggler')[0];\n        if (body.classList.contains('sidebar-mini')) {\n            misc.sidebar_mini_active = true;\n        }\n        if (body.classList.contains('hide-sidebar')) {\n            misc.hide_sidebar_active = true;\n        }\n        this._router = this.router.events.filter(event => event instanceof NavigationEnd).subscribe((event: NavigationEnd) => {\n            this.sidebarClose();\n\n            const $layer = document.getElementsByClassName('close-layer')[0];\n            if ($layer) {\n                $layer.remove();\n            }\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\navbar\\navbar.component.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 114, "end_line": 119, "language": "ts", "text": "    onResize(event) {\n        if ($(window).width() > 991) {\n            return false;\n        }\n        return true;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\navbar\\navbar.component.ts", "chunk_id": 5, "subchunk_id": 0, "start_line": 120, "end_line": 161, "language": "ts", "text": "    sidebarOpen() {\n        var $toggle = document.getElementsByClassName('navbar-toggler')[0];\n        const toggleButton = this.toggleButton;\n        const body = document.getElementsByTagName('body')[0];\n        setTimeout(function () {\n            toggleButton.classList.add('toggled');\n        }, 500);\n        body.classList.add('nav-open');\n        setTimeout(function () {\n            $toggle.classList.add('toggled');\n        }, 430);\n\n        var $layer = document.createElement('div');\n        $layer.setAttribute('class', 'close-layer');\n\n\n        if (body.querySelectorAll('.main-panel')) {\n            document.getElementsByClassName('main-panel')[0].appendChild($layer);\n        } else if (body.classList.contains('off-canvas-sidebar')) {\n            document.getElementsByClassName('wrapper-full-page')[0].appendChild($layer);\n        }\n\n        setTimeout(function () {\n            $layer.classList.add('visible');\n        }, 100);\n\n        $layer.onclick = function () { //asign a function\n            body.classList.remove('nav-open');\n            this.mobile_menu_visible = 0;\n            this.sidebarVisible = false;\n\n            $layer.classList.remove('visible');\n            setTimeout(function () {\n                $layer.remove();\n                $toggle.classList.remove('toggled');\n            }, 400);\n        }.bind(this);\n\n        body.classList.add('nav-open');\n        this.mobile_menu_visible = 1;\n        this.sidebarVisible = true;\n    };"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\navbar\\navbar.component.ts", "chunk_id": 6, "subchunk_id": 0, "start_line": 162, "end_line": 182, "language": "ts", "text": "    sidebarClose() {\n        var $toggle = document.getElementsByClassName('navbar-toggler')[0];\n        const body = document.getElementsByTagName('body')[0];\n        this.toggleButton.classList.remove('toggled');\n        var $layer = document.createElement('div');\n        $layer.setAttribute('class', 'close-layer');\n\n        this.sidebarVisible = false;\n        body.classList.remove('nav-open');\n        // $('html').removeClass('nav-open');\n        body.classList.remove('nav-open');\n        if ($layer) {\n            $layer.remove();\n        }\n\n        setTimeout(function () {\n            $toggle.classList.remove('toggled');\n        }, 400);\n\n        this.mobile_menu_visible = 0;\n    };"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\navbar\\navbar.component.ts", "chunk_id": 7, "subchunk_id": 0, "start_line": 183, "end_line": 189, "language": "ts", "text": "    sidebarToggle() {\n        if (this.sidebarVisible === false) {\n            this.sidebarOpen();\n        } else {\n            this.sidebarClose();\n        }\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\navbar\\navbar.component.ts", "chunk_id": 8, "subchunk_id": 0, "start_line": 190, "end_line": 209, "language": "ts", "text": "\n    getTitle() {\n        var titlee = this.location.prepareExternalUrl(this.location.path());\n        if (titlee.charAt(0) === '#') {\n            titlee = titlee.slice(1);\n        }\n        for (let i = 0; i < this.listTitles.length; i++) {\n            if (this.listTitles[i].type === \"link\" && this.listTitles[i].path === titlee) {\n                return this.listTitles[i].title;\n            } else if (this.listTitles[i].type === \"sub\") {\n                for (let j = 0; j < this.listTitles[i].children.length; j++) {\n                    let subtitle = this.listTitles[i].path + '/' + this.listTitles[i].children[j].path;\n                    if (subtitle === titlee) {\n                        return this.listTitles[i].children[j].title;\n                    }\n                }\n            }\n        }\n        return 'Dashboard';\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\navbar\\navbar.component.ts", "chunk_id": 9, "subchunk_id": 0, "start_line": 210, "end_line": 212, "language": "ts", "text": "    getPath() {\n        return this.location.prepareExternalUrl(this.location.path());\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\navbar\\navbar.component.ts", "chunk_id": 10, "subchunk_id": 0, "start_line": 213, "end_line": 218, "language": "ts", "text": "\n    //Fernando: Quit the User By deleting the Token\n    logoutUser() {\n        this.service.logout();\n        this.router.navigate(['/pages/login']);\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\shared\\navbar\\navbar.module.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 12, "language": "ts", "text": "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { NavbarComponent } from './navbar.component';\nimport { MatButtonModule } from '@angular/material';\n@NgModule({\n    imports: [ RouterModule, CommonModule, MatButtonModule ],\n    declarations: [ NavbarComponent ],\n    exports: [ NavbarComponent ]\n})\n\nexport class NavbarModule {}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\sidebar\\sidebar.component.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 65, "end_line": 70, "language": "ts", "text": "    isMobileMenu() {\n        if ($(window).width() > 991) {\n            return false;\n        }\n        return true;\n    };"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\sidebar\\sidebar.component.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 71, "end_line": 73, "language": "ts", "text": "\n    constructor(public router: Router, public service: AuthService) {\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\sidebar\\sidebar.component.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 74, "end_line": 93, "language": "ts", "text": "\n    ngOnInit() {\n        //Fernando - Here I`ll get the Profile of the User Based on the Token. NOTE: On 012020 this method was\n        //commented because i have the Information on LocalStorage. So I'll get from there...\n        // this.service.getUserProfile().subscribe(\n        //     res => {\n        //         const userLogged = res as GetLoggedUserResult;\n        //         this.name = userLogged.NameUser;\n        //         this.email = userLogged.EmailAddress;\n        //     });\n\n        this.name = localStorage.getItem('appFullStackDemoUN');\n        this.email = localStorage.getItem('appFullStackDemoEM');\n\n        this.menuItems = ROUTES.filter(menuItem => menuItem);\n        if (window.matchMedia(`(min-width: 960px)`).matches && !this.isMac()) {\n            const elemSidebar = <HTMLElement>document.querySelector('.sidebar .sidebar-wrapper');\n            this.ps = new PerfectScrollbar(elemSidebar);\n        }\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\sidebar\\sidebar.component.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 94, "end_line": 98, "language": "ts", "text": "    updatePS(): void {\n        if (window.matchMedia(`(min-width: 960px)`).matches && !this.isMac()) {\n            this.ps.update();\n        }\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\sidebar\\sidebar.component.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 99, "end_line": 105, "language": "ts", "text": "    isMac(): boolean {\n        let bool = false;\n        if (navigator.platform.toUpperCase().indexOf('MAC') >= 0 || navigator.platform.toUpperCase().indexOf('IPAD') >= 0) {\n            bool = true;\n        }\n        return bool;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\app\\template\\sidebar\\sidebar.module.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 12, "language": "ts", "text": "import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { SidebarComponent } from './sidebar.component';\n\n@NgModule({\n    imports: [ RouterModule, CommonModule ],\n    declarations: [ SidebarComponent ],\n    exports: [ SidebarComponent ]\n})\n\nexport class SidebarModule {}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\environments\\environment.prod.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "ts", "text": "export const environment = {\n  production: true\n};"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\FrontEnd\\src\\environments\\environment.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 8, "language": "ts", "text": "// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\App.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 6, "language": "js", "text": "\nexport default function App() {\n  return <Routes />\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\babel.config.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "module.exports = {\n  presets: ['module:metro-react-native-babel-preset'],\n};"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 12, "language": "js", "text": "\nconst RNRedux = () => (\n  <Provider store={store}>\n    <App />\n  </Provider>\n);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\index.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 15, "language": "js", "text": "\n\nAppRegistry.registerComponent(appName, () => RNRedux);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\metro.config.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 17, "language": "js", "text": "\nmodule.exports = {\n  transformer: {\n    getTransformOptions: async () => ({\n      transform: {\n        experimentalImportSupport: false,\n        inlineRequires: false,\n      },\n    }),\n  },\n};"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\store.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 19, "language": "js", "text": "\nconst App = handleActions(\n  {\n    [SET_HEART_BEAT]: (state, { payload }) => ({\n      ...state,\n      heartBeat: payload,\n    }),\n  },\n  appInitialState,\n);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\store.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 24, "end_line": 25, "language": "js", "text": "\nconst configureStore = () => createStore(rootReducer);"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\gradlew.bat", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 58, "language": "bat", "text": "@if \"%DEBUG%\" == \"\" @echo off\n@rem ##########################################################################\n@rem\n@rem  Gradle startup script for Windows\n@rem\n@rem ##########################################################################\n\n@rem Set local scope for the variables with windows NT shell\nif \"%OS%\"==\"Windows_NT\" setlocal\n\nset DIRNAME=%~dp0\nif \"%DIRNAME%\" == \"\" set DIRNAME=.\nset APP_BASE_NAME=%~n0\nset APP_HOME=%DIRNAME%\n\n@rem Add default JVM options here. You can also use JAVA_OPTS and GRADLE_OPTS to pass JVM options to this script.\nset DEFAULT_JVM_OPTS=\n\n@rem Find java.exe\nif defined JAVA_HOME goto findJavaFromJavaHome\n\nset JAVA_EXE=java.exe\n%JAVA_EXE% -version >NUL 2>&1\nif \"%ERRORLEVEL%\" == \"0\" goto init\n\necho.\necho ERROR: JAVA_HOME is not set and no 'java' command could be found in your PATH.\necho.\necho Please set the JAVA_HOME variable in your environment to match the\necho location of your Java installation.\n\ngoto fail\n\n:findJavaFromJavaHome\nset JAVA_HOME=%JAVA_HOME:\"=%\nset JAVA_EXE=%JAVA_HOME%/bin/java.exe\n\nif exist \"%JAVA_EXE%\" goto init\n\necho.\necho ERROR: JAVA_HOME is set to an invalid directory: %JAVA_HOME%\necho.\necho Please set the JAVA_HOME variable in your environment to match the\necho location of your Java installation.\n\ngoto fail\n\n:init\n@rem Get command-line arguments, handling Windows variants\n\nif not \"%OS%\" == \"Windows_NT\" goto win9xME_args\n\n:win9xME_args\n@rem Slurp the command line arguments.\nset CMD_LINE_ARGS=\nset _SKIP=2\n\n:win9xME_args_slurp"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\gradlew.bat", "chunk_id": 0, "subchunk_id": 1, "start_line": 57, "end_line": 80, "language": "bat", "text": "\n:win9xME_args_slurp\nif \"x%~1\" == \"x\" goto execute\n\nset CMD_LINE_ARGS=%*\n\n:execute\n@rem Setup the command line\n\nset CLASSPATH=%APP_HOME%\\gradle\\wrapper\\gradle-wrapper.jar\n\n@rem Execute Gradle\n\"%JAVA_EXE%\" %DEFAULT_JVM_OPTS% %JAVA_OPTS% %GRADLE_OPTS% \"-Dorg.gradle.appname=%APP_BASE_NAME%\" -classpath \"%CLASSPATH%\" org.gradle.wrapper.GradleWrapperMain %CMD_LINE_ARGS%\n\n:end\n@rem End local scope for the variables with windows NT shell\nif \"%ERRORLEVEL%\"==\"0\" goto mainEnd\n\n:fail\nrem Set variable GRADLE_EXIT_CONSOLE if you need the _script_ return code instead of\nrem the _cmd.exe /c_ return code!\nif  not \"\" == \"%GRADLE_EXIT_CONSOLE%\" exit 1\nexit /b 1\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\gradlew.bat", "chunk_id": 0, "subchunk_id": 2, "start_line": 79, "end_line": 80, "language": "bat", "text": "exit /b 1\n"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\gradlew.bat", "chunk_id": 1, "subchunk_id": 0, "start_line": 80, "end_line": 84, "language": "bat", "text": "\n:mainEnd\nif \"%OS%\"==\"Windows_NT\" endlocal\n\n:omega"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\BootUpReceiver.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 12, "language": "java", "text": "\n    @Override\n    public void onReceive(Context context, Intent intent) {\n        context.startService(new Intent(context, HeartbeatService.class));\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\HeartbeatEventService.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 12, "end_line": 16, "language": "java", "text": "    @Nullable\n    protected HeadlessJsTaskConfig getTaskConfig(Intent intent) {\n        Bundle extras = intent.getExtras();\n        return new HeadlessJsTaskConfig(\"Heartbeat\", extras != null ? Arguments.fromBundle(extras) : null, 5000, true);\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\HeartbeatModule.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 15, "end_line": 19, "language": "java", "text": "\n    public HeartbeatModule(@Nonnull ReactApplicationContext reactContext) {\n        super(reactContext);\n        this.reactContext = reactContext;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\HeartbeatModule.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 20, "end_line": 25, "language": "java", "text": "\n    @Nonnull\n    @Override\n    public String getName() {\n        return REACT_CLASS;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\HeartbeatModule.java", "chunk_id": 2, "subchunk_id": 0, "start_line": 26, "end_line": 30, "language": "java", "text": "\n    @ReactMethod\n    public void startService() {\n        this.reactContext.startService(new Intent(this.reactContext, HeartbeatService.class));\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\HeartbeatModule.java", "chunk_id": 3, "subchunk_id": 0, "start_line": 31, "end_line": 35, "language": "java", "text": "\n    @ReactMethod\n    public void stopService() {\n        this.reactContext.stopService(new Intent(this.reactContext, HeartbeatService.class));\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\HeartbeatPackage.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 13, "end_line": 17, "language": "java", "text": "\n    @Override\n    public List<NativeModule> createNativeModules(ReactApplicationContext reactContext) {\n        return Arrays.<NativeModule>asList(new HeartbeatModule(reactContext));\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\HeartbeatPackage.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 18, "end_line": 22, "language": "java", "text": "\n    @Override\n    public List<ViewManager> createViewManagers(ReactApplicationContext reactContext) {\n        return Collections.emptyList();\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\HeartbeatService.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 25, "end_line": 32, "language": "java", "text": "        @Override\n        public void run() {\n            Context context = getApplicationContext();\n            Intent myIntent = new Intent(context, HeartbeatEventService.class);\n            context.startService(myIntent);\n            HeadlessJsTaskService.acquireWakeLockNow(context);\n            handler.postDelayed(this, 60000); // have to match with the equipmentLog.Service (60000 = 1 minute)\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\HeartbeatService.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 34, "end_line": 45, "language": "java", "text": "\n    private void createNotificationChannel() {\n        // Create the NotificationChannel, but only on API 26+ because\n        // the NotificationChannel class is new and not in the support library\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {\n            int importance = NotificationManager.IMPORTANCE_DEFAULT;\n            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, \"APPFULLSTACKDEMO\", importance);\n            channel.setDescription(\"Servio de BackGround do Mobile Control\");\n            NotificationManager notificationManager = getSystemService(NotificationManager.class);\n            notificationManager.createNotificationChannel(channel);\n        }\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\HeartbeatService.java", "chunk_id": 2, "subchunk_id": 0, "start_line": 46, "end_line": 50, "language": "java", "text": "\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\HeartbeatService.java", "chunk_id": 3, "subchunk_id": 0, "start_line": 51, "end_line": 56, "language": "java", "text": "\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\HeartbeatService.java", "chunk_id": 4, "subchunk_id": 0, "start_line": 57, "end_line": 62, "language": "java", "text": "\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        this.handler.removeCallbacks(this.runnableCode);\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\HeartbeatService.java", "chunk_id": 5, "subchunk_id": 0, "start_line": 63, "end_line": 76, "language": "java", "text": "\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        this.handler.post(this.runnableCode);\n        createNotificationChannel();\n        Intent notificationIntent = new Intent(this, MainActivity.class);\n        PendingIntent contentIntent = PendingIntent.getActivity(this, 0, notificationIntent,\n                PendingIntent.FLAG_CANCEL_CURRENT);\n        Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID).setContentTitle(\"Mobile Control\")\n                .setContentText(\"Sincronizao ativa...\").setSmallIcon(R.mipmap.ic_launcher)\n                .setContentIntent(contentIntent).setOngoing(true).build();\n        startForeground(SERVICE_NOTIFICATION_ID, notification);\n        return START_STICKY;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\MainActivity.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 11, "end_line": 14, "language": "java", "text": "    @Override\n    protected String getMainComponentName() {\n        return \"AppFullStackDemo\";\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\MainApplication.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 22, "end_line": 25, "language": "java", "text": "    @Override\n    public boolean getUseDeveloperSupport() {\n      return BuildConfig.DEBUG;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\MainApplication.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 26, "end_line": 32, "language": "java", "text": "\n    @Override\n    protected List<ReactPackage> getPackages() {\n      return Arrays.<ReactPackage>asList(new MainReactPackage(), new GeolocationPackage(),\n          new ReactNativeGetLocationPackage(), new IMEI(), new RNDeviceInfo(), new AsyncStoragePackage(),\n          new HeartbeatPackage(), new RNFusedLocationPackage());\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\MainApplication.java", "chunk_id": 2, "subchunk_id": 0, "start_line": 33, "end_line": 37, "language": "java", "text": "\n    @Override\n    protected String getJSMainModuleName() {\n      return \"index\";\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\MainApplication.java", "chunk_id": 3, "subchunk_id": 0, "start_line": 39, "end_line": 43, "language": "java", "text": "\n  @Override\n  public ReactNativeHost getReactNativeHost() {\n    return mReactNativeHost;\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\android\\app\\src\\main\\java\\com\\mobilecontrol\\MainApplication.java", "chunk_id": 4, "subchunk_id": 0, "start_line": 44, "end_line": 49, "language": "java", "text": "\n  @Override\n  public void onCreate() {\n    super.onCreate();\n    SoLoader.init(this, /* native exopackage */ false);\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\routes.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 14, "language": "js", "text": "import { createAppContainer, createSwitchNavigator } from 'react-navigation';\nimport Login from './pages/Login';\nimport Dashboard from './pages/Dashboard';\nimport SaveDevice from './pages/SaveDevice'\n\nconst Routes = createAppContainer(\n    createSwitchNavigator({\n        Login,\n        Dashboard,\n        SaveDevice\n    })\n);\n\nexport default Routes;"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\commands\\equipment\\CreateEquipmentCommand.model.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 16, "end_line": 45, "language": "js", "text": "\n    constructor(\n        androidId,\n        imei1,\n        imei2,\n        phoneNumber,\n        macAddress,\n        apiLevel,\n        apiLevelDesc,\n        serialNumber,\n        systemName,\n        systemVersion,\n        manufacturer,\n        model,\n        userId\n    ) {\n        this.AndroidId = androidId;\n        this.Imei1 = imei1;\n        this.Imei2 = imei2;\n        this.PhoneNumber = phoneNumber;\n        this.MacAddress = macAddress;\n        this.ApiLevel = apiLevel;\n        this.ApiLevelDesc = apiLevelDesc;\n        this.SerialNumber = serialNumber;\n        this.SystemName = systemName;\n        this.SystemVersion = systemVersion;\n        this.Manufacturer = manufacturer;\n        this.Model = model;\n        this.UserId = userId;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\commands\\user\\LoginUserCommand.model.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 8, "language": "js", "text": "    constructor(password, username) {\n        this.Password = password;\n        this.Username = username;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\helpers\\LocalHostResolver.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 5, "language": "js", "text": "\n    constructor() {\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\helpers\\LocalHostResolver.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 6, "end_line": 14, "language": "js", "text": "\n    //helper to change \"localhost\" to machine IP (Emulator don't accept \"localhost\") (will be removed on deploy)\n    //because API server will never be localhost, this will be ignored (probably) during deploy. Anyway i can deactivate\n    resolveLocalHost(url) {\n        let strToReplace = url.toString();\n        //strToReplace = strToReplace.replace('localhost', '192.168.1.7'); //put here the address of localMachine\n        strToReplace = strToReplace.replace('localhost', 'http://www.futuradata.com.br/acback'); //put here the address of localMachine\n        return strToReplace;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\Dashboard.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 15, "end_line": 55, "language": "js", "text": "\nexport default function Dashboard({\n  navigation\n}) {\n  const [token, setToken] = useState(\"\");\n  const [userName, setUserName] = useState(\"\");\n  const [userEmail, setUserEmail] = useState(\"\");\n  const [userId, setUserId] = useState(\"\");\n  const [equipId, setEquipId] = useState(\"\"); //BackEnd\n\n  useEffect(() => {\n    async function loadUser() {\n      setToken(await AsyncStorage.getItem(\"appFullStackDemoTK\"));\n      setUserName(await AsyncStorage.getItem(\"appFullStackDemoUN\"));\n      setUserEmail(await AsyncStorage.getItem(\"appFullStackDemoEM\"));\n      setUserId(await AsyncStorage.getItem(\"appFullStackDemoUI\"));\n      setEquipId(await AsyncStorage.getItem(\"appFullStackDemoEQ\"));\n      await requestReadPhoneStatePermission();\n    }\n    loadUser();\n  }, []);\n\n  async function requisitarPermissoesNavegarSaveDevice() {\n    await requestReadPhoneStatePermission();\n    navigation.navigate(\"SaveDevice\");\n  }\n\n  async function requestReadPhoneStatePermission() {\n    try {\n      const granted = await PermissionsAndroid.request(\n        PermissionsAndroid.PERMISSIONS.READ_PHONE_STATE, {\n          title: \"Phone Number\",\n          message: \"Needs permission to get your phone number.\",\n          buttonNeutral: \"After\",\n          buttonNegative: \"Cancel\",\n          buttonPositive: \"OK\",\n        }\n      );\n      if (granted === PermissionsAndroid.RESULTS.GRANTED) {\n        console.log(\"You can use the Read_Phone_State\");\n      } else {"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\Dashboard.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 54, "end_line": 87, "language": "js", "text": "        console.log(\"You can use the Read_Phone_State\");\n      } else {\n        console.log(\"Read_Phone_State permission denied\");\n      }\n    } catch (err) {\n      console.warn(err);\n    }\n  }\n\n  return (\n    <View style={styles.form}>\n      <Image\n        style={styles.thumbnail}\n        source={fullstackicon}\n      />\n      <Text> </Text>\n      <Text>User: {userName}</Text>      \n      <Text>Email: {userEmail}</Text>\n      <Text>UserId: {userId} </Text>\n      <Text>EquipId: {equipId}</Text>\n      <Text> </Text>\n\n      <Button\n        title=\"Device Info & Registration\"\n        onPress={requisitarPermissoesNavegarSaveDevice}\n        titleStyle={{\n          color: \"#d6621a\",\n        }}\n        type=\"clear\"\n      />\n      <Text></Text>\n    </View>\n  );\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\Dashboard.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 86, "end_line": 87, "language": "js", "text": "  );\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\Dashboard.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 87, "end_line": 87, "language": "js", "text": "}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\Login.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 68, "language": "js", "text": "\nexport default function Login({ navigation }) {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [btnLoginText, setBtnLoginText] = useState(\"Autenticar\");\n  const [btnLoginStatus, setBtnLoginStatus] = useState(false);\n  const authService = new AuthService();\n\n  useEffect(() => {\n    checkTokenAndGoToDashboard();\n  }, []);\n\n  async function handleSubmit() {\n    setBtnLoginStatus(true);\n    setBtnLoginText(\"Please wait...\");\n    const loginUserCommand = new LoginUserCommand();\n    loginUserCommand.Username = username;\n    loginUserCommand.Password = password;\n\n    const ret = await authService.handleLogin(loginUserCommand);\n    setBtnLoginStatus(false);\n    setBtnLoginText(\"Authenticate\");\n\n    await checkTokenAndGoToDashboard();\n  }\n\n  async function testApi() {\n    const msg = await authService.testApi();\n  }\n\n  async function checkTokenAndGoToDashboard() {\n    const token = await AsyncStorage.getItem(\"appFullStackDemoTK\");\n    if (token) {\n      navigation.navigate(\"Dashboard\");\n    }\n  }\n\n  async function goToForgotPassword() {}\n\n  return (\n    <KeyboardAvoidingView\n      enabled={Platform.OS === \"ios\"}\n      behavior=\"padding\"\n      style={styles.container}\n    >\n      <ImageBackground source={acwp} style={styles.backgroundImage}>\n        <View style={styles.form}>\n          <TextInput\n            style={styles.input}\n            placeholder=\"Login\"\n            placeholderTextColor=\"#999\""}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\Login.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 67, "end_line": 110, "language": "js", "text": "            placeholder=\"Login\"\n            placeholderTextColor=\"#999\"\n            keyboardType=\"email-address\"\n            autoCapitalize=\"none\"\n            autoCorrect={false}\n            value={username}\n            onChangeText={setUsername}\n          />\n\n          <TextInput\n            style={styles.input}\n            placeholder=\"Password\"\n            placeholderTextColor=\"#999\"\n            autoCapitalize=\"words\"\n            autoCorrect={false}\n            secureTextEntry={true}\n            value={password}\n            onChangeText={setPassword}\n          />\n\n          <TouchableOpacity\n            onPress={handleSubmit}\n            style={styles.button}\n            disabled={btnLoginStatus}\n          >\n            <Text style={styles.buttonText}>{btnLoginText}</Text>\n          </TouchableOpacity>\n\n          <Button\n            title=\"Forgot your password?\"\n            onPress={testApi}\n            titleStyle={{\n              color: \"#039BE5\",\n            }}\n            type=\"clear\"\n          />\n          <Text></Text>\n          <Text style={styles.labelText}>AppFullStackDemo Opensource by FernandoPassaia</Text>\n          <Text style={styles.labelText}> github.com/fernandopassaia/app_fullstackdemo </Text>\n        </View>\n      </ImageBackground>\n    </KeyboardAvoidingView>\n  );\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\Login.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 109, "end_line": 110, "language": "js", "text": "  );\n}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\Login.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 110, "end_line": 110, "language": "js", "text": "}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\SaveDevice.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 39, "end_line": 41, "language": "js", "text": "    if (equipId == \"\" || equipId == null) {\n      await registerOnPortal();\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\SaveDevice.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 56, "end_line": 58, "language": "js", "text": "      if (err) {\n        console.log(\"Falha ao obter FreeDiskStorage na Function: \", err);\n      }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\SaveDevice.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 59, "end_line": 63, "language": "js", "text": "      if (res[0]) {\n        setImei1(res[0]);\n      } else {\n        setImei1(\"\");\n      }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\SaveDevice.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 64, "end_line": 68, "language": "js", "text": "      if (res[1]) {\n        setImei2(res[1]);\n      } else {\n        setImei2(\"\");\n      }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\SaveDevice.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 72, "end_line": 74, "language": "js", "text": "      if (err) {\n        console.log(\"Falha ao obter MacAddress na Function: \", err);\n      }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\SaveDevice.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 79, "end_line": 81, "language": "js", "text": "      if (err) {\n        console.log(\"Falha ao obter Phone Number na Function: \", err);\n      }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\SaveDevice.js", "chunk_id": 0, "subchunk_id": 6, "start_line": 86, "end_line": 88, "language": "js", "text": "      if (err) {\n        console.log(\"Falha ao obter ApiLevel na Function: \", err);\n      }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\SaveDevice.js", "chunk_id": 0, "subchunk_id": 7, "start_line": 94, "end_line": 96, "language": "js", "text": "      if (err) {\n        console.log(\"Falha ao obter AndroidId na Function: \", err);\n      }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\SaveDevice.js", "chunk_id": 0, "subchunk_id": 8, "start_line": 101, "end_line": 103, "language": "js", "text": "      if (err) {\n        console.log(\"Falha ao obter Manufacturer na Function: \", err);\n      }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\SaveDevice.js", "chunk_id": 0, "subchunk_id": 9, "start_line": 110, "end_line": 112, "language": "js", "text": "      if (err) {\n        console.log(\"Falha ao obter Serial Number na Function: \", err);\n      }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\pages\\SaveDevice.js", "chunk_id": 0, "subchunk_id": 10, "start_line": 142, "end_line": 145, "language": "js", "text": "    if (ret.data) {\n      setEquipId(ret.data.ResponseDataObj.Id);\n      //AsyncStorage.setItem(\"appFullStackDemoEQ\", equipId);\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\results\\user\\TokenResult.model.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 13, "language": "js", "text": "    constructor(token, loggedSuccessful, userName, userEmail, userId) {\n        this.Token = token;\n        this.LoggedSuccessful = loggedSuccessful;\n        this.UserName = userName;\n        this.UserEmail = userEmail;\n        this.UserId = userId;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\api.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 7, "language": "js", "text": "import axios from 'axios';\n\nconst api = axios.create({\n    baseURL: 'http://192.168.1.10:4001/api' //Note: Linux has some conflicts with \"localhost\", so use your IP here\n});\n\nexport default api;"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\auth.service.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 7, "language": "js", "text": "  //ParametrosInternos\n  constructor() {}"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\auth.service.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 8, "end_line": 20, "language": "js", "text": "\n  async testApi() {\n    console.log(\"Entrou no TestApi2\");\n    const axios = require(\"axios\");\n    try {\n      return await axios.get(\n        \"http://www.futuradata.com.br/acback/api/User/v1/test\"\n      );\n    } catch (error) {\n      console.log(\"Test API Failed\");\n      console.error(error);\n    }\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\auth.service.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 21, "end_line": 43, "language": "js", "text": "\n  async handleLogin(loginUserCommand) {\n    var header = {\n      \"Content-Type\": \"application/json\",\n      \"Access-Control-Allow-Origin\": \"*\",\n      \"Access-Control-Allow-Methods\": \"*\",\n    };\n\n    const response = await api\n      .post(\"/User/v1/Login\", loginUserCommand, header)\n      .then((res) => {\n        if (res.data) {\n          if (res.data.Success) {\n            const localHostResolver = new LocalHostResolver();\n            AsyncStorage.setItem(\"appFullStackDemoTK\", res.data.ResponseDataObj.Token);\n            AsyncStorage.setItem(\"appFullStackDemoUN\", res.data.ResponseDataObj.UserName);\n            AsyncStorage.setItem(\"appFullStackDemoEM\", res.data.ResponseDataObj.UserEmail);\n            AsyncStorage.setItem(\"appFullStackDemoUI\", res.data.ResponseDataObj.UserId);\n          }\n        }\n      });\n    return response;\n  }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 7, "language": "js", "text": "    //ParametrosInternos\n    constructor() {\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 8, "end_line": 57, "language": "js", "text": "\n    callAllMethods() {\n        this.getAndroidId();\n        this.getApplicationName();\n        this.getApiLevel();\n        this.getBaseOs();\n        this.getBatteryLevel();\n        this.getBrand();\n        this.getBuildNumber();\n        this.getCarrier();\n        this.getCodename();\n        this.getDevice();\n        this.getDeviceId();\n        this.getDeviceName();\n        this.getDeviceToken();\n        this.getFreeDiskStorage();\n        this.getImei();\n        this.getHardware();\n        this.getHost();\n        this.getIpAddress();\n        this.getMacAddress();\n        this.getManufacturer();\n        this.getMaxMemory();\n        this.getModel();\n        this.getPhoneNumber();\n        this.getPowerState();\n        this.getProduct();\n        this.getReadableVersion();\n        this.getSerialNumber();\n        this.getSecurityPatch();\n        this.getSystemName();\n        this.getSystemVersion();\n        this.getBuildId();\n        this.getType();\n        this.getTotalDiskCapacity();\n        this.getTotalMemory();\n        this.getUniqueId();\n        this.getUsedMemory();\n        this.getUserAgent();\n        this.getVersion();\n        this.isAirplaneMode();\n        this.isBatteryCharging();\n        this.isEmulator();\n        this.isTablet();\n        this.isLandscape();\n        this.getDeviceType();\n        this.getSystemAvailableFeatures();\n        this.isLocationEnabled();\n        this.isHeadphonesConnected();\n        console.log();"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 56, "end_line": 60, "language": "js", "text": "        this.isHeadphonesConnected();\n        console.log();\n        console.log('---------------------------------');\n        console.log();\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 59, "end_line": 60, "language": "js", "text": "        console.log();\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 1, "subchunk_id": 3, "start_line": 60, "end_line": 60, "language": "js", "text": "    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 61, "end_line": 69, "language": "js", "text": "\n    //NOTA FERNANDO: No DeviceInf eu chamo essa funo tanto via Promisse, quanto via Function\n    getAndroidId(callback) {\n        DeviceInfo.getAndroidId().then(androidId => {\n            //nota: aqui poderia retornar algo como data == { valorA: 2, valorB: 3}\n            ////console.log('getAndroidId: ', androidId);\n            return callback(null, androidId);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 70, "end_line": 75, "language": "js", "text": "\n    getApplicationName(callback) {\n        let appName = DeviceInfo.getApplicationName();\n        ////console.log('getBrand: ', brand);\n        return appName;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 76, "end_line": 83, "language": "js", "text": "\n    getApiLevel(callback) {\n        DeviceInfo.getApiLevel().then(apiLevel => {\n            //nota: aqui poderia retornar algo como data == { valorA: 2, valorB: 3}\n            ////console.log('getApiLevel: ', apiLevel);\n            return callback(null, apiLevel);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 86, "end_line": 88, "language": "js", "text": "        if (apiLevel == 29) {\n            return 'Android 10'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 1, "start_line": 89, "end_line": 91, "language": "js", "text": "        if (apiLevel == 28) {\n            return 'Android 9'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 2, "start_line": 92, "end_line": 94, "language": "js", "text": "        if (apiLevel == 27) {\n            return 'Android 8.1'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 3, "start_line": 95, "end_line": 97, "language": "js", "text": "        if (apiLevel == 26) {\n            return 'Android 8.0'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 4, "start_line": 98, "end_line": 100, "language": "js", "text": "        if (apiLevel == 25) {\n            return 'Android 7.1'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 5, "start_line": 101, "end_line": 103, "language": "js", "text": "        if (apiLevel == 24) {\n            return 'Android 7.0'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 6, "start_line": 104, "end_line": 106, "language": "js", "text": "        if (apiLevel == 23) {\n            return 'Android 6.0'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 7, "start_line": 107, "end_line": 109, "language": "js", "text": "        if (apiLevel == 22) {\n            return 'Android 5.1'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 8, "start_line": 110, "end_line": 112, "language": "js", "text": "        if (apiLevel == 21) {\n            return 'Android 5.0'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 9, "start_line": 113, "end_line": 115, "language": "js", "text": "        if (apiLevel == 20) {\n            return 'Android 4.4'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 10, "start_line": 116, "end_line": 118, "language": "js", "text": "        if (apiLevel == 19) {\n            return 'Android 4.4'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 11, "start_line": 119, "end_line": 121, "language": "js", "text": "        if (apiLevel == 18) {\n            return 'Android 4.3'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 12, "start_line": 122, "end_line": 124, "language": "js", "text": "        if (apiLevel == 17) {\n            return 'Android 4.2'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 13, "start_line": 125, "end_line": 127, "language": "js", "text": "        if (apiLevel == 16) {\n            return 'Android 4.1'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 14, "start_line": 128, "end_line": 130, "language": "js", "text": "        if (apiLevel == 15) {\n            return 'Android 4.0.4'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 15, "start_line": 131, "end_line": 133, "language": "js", "text": "        if (apiLevel == 14) {\n            return 'Android 4.0.2'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 16, "start_line": 134, "end_line": 136, "language": "js", "text": "        if (apiLevel == 13) {\n            return 'Android 3.2'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 17, "start_line": 137, "end_line": 139, "language": "js", "text": "        if (apiLevel == 12) {\n            return 'Android 3.1'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 18, "start_line": 140, "end_line": 142, "language": "js", "text": "        if (apiLevel == 11) {\n            return 'Android 3.0'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 19, "start_line": 143, "end_line": 145, "language": "js", "text": "        if (apiLevel == 10) {\n            return 'Android 2.3.4'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 20, "start_line": 146, "end_line": 148, "language": "js", "text": "        if (apiLevel == 9) {\n            return 'Android 2.3.2'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 21, "start_line": 149, "end_line": 151, "language": "js", "text": "        if (apiLevel == 8) {\n            return 'Android 2.2'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 22, "start_line": 152, "end_line": 154, "language": "js", "text": "        if (apiLevel == 7) {\n            return 'Android 2.1'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 23, "start_line": 155, "end_line": 157, "language": "js", "text": "        if (apiLevel == 6) {\n            return 'Android 2.0.1'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 24, "start_line": 158, "end_line": 160, "language": "js", "text": "        if (apiLevel == 5) {\n            return 'Android 2.0'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 25, "start_line": 161, "end_line": 163, "language": "js", "text": "        if (apiLevel == 4) {\n            return 'Android 1.6'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 26, "start_line": 164, "end_line": 166, "language": "js", "text": "        if (apiLevel == 3) {\n            return 'Android 1.5'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 27, "start_line": 167, "end_line": 169, "language": "js", "text": "        if (apiLevel == 2) {\n            return 'Android 1.1'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 5, "subchunk_id": 28, "start_line": 170, "end_line": 172, "language": "js", "text": "        if (apiLevel == 1) {\n            return 'Android 1.0'\n        }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 176, "end_line": 183, "language": "js", "text": "\n    getBaseOs(callback) {\n        DeviceInfo.getBaseOs().then(baseOs => {\n            // \"Windows\", \"Android\" etc\n            //console.log('getBaseOs: ', baseOs);\n            return callback(null, baseOs);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 184, "end_line": 191, "language": "js", "text": "\n    getBatteryLevel(callback) {\n        DeviceInfo.getBatteryLevel().then(batteryLevel => {\n            // 0.759999\n            //console.log('getBatteryLevel: ', batteryLevel);\n            return callback(null, batteryLevel);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 192, "end_line": 197, "language": "js", "text": "\n    getBrand() {\n        let brand = DeviceInfo.getBrand();\n        ////console.log('getBrand: ', brand);\n        return brand;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 9, "subchunk_id": 0, "start_line": 198, "end_line": 203, "language": "js", "text": "\n    getBuildNumber() {\n        let buildNumber = DeviceInfo.getBuildNumber();\n        //console.log('getBuildNumber: ', buildNumber);\n        return buildNumber;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 10, "subchunk_id": 0, "start_line": 204, "end_line": 209, "language": "js", "text": "\n    getBundleId() {\n        let bundleId = DeviceInfo.getBundleId();\n        //console.log('getBuildNumber: ', buildNumber);\n        return bundleId;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 11, "subchunk_id": 0, "start_line": 210, "end_line": 217, "language": "js", "text": "\n    getCarrier(callback) {\n        DeviceInfo.getCarrier().then(carrier => {\n            // \"SOFTBANK\"\n            //console.log('getCarrier: ', carrier);\n            return callback(null, carrier);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 12, "subchunk_id": 0, "start_line": 218, "end_line": 225, "language": "js", "text": "\n    getCodename(callback) {\n        DeviceInfo.getCodename().then(codename => {\n            //console.log('getCodename: ', codename);\n            // \"REL\"\n            return callback(null, codename);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 13, "subchunk_id": 0, "start_line": 226, "end_line": 233, "language": "js", "text": "\n    getDevice(callback) {\n        DeviceInfo.getDevice().then(device => {\n            //console.log('getDevice: ', device);\n            // \"walleye\"\n            return callback(null, device);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 14, "subchunk_id": 0, "start_line": 234, "end_line": 242, "language": "js", "text": "\n    getDeviceId() {\n        let deviceId = DeviceInfo.getDeviceId();\n        //console.log('getDeviceId: ', deviceId);\n        // iOS: \"iPhone7,2\"\n        // Android: \"goldfish\"\n        // Windows: ?\n        return deviceId;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 15, "subchunk_id": 0, "start_line": 243, "end_line": 252, "language": "js", "text": "\n    getDeviceName(callback) {\n        DeviceInfo.getDeviceName().then(deviceName => {\n            //console.log('getDeviceName: ', deviceName);\n            // iOS: \"Becca's iPhone 6\"\n            // Android: ?\n            // Windows: ?\n            return callback(null, deviceName);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 16, "subchunk_id": 0, "start_line": 253, "end_line": 260, "language": "js", "text": "\n    getDeviceToken(callback) {\n        DeviceInfo.getDeviceToken().then(deviceToken => {\n            //console.log('getDeviceToken: ', deviceToken);\n            // iOS: \"a2Jqsd0kanz...\"\n            return callback(null, deviceToken);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 17, "subchunk_id": 0, "start_line": 261, "end_line": 269, "language": "js", "text": "\n    getFreeDiskStorage(callback) {\n        DeviceInfo.getFreeDiskStorage().then(freeDiskStorage => {\n            //console.log('getFreeDiskStorage: ', freeDiskStorage);\n            // Android: 17179869184\n            // iOS: 17179869184\n            return callback(null, freeDiskStorage);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 18, "subchunk_id": 0, "start_line": 270, "end_line": 275, "language": "js", "text": "\n    getImei(callback) {\n        var imei = IMEI.getImei().then(imei => {\n            return callback(null, imei);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 19, "subchunk_id": 0, "start_line": 276, "end_line": 283, "language": "js", "text": "\n    getHardware(callback) {\n        DeviceInfo.getHardware().then(hardware => {\n            //console.log('getHardware: ', hardware);\n            // \"walleye\"\n            return callback(null, hardware);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 20, "subchunk_id": 0, "start_line": 284, "end_line": 291, "language": "js", "text": "\n    getHost(callback) {\n        DeviceInfo.getHost().then(host => {\n            //console.log('getHost: ', host);\n            // \"wprd10.hot.corp.google.com\"\n            return callback(null, host);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 21, "subchunk_id": 0, "start_line": 292, "end_line": 300, "language": "js", "text": "\n    getIpAddress(callback) {\n        // DeviceInfo.getIpAddress().then(ip => {\n        //     //console.log('getIpAddress: ', ip);\n        //     // \"92.168.32.44\"\n        //     return callback(null, apiLevel);\n        // });\n        //needs android.permission.ACCESS_WIFI_STATE\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 22, "subchunk_id": 0, "start_line": 301, "end_line": 309, "language": "js", "text": "\n    getMacAddress(callback) {\n        DeviceInfo.getMacAddress().then(mac => {\n            //     //console.log('getMacAddress: ', mac);\n            //     // \"E5:12:D8:E5:69:97\"\n            return callback(null, mac);\n        });\n        //needs android.permission.ACCESS_WIFI_STATE\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 23, "subchunk_id": 0, "start_line": 310, "end_line": 319, "language": "js", "text": "\n    getManufacturer(callback) {\n        DeviceInfo.getManufacturer().then(manufacturer => {\n            //console.log('getManufacturer: ', manufacturer);\n            // iOS: \"Apple\"\n            // Android: \"Google\"\n            // Windows: ?\n            return callback(null, manufacturer);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 24, "subchunk_id": 0, "start_line": 320, "end_line": 327, "language": "js", "text": "\n    getMaxMemory(callback) {\n        DeviceInfo.getMaxMemory().then(maxMemory => {\n            //console.log('getMaxMemory: ', maxMemory);\n            // 402653183\n            return callback(null, maxMemory);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 25, "subchunk_id": 0, "start_line": 328, "end_line": 336, "language": "js", "text": "\n    getModel() {\n        let model = DeviceInfo.getModel();\n        //console.log('getModel: ', model);\n        // iOS: ?\n        // Android: ?\n        // Windows: ?\n        return model;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 26, "subchunk_id": 0, "start_line": 337, "end_line": 344, "language": "js", "text": "\n    getPhoneNumber(callback) {\n        DeviceInfo.getPhoneNumber().then(phoneNumber => {\n            //console.log('getPhoneNumber: ', phoneNumber);\n            // Android: null return: no permission, empty string: unprogrammed or empty SIM1, e.g. \"+15555215558\": normal return value\n            return callback(null, phoneNumber);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 27, "subchunk_id": 0, "start_line": 345, "end_line": 354, "language": "js", "text": "\n    getPowerState(callback) {\n        DeviceInfo.getPowerState().then(state => {\n            //console.log('getPowerState: ', state);\n            //   batteryLevel: 0.759999,\n            //   batteryState: 'unplugged',\n            //   lowPowerMode: false,\n            return callback(null, state);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 28, "subchunk_id": 0, "start_line": 355, "end_line": 362, "language": "js", "text": "\n    getProduct(callback) {\n        DeviceInfo.getProduct().then(product => {\n            //console.log('getProduct: ', product);\n            // \"walleye\"\n            return callback(null, product);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 29, "subchunk_id": 0, "start_line": 363, "end_line": 371, "language": "js", "text": "\n    getReadableVersion() {\n        let readableVersion = DeviceInfo.getReadableVersion();\n        //console.log('getReadableVersion: ', readableVersion);\n        // iOS: 1.0.1.32\n        // Android: 1.0.1.234\n        // Windows: ?\n        return readableVersion;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 30, "subchunk_id": 0, "start_line": 372, "end_line": 381, "language": "js", "text": "\n    getSerialNumber(callback) {\n        DeviceInfo.getSerialNumber().then(serialNumber => {\n            //console.log('getSerialNumber: ', serialNumber);\n            // iOS: unknown\n            // Android: ? (maybe a serial number, if your app is privileged)\n            // Windows: unknown\n            return callback(null, serialNumber);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 31, "subchunk_id": 0, "start_line": 382, "end_line": 389, "language": "js", "text": "\n    getSecurityPatch(callback) {\n        DeviceInfo.getSecurityPatch().then(securityPatch => {\n            //console.log('getSecurityPatch: ', securityPatch);\n            // \"2018-07-05\"\n            return callback(null, securityPatch);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 32, "subchunk_id": 0, "start_line": 390, "end_line": 398, "language": "js", "text": "\n    getSystemName() {\n        let systemName = DeviceInfo.getSystemName();\n        //console.log('getSystemName: ', systemName);\n        // iOS: \"iOS\" on newer iOS devices \"iPhone OS\" on older devices, including older iPad's.\n        // Android: \"Android\"\n        // Windows: ?\n        return systemName;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 33, "subchunk_id": 0, "start_line": 399, "end_line": 407, "language": "js", "text": "\n    getSystemVersion() {\n        let systemVersion = DeviceInfo.getSystemVersion();\n        //console.log('getSystemVersion: ', systemVersion);\n        // iOS: \"11.0\"\n        // Android: \"7.1.1\"\n        // Windows: ?\n        return systemVersion;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 34, "subchunk_id": 0, "start_line": 408, "end_line": 418, "language": "js", "text": "\n    getBuildId(callback) {\n        DeviceInfo.getBuildId().then(buildId => {\n            //console.log('getBuildId: ', buildId);\n            // iOS: \"12A269\"\n            // tvOS: not available\n            // Android: \"13D15\"\n            // Windows: not available\n            return callback(null, buildId);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 35, "subchunk_id": 0, "start_line": 419, "end_line": 426, "language": "js", "text": "\n    getType(callback) {\n        DeviceInfo.getType().then(type => {\n            //console.log('getType: ', type);\n            // \"user\", \"eng\"\n            return callback(null, type);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 36, "subchunk_id": 0, "start_line": 427, "end_line": 435, "language": "js", "text": "\n    getTotalDiskCapacity(callback) {\n        DeviceInfo.getTotalDiskCapacity().then(capacity => {\n            //console.log('getTotalDiskCapacity: ', capacity);\n            // Android: 17179869184\n            // iOS: 17179869184\n            return callback(null, capacity);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 37, "subchunk_id": 0, "start_line": 436, "end_line": 443, "language": "js", "text": "\n    getTotalMemory(callback) {\n        DeviceInfo.getTotalMemory().then(totalMemory => {\n            //console.log('getTotalMemory: ', totalMemory);\n            // 1995018240\n            return callback(null, totalMemory);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 38, "subchunk_id": 0, "start_line": 444, "end_line": 452, "language": "js", "text": "\n    getUniqueId() {\n        let uniqueId = DeviceInfo.getUniqueId();\n        //console.log('getUniqueId: ', uniqueId);\n        // iOS: \"FCDBD8EF-62FC-4ECB-B2F5-92C9E79AC7F9\"\n        // Android: \"dd96dec43fb81c97\"\n        // Windows: ?\n        return uniqueId;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 39, "subchunk_id": 0, "start_line": 453, "end_line": 460, "language": "js", "text": "\n    getUsedMemory(callback) {\n        DeviceInfo.getUsedMemory().then(usedMemory => {\n            //console.log('usedMemory: ', usedMemory);\n            // 23452345\n            return callback(null, usedMemory);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 40, "subchunk_id": 0, "start_line": 461, "end_line": 471, "language": "js", "text": "\n    getUserAgent(callback) {\n        DeviceInfo.getUserAgent().then(userAgent => {\n            //console.log('userAgent: ', userAgent);\n            // iOS: \"Mozilla/5.0 (iPhone; CPU iPhone OS 9_1 like Mac OS X) AppleWebKit/601.1.46 (KHTML, like Gecko) Version/9.0 Mobile/13B143\"\n            // tvOS: not available\n            // Android: ?\n            // Windows: ?\n            return callback(null, userAgent);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 41, "subchunk_id": 0, "start_line": 472, "end_line": 480, "language": "js", "text": "\n    getVersion() {\n        let version = DeviceInfo.getVersion();\n        //console.log('version: ', version);\n        // iOS: \"1.0\"\n        // Android: \"1.0\"\n        // Windows: ?\n        return version;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 42, "subchunk_id": 0, "start_line": 481, "end_line": 488, "language": "js", "text": "\n    isAirplaneMode(callback) {\n        DeviceInfo.isAirplaneMode().then(airplaneModeOn => {\n            //console.log('airplaneModeOn: ', airplaneModeOn);\n            // false\n            return callback(null, airplaneModeOn);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 43, "subchunk_id": 0, "start_line": 489, "end_line": 496, "language": "js", "text": "\n    isBatteryCharging(callback) {\n        DeviceInfo.isBatteryCharging().then(isCharging => {\n            //console.log('isCharging: ', isCharging);\n            // true or false\n            return callback(null, isCharging);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 44, "subchunk_id": 0, "start_line": 497, "end_line": 504, "language": "js", "text": "\n    isEmulator(callback) {\n        DeviceInfo.isEmulator().then(isEmulator => {\n            //console.log('isEmulator: ', isEmulator);\n            // false\n            return callback(null, isEmulator);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 45, "subchunk_id": 0, "start_line": 505, "end_line": 511, "language": "js", "text": "\n    isTablet() {\n        let isTablet = DeviceInfo.isTablet();\n        //console.log('isTablet: ', isTablet);\n        // true\n        return isTablet;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 46, "subchunk_id": 0, "start_line": 512, "end_line": 519, "language": "js", "text": "\n    isLandscape(callback) {\n        DeviceInfo.isLandscape().then(isLandscape => {\n            //console.log('isLandscape: ', isLandscape);\n            // true\n            return callback(null, isLandscape);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 47, "subchunk_id": 0, "start_line": 520, "end_line": 526, "language": "js", "text": "\n    getDeviceType() {\n        let type = DeviceInfo.getDeviceType();\n        //console.log(': ', type);\n        // 'Handset', 'Tablet', 'Tv'\n        return type;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 48, "subchunk_id": 0, "start_line": 527, "end_line": 535, "language": "js", "text": "\n    getSystemAvailableFeatures(callback) {\n        DeviceInfo.getSystemAvailableFeatures().then(features => {\n            //console.log('getDeviceType: ', features);\n            // [\"android.software.backup\", \"android.hardware.screen.landscape\", \"android.hardware.wifi\", ...]\n            return '';\n            return callback(null, features); //its returning too much info, let see it in future\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 49, "subchunk_id": 0, "start_line": 536, "end_line": 543, "language": "js", "text": "\n    isLocationEnabled(callback) {\n        DeviceInfo.isLocationEnabled().then(enabled => {\n            //console.log('isLocationEnabled: ', enabled);\n            // true or false\n            return callback(null, enabled);\n        });\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 50, "subchunk_id": 0, "start_line": 544, "end_line": 551, "language": "js", "text": "\n    isHeadphonesConnected(callback) {\n        DeviceInfo.isHeadphonesConnected().then(enabled => {\n            //console.log('isHeadphonesConnected: ', enabled);\n            // true or false\n            return callback(null, enabled);\n        })\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\device.service.js", "chunk_id": 51, "subchunk_id": 0, "start_line": 552, "end_line": 565, "language": "js", "text": "\n    formatBytes(x) {\n        const units = ['bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n        //console.log('x:', x);\n        if (x === 1) return '1 byte';\n        let l = 0, n = parseInt(x, 10) || 0;\n        while (n >= 1024 && ++l) {\n            n = n / 1024;\n        }\n        //include a decimal point and a tenths-place digit if presenting \n        //less than ten of KB or greater units\n        //console.log('return:', n.toFixed(n < 10 && l > 0 ? 1 : 0) + ' ' + units[l]);\n        return (n.toFixed(n < 10 && l > 0 ? 1 : 0) + ' ' + units[l]);\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\equipment.service.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 8, "language": "js", "text": "    //ParametrosInternos\n    constructor() {\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\src\\services\\equipment.service.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 9, "end_line": 28, "language": "js", "text": "\n    async saveEquipment(createEquipmentCommand, token) {        \n        var header = {\n            'Content-Type': 'application/json',\n            'Access-Control-Allow-Origin': '*',\n            'Access-Control-Allow-Methods': '*'\n        };\n        api.defaults.headers.common = {'Authorization': `Bearer ${token}`}\n\n        const response = await api.post('/Equipment/v1', createEquipmentCommand, header).then(res => {\n            if (res.data.ResponseDataObj) {\n                AsyncStorage.setItem('appFullStackDemoEQ', res.data.ResponseDataObj.Id);                \n                return res;\n            }\n            else {\n                Alert('Falha ao Registrar o Equipamento');\n            }\n        });\n        return response;\n    }"}
{"repo_name": "app_fullstackdemo", "file_path": "app_fullstackdemo\\code\\src\\Mobile\\__tests__\\App-test.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 11, "end_line": 14, "language": "js", "text": "\nit('renders correctly', () => {\n  renderer.create(<App />);\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 59, "end_line": 88, "language": "js", "text": "\n// listen on port 33123 creating the tables in models in the process\ndb.sequelize.sync({ force: false, alter:true}).then(()=>{\n    console.log(\"Encrypted server up and running\\nConnected to database\");\n\n    // create the admin, if they do not already exist\n    const password=\"1234\";\n    bcrypt.hash(password, 10).then((hash)=>{\n        User.create({\n            username: \"admin\",\n            password: hash,\n            name: \"admin\",\n            admin: true,\n            approved: true,\n        }).catch(err => {\n            console.log(\"Already exists\");\n        });\n    });\n\n    // Creating the basic \"parent\" category of the app\n    Category.create({\n        name: \"All Categories\",\n    }).catch(err => {\n        console.log(\"Already set up\");\n    });\n\n    sslServer.listen(33123, ()=>{\n        console.log(\"Listening on port: 33123\");\n    });\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\middlewares\\Authent.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 24, "language": "js", "text": "\n// Intermediary validation function\nconst validateTheToken = (req, res, next) =>{\n\n    const accessToken = req.header(\"accessToken\");\n\n    if (!accessToken){\n        return res.json({error: \"No user is logged in!\"})\n    }\n    else{\n\n        try {\n            const validTokenito = verify(accessToken, \"hereputyoursecret\");\n            if(validTokenito){\n                req.user = validTokenito;\n                return next();\n            }\n        } catch (error) {\n            return res.json({error: error});\n        }\n    }\n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\middlewares\\Upload.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 14, "language": "js", "text": "\n// Save the photo on the images/ folder\nconst storage = multer.diskStorage({\n\n    destination: (req, file, cb)=>{\n        cb(null, `images`)\n    }, \n    filename: (req, file, cb )=>{\n        console.log(file)\n        cb(null, req.params.id )\n    }\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\Bid.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 24, "language": "js", "text": "// Bid Model \nmodule.exports = (sequelize, DataTypes) => {\n\n    const Bid = sequelize.define(\"Bid\", {\n\n        time: {\n            type: DataTypes.DATE,\n            defaultValue: DataTypes.NOW,\n        },\n        amount: {\n            type: DataTypes.DOUBLE(15,2),\n        },\n        bidderName: {\n            type: DataTypes.STRING,\n        },\n        bidderRating: {\n            type: DataTypes.INTEGER,\n        },\n\n    });\n    \n    return Bid;\n\n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\Category.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 27, "language": "js", "text": "// Category Model\nmodule.exports = (sequelize, DataTypes) => {\n\n    const Category = sequelize.define(\"Category\", {\n        name: {\n            type: DataTypes.STRING,\n            allowNull: false,\n            unique: true,\n        },\n        createdAt: {\n            type: DataTypes.DATE,\n            defaultValue: DataTypes.NOW,\n        },\n        updatedAt: {\n            type: DataTypes.DATE,\n            defaultValue: DataTypes.NOW,\n        },\n    });\n\n    Category.associate = function(models) {\n        Category.belongsTo(models.Category, {\n            onDelete: 'cascade',\n        });\n    };\n\n    return Category;\n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\Contact.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 20, "language": "js", "text": "// Contact Model\nmodule.exports = (sequelize, DataTypes) => {\n\n    const Contact = sequelize.define(\"Contact\", {\n        contactId: {\n            type: DataTypes.INTEGER,\n        },\n        contactUsername: {\n            type: DataTypes.STRING(255),\n        },\n        contactName: {\n            type: DataTypes.STRING,\n        },\n        contactSurname: {\n            type: DataTypes.STRING,\n        },\n    });\n\n    return Contact;\n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 17, "end_line": 26, "language": "js", "text": "\nfs\n  .readdirSync(__dirname)\n  .filter(file => {\n    return (file.indexOf('.') !== 0) && (file !== basename) && (file.slice(-3) === '.js');\n  })\n  .forEach(file => {\n    const model = require(path.join(__dirname, file))(sequelize, Sequelize.DataTypes);\n    db[model.name] = model;\n  });"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\index.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 27, "end_line": 32, "language": "js", "text": "\nObject.keys(db).forEach(modelName => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\Item.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 58, "language": "js", "text": "// Item Model\nmodule.exports = (sequelize, DataTypes) => {\n\n    const Item = sequelize.define(\"Item\", {\n\n        name: {\n            type: DataTypes.STRING,\n            allowNull: false,\n        },\n        currently: {\n            type: DataTypes.DOUBLE(15,2),\n        },\n        buy_price: {\n            type: DataTypes.DOUBLE(15,2),\n            allowNull: true,\n        },\n        first_bid: {\n            type: DataTypes.DOUBLE(15,2),\n        },\n        number_of_bids: {\n            type: DataTypes.INTEGER,\n        },\n        latitudeLongitude: {\n            type: DataTypes.GEOMETRY, //('POINT')\n        },\n        location: {\n            type: DataTypes.STRING,\n            allowNull: false,\n        },\n        country: {\n            type: DataTypes.STRING,\n            allowNull: false,\n        },\n        started: {\n            type: DataTypes.DATE,\n            defaultValue: DataTypes.NOW,\n            allowNull: false,\n        },\n        ends: {\n            type: DataTypes.DATE,\n            allowNull: false,\n        },\n        description: {\n            type: DataTypes.TEXT,\n        },\n        state: {\n            // EXPECTED, AVAILABLE, PURCHASED, EXPIRED\n            type: DataTypes.STRING,\n        },\n        // In case someone won the bid or purchased it\n        highestBidder: {\n            type: DataTypes.INTEGER,\n        },\n        furthermostCategoryId: {\n            type: DataTypes.INTEGER,\n        },\n        coverPhoto: {\n            type: DataTypes.STRING(255),"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\Item.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 57, "end_line": 80, "language": "js", "text": "        coverPhoto: {\n            type: DataTypes.STRING(255),\n            defaultValue: \"https://localhost:33123/images/placeholder.png\",\n        }\n\n    });\n\n    // Associated through foreign keys automatically\n    Item.associate = (models) => {\n        Item.hasMany(models.Bid, {\n            onDelete: 'cascade',\n        });\n\n        Item.hasMany(models.Photo, {\n            onDelete: 'cascade',\n        });\n        Item.hasMany(models.UserData, {\n        });\n\n    };\n\n    return Item;\n\n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\Item.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 79, "end_line": 80, "language": "js", "text": "\n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\Item.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 80, "end_line": 80, "language": "js", "text": "};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\Mail.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 52, "language": "js", "text": "// Mail Model\nmodule.exports = (sequelize, DataTypes) => {\n\n    const Mail = sequelize.define(\"Mail\", {\n    \n        itemId: {\n            type: DataTypes.INTEGER,\n        },\n        bidderId: {\n            type: DataTypes.INTEGER,\n        },\n        sellerId: {\n            type: DataTypes.INTEGER,\n        },\n        bidderRating: {\n            type: DataTypes.FLOAT,\n        },\n        sellerRating: {\n            type: DataTypes.FLOAT,\n        },\n        payed: { \n            type: DataTypes.BOOLEAN,\n            defaultValue: false,\n        },\n        arrived: { \n            type: DataTypes.BOOLEAN,\n            defaultValue: false,\n        },\n        itemName: {\n            type: DataTypes.STRING,\n        },\n    });\n\n    // Associated through foreign keys automatically\n    Mail.associate = (models) => {\n        Mail.belongsTo(models.User, {\n            foreignKey: 'sellerId',\n        });\n        Mail.belongsTo(models.User, {\n            foreignKey: 'bidderId',\n        });\n        Mail.belongsTo(models.Item, {\n            foreignKey: 'itemId',\n        });\n        Mail.hasMany(models.Message, {\n            onDelete: 'cascade',\n        });\n    };\n\n    return Mail;\n\n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\Message.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 53, "language": "js", "text": "// Message Model\nmodule.exports = (sequelize, DataTypes) => {\n\n    const Message = sequelize.define(\"Message\", {\n        \n        title: {\n            type: DataTypes.STRING,\n            allowNull: false,\n        },\n        timeSent: {\n            type: DataTypes.DATE,\n            defaultValue: DataTypes.NOW,\n        },\n        body: {\n            type: DataTypes.TEXT,\n            allowNull: false,\n        },\n        senderId: {\n            type: DataTypes.INTEGER,\n        },\n        recipientId:{\n            type: DataTypes.INTEGER,\n        },\n        senderName: {\n            type: DataTypes.STRING,\n        },\n        senderSurname:{\n            type: DataTypes.STRING,\n        },\n        recipientName: {\n            type: DataTypes.STRING,\n        },\n        recipientSurname:{\n            type: DataTypes.STRING,\n        },\n        deletedInbox: {\n            type: DataTypes.BOOLEAN,\n            defaultValue: false,\n        },\n        deletedOutbox: {\n            type: DataTypes.BOOLEAN,\n            defaultValue: false,\n        },\n        read: {\n            type: DataTypes.BOOLEAN,\n            defaultValue: false,\n        },\n\n    });\n\n    return Message;\n\n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\Photo.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 15, "language": "js", "text": "// Photo Model\nmodule.exports = (sequelize, DataTypes) => {\n\n    const Photo = sequelize.define(\"Photo\", {\n        url: {\n            type: DataTypes.STRING(255),\n        },\n        coverPhoto: {\n            type: DataTypes.BOOLEAN,\n            defaultValue: false,\n        },\n    });\n\n    return Photo;\n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\User.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 62, "language": "js", "text": "// User Model\nmodule.exports = (sequelize, DataTypes) => {\n    const User = sequelize.define(\"User\", {\n        username: {\n            type: DataTypes.STRING(255),\n            unique: true\n        },\n        password: {\n            type: DataTypes.STRING,\n        },\n        name: {\n            type: DataTypes.STRING,\n        },\n        surname: {\n            type: DataTypes.STRING,\n        },\n        email: {\n            type: DataTypes.STRING,\n        },\n        telephone: {\n            type: DataTypes.STRING,\n        },\n        latitudeLongitude: {\n            type: DataTypes.GEOMETRY,\n        },\n        location: {\n            type: DataTypes.STRING,\n        },\n        country: {\n            type: DataTypes.STRING,\n        },\n        taxnumber: {\n            type: DataTypes.INTEGER,\n        },\n        admin: { \n            type: DataTypes.BOOLEAN,\n            defaultValue: false,\n        },\n        approved: { \n            type: DataTypes.BOOLEAN,\n            defaultValue: false,\n        },\n        bidderRating: {\n            type: DataTypes.FLOAT,\n            defaultValue: 0,\n        },\n        buyCount: {\n            type: DataTypes.INTEGER,\n            defaultValue: 0,\n        },\n        sellerRating: {\n            type: DataTypes.FLOAT,\n            defaultValue: 0,\n        },\n        saleCount: {\n            type: DataTypes.INTEGER,\n            defaultValue: 0,\n        },\n    });\n\n    // Associated through foreign keys automatically\n    User.associate = (models) => {"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\User.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 61, "end_line": 85, "language": "js", "text": "    // Associated through foreign keys automatically\n    User.associate = (models) => {\n        User.hasMany(models.Item, {\n            onDelete: \"cascade\",\n        });\n        User.hasMany(models.Bid, {\n            onDelete: \"cascade\",\n        });\n        User.hasMany(models.Message, {\n            onDelete: \"cascade\",\n        });\n        User.hasMany(models.Contact, {\n            onDelete: \"cascade\",\n        });\n        User.hasMany(models.UserData, {\n            // on delete here hold the history\n        });\n        User.hasOne(models.UserTop, {\n            onDelete: \"cascade\",\n        });\n    };\n\n    return User;\n    \n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\User.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 84, "end_line": 85, "language": "js", "text": "    \n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\User.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 85, "end_line": 85, "language": "js", "text": "};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\UserData.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 13, "language": "js", "text": "// UserData Model\nmodule.exports = (sequelize, DataTypes) => {\n\n    const UserData = sequelize.define(\"UserData\", {\n        rating: {\n            type: DataTypes.DOUBLE(5,4),\n            defaultValue: 0,\n        },\n    });\n\n    return UserData;\n\n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\models\\UserTop.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 41, "language": "js", "text": "// UserTop Model\nmodule.exports = (sequelize, DataTypes) => {\n\n    const UserTop = sequelize.define(\"UserTop\", {\n        p1: {\n            type: DataTypes.INTEGER,\n            defaultValue: 0,\n        },\n        p2: {\n            type: DataTypes.INTEGER,\n            defaultValue: 0,\n        },\n        p3: {\n            type: DataTypes.INTEGER,\n            defaultValue: 0,\n        },\n        p4: {\n            type: DataTypes.INTEGER,\n            defaultValue: 0,\n        },\n        p5: {\n            type: DataTypes.INTEGER,\n            defaultValue: 0,\n        },\n        p6: {\n            type: DataTypes.INTEGER,\n            defaultValue: 0,\n        },\n        createdAt: {\n            type: DataTypes.DATE,\n            defaultValue: DataTypes.NOW,\n        },\n        updatedAt: {\n            type: DataTypes.DATE,\n            defaultValue: DataTypes.NOW,\n        }\n    });\n\n    return UserTop;\n\n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\recommender\\recommender.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 40, "language": "py", "text": "\n# Matrix Factorisation Algorithm Training\ndef matrixFactorisation(Ratings, features=2, epochs=4000, learningRate=0.01, weightDecay=0.0002, verbose=True):\n    \n    # Firstly, initialisation of the elements of the User and Item features matrices. \n\n    # I used a small range (up to 0.15 in this case) \n    # seems to work better than the normal range of up to 1 \n    UserFeatures = np.random.uniform(0, 0.15, ( len(Ratings), features))\n    ItemFeatures = np.random.uniform(0, 0.15, ( len(Ratings[0]), features))\n    ItemFeatures = ItemFeatures.T\n\n    # To be used later on the stopping condition\n    bestRMSE = float(\"inf\")\n\n    # Not to be calculated over and over\n    invariant = learningRate * weightDecay\n    normaliz = weightDecay / 2\n\n    for epoch in range(epochs):\n\n        for i in range(len(Ratings)):\n            for j in range(len(Ratings[i])):\n\n                # Only if it is a known element\n                # ie greater than zero\n                if Ratings[i][j]>0:\n                    \n                    # Prediction is the dot product\n                    prediction = dot(UserFeatures[i,:], ItemFeatures[:,j])\n\n                    # Compute the error\n                    error = Ratings[i][j]-prediction\n\n                    # Compute the gradient of error squared and update the\n                    # features with regularization to prevent large weights\n                    for w in range(features):"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\recommender\\recommender.py", "chunk_id": 0, "subchunk_id": 1, "start_line": 39, "end_line": 73, "language": "py", "text": "                    # features with regularization to prevent large weights\n                    for w in range(features):\n                        UserFeatures[i][w] += (2 * learningRate * error * ItemFeatures[w][j] -  invariant * UserFeatures[i][w])\n                        ItemFeatures[w][j] += (2 * learningRate * error * UserFeatures[i][w] -  invariant * ItemFeatures[w][j])\n\n        # Calculate the RMSE\n        MSE = 0 \n        count = 0\n        for i in range(len(Ratings)):\n            for j in range(len(Ratings[i])):\n\n                if Ratings[i][j]>0:\n                    count+=1\n\n                    # Loss function error sum \n                    MSE += pow(Ratings[i][j]-dot(UserFeatures[i,:], ItemFeatures[:,j]), 2)\n\n                    # Regularization \n                    for w in range(features):\n                        MSE += normaliz * ( pow(UserFeatures[i][w],2) + pow(ItemFeatures[w][j],2))\n\n        RMSE = math.sqrt(MSE/count)\n\n        if (verbose):\n            print(\"Epoch: \", epoch, \"\\nRMSE: \", RMSE ,\"\\n__________________________\\n\")\n\n        # Stopping Condition as suggested in the course notes\n        if (RMSE>bestRMSE):\n            break;\n\n        bestRMSE = RMSE\n\n        MatrixReversi = dot(UserFeatures, ItemFeatures)\n\n    return MatrixReversi"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\recommender\\recommender.py", "chunk_id": 0, "subchunk_id": 2, "start_line": 72, "end_line": 73, "language": "py", "text": "\n    return MatrixReversi"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\recommender\\recommender.py", "chunk_id": 0, "subchunk_id": 3, "start_line": 73, "end_line": 73, "language": "py", "text": "    return MatrixReversi"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Bids.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 12, "language": "js", "text": "\nrouter.get('/:itemId', async (req, res) => {\n\n    const itemId = req.params.itemId;\n    const bids = await Bid.findAll({where : { ItemId: itemId}});\n    res.json(bids);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Bids.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 35, "language": "js", "text": "\nrouter.post('/', validateTheToken, async (req, res) => {\n\n    let bid = req.body;\n    const bidder = await User.findByPk(bid.UserId);\n    bid.bidderRating = bidder.bidderRating;\n    bid.bidderName = bidder.username;\n\n    await Bid.create(bid);\n\n    // and then update the item currently and highest bidder\n    await Item.update({\n            currently: bid.amount,\n            highestBidder: bid.UserId,\n        },\n        {where : {\n            id: bid.ItemId,\n        }\n    });\n\n    await Item.increment({number_of_bids: 1}, { where: { id: bid.ItemId } });\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Categories.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 11, "language": "js", "text": "\nrouter.get('/', async (req, res) => {\n\n    const categories = await Category.findAll();\n    res.json(categories);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Categories.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 18, "language": "js", "text": "\nrouter.post('/', validateTheToken, async (req, res) => {\n\n    const cat = req.body;\n    await Category.create(cat);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Categories.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 19, "end_line": 40, "language": "js", "text": "\n// Recursively find the hierarchy tree, ie all the parents till the root\nfunction myParents(categoriesList, childId){\n\n    var categs = [];\n    for (var i=0; i<categoriesList.length;i++){\n        if (categoriesList[i].id==childId){\n            \n            const childCategory = categoriesList[i];\n            categs.push(childCategory.name);\n\n            for (var j=0; j<categoriesList.length;j++){\n                if (categoriesList[j].id==childCategory.CategoryId){\n                    categs.push.apply(categs, myParents(categoriesList, categoriesList[j].id))\n                }\n            }\n\n        }\n    }\n\n    return categs;\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Categories.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 41, "end_line": 54, "language": "js", "text": "\nrouter.get('/:id', async (req, res) => {\n\n    const furthermostCategoryId = req.params.id;\n    const allCategories = await Category.findAll();\n    var categories = [];\n\n    categories.push.apply(categories, myParents(allCategories, furthermostCategoryId))\n\n    // Reverse so its from the general to the specific\n    var categoriesInorder = categories.reverse()\n\n    res.json(categoriesInorder);\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\History.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 43, "language": "js", "text": "\n// Post if he clicked on an auction\nrouter.post('/click/:id', validateTheToken, async (req, res) => {\n\n    const myId = req.params.id;\n    \n    if (req.body && req.body.userId){\n\n        const userId = req.body.userId;\n        var userData = await UserData.findOne( { where: { UserId: userId, ItemId: myId } } );\n\n        if (userData){\n\n            // if he hasn't clicked on that before\n            if ( userData.rating<2){\n\n                await userData.update({\n                    rating: 2,\n                    },\n                    {where : {\n                        id: userData.id,\n                    }\n                });\n\n            }\n        }\n        else{\n\n            await UserData.create({\n                rating: 2,\n                UserId: userId,\n                ItemId: myId\n            });\n\n        }\n    }\n    \n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\History.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 44, "end_line": 79, "language": "js", "text": "\n// Post if he bid on an auction\nrouter.post('/bid/:id', validateTheToken, async (req, res) => {\n\n    const myId = req.params.id;\n\n    if (req.body && req.body.userId){\n        const userId = req.body.userId;\n\n        var userData = await UserData.findOne( { where: { UserId: userId, ItemId: myId } } );\n\n        if (userData){\n\n            // if he hasn't bid on that before\n            if ( userData.rating<5){\n                await userData.update({\n                    rating: 5,\n                    },\n                    {where : {\n                        id: userData.id,\n                    }\n                });\n            }\n        }\n        else{\n\n            // this here is for the imported data from the xmls\n            await UserData.create({\n                rating: 5,\n                UserId: userId,\n                ItemId: myId\n            });\n        }\n    }\n    \n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\History.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 80, "end_line": 99, "language": "js", "text": "\n// This function calls the recommender (to be called every 24 hours)\nasync function GenerateData(){\n\n    console.log(\"Generating Recommendations\");\n    const { spawn } = require('child_process');\n\n    // the path to the recommender\n    const locpath = path.join(__dirname, '..', 'recommender', 'recommender.py')\n    const pyProg = spawn('python', [locpath]);\n\n    pyProg.stdout.on('data', function(data) {\n        console.log(data.toString());\n    });\n\n    pyProg.stderr.on('data', (data) => {\n        console.log(data.toString());\n    });\n\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 52, "language": "js", "text": "\nrouter.get('/', async (req, res) => {\n\n    // A bit of house keeping. Updating the ones that have been expired\n    const allItems = await Item.findAll({ \n        where: { \n            state: \"AVAILABLE\",\n            ends: {\n                [Op.lt]: new Date()\n            }\n        },\n    });\n\n    for (var i = 0; i < allItems.length; i++) {\n\n        if( allItems[i].number_of_bids>0){\n            await Item.update({\n                state: \"PURCHASED\",\n                },\n                {where : {\n                    id: allItems[i].id,\n                }\n            });\n\n            // Create the mail subsection for them\n            const newmail = await Mail.create({\n                itemId: allItems[i].id,\n                itemName: allItems[i].name,\n                bidderId: allItems[i].highestBidder,\n                sellerId: allItems[i].UserId,\n            }).catch(err => {\n                console.log(err);\n            });\n\n            const userito = await User.findByPk( allItems[i].UserId);\n            const biderito = await User.findByPk(allItems[i].highestBidder);\n\n            // Send confirmation message to buyer\n            await Message.create({\n                title: \"Confirmation\",\n                body: \"Congratulations you won the auction! Feel free to contact me for further information on shipment and payment!\",\n                senderId: userito.id,\n                recipientId: biderito.id,\n                senderName: userito.name,"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 51, "end_line": 91, "language": "js", "text": "                recipientId: biderito.id,\n                senderName: userito.name,\n                senderSurname: userito.surname,\n                recipientName: biderito.name,\n                recipientSurname: biderito.surname,\n                MailId: newmail.id,\n                UserId: userito.id,\n            }).catch(err => {\n                console.log(err);\n            });\n\n            // looking for one is enough since its symmetric\n            const contactalready = await Contact.findOne({ where: {contactId: userito.id, UserId: biderito.id}});\n            \n            // if they are not already on each others contacts add them\n            if(contactalready ===null){\n\n                await Contact.create({\n                    contactId: userito.id,\n                    contactName: userito.name,\n                    contactSurname: userito.surname,\n                    contactUsername: userito.username,\n                    UserId: biderito.id,\n                }).catch(err => {\n                    console.log(err);\n                });\n\n                await Contact.create({\n                    contactId: biderito.id,\n                    contactName: biderito.name,\n                    contactSurname: biderito.surname,\n                    contactUsername: biderito.username,\n                    UserId: userito.id,\n                }).catch(err => {\n                    console.log(err);\n                });\n            }\n\n        }\n        else{\n            await Item.update({"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 90, "end_line": 118, "language": "js", "text": "        else{\n            await Item.update({\n                state: \"EXPIRED\",\n                },\n                {where : {\n                    id: allItems[i].id,\n                }\n            });\n        }\n    }\n\n    // House keeping updating on the ones that they're going to be available\n    await Item.update({\n        state: \"AVAILABLE\",\n        },\n        {where : {\n            state: \"EXPECTED\",\n            started: {\n                [Op.lte]: new Date()\n            }\n        }\n    });\n\n    // Finally return the actually available items\n    const availableItems = await Item.findAll({ where: { state: \"AVAILABLE\"},\n    });\n\n    res.json(availableItems);\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 117, "end_line": 118, "language": "js", "text": "    res.json(availableItems);\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 118, "end_line": 118, "language": "js", "text": "});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 119, "end_line": 162, "language": "js", "text": "\nrouter.get('/admin/', validateTheToken, async (req, res) => {\n\n    const username = req.header(\"username\");\n\n    if (username==\"admin\"){\n        \n         // A bit of house keeping. Updating the ones that have been expired\n        const allItems = await Item.findAll({ \n            where: { \n                state: \"AVAILABLE\",\n                ends: {\n                    [Op.lt]: new Date()\n                }\n            },\n        });\n\n        for (var i = 0; i < allItems.length; i++) {\n\n            if( allItems[i].number_of_bids>0){\n                await Item.update({\n                    state: \"PURCHASED\",\n                    },\n                    {where : {\n                        id: allItems[i].id,\n                    }\n                });\n\n                // Create the mail subsection for them\n                const newmail = await Mail.create({\n                    itemId: allItems[i].id,\n                    itemName: allItems[i].name,\n                    bidderId: allItems[i].highestBidder,\n                    sellerId: allItems[i].UserId,\n                }).catch(err => {\n                    console.log(err);\n                });\n\n                const userito = await User.findByPk( allItems[i].UserId);\n                const biderito = await User.findByPk(allItems[i].highestBidder);\n\n                // Send confirmation message to buyer\n                await Message.create({\n                    title: \"Confirmation\","}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 161, "end_line": 192, "language": "js", "text": "                await Message.create({\n                    title: \"Confirmation\",\n                    body: \"Congratulations you won the auction! Feel free to contact me for further information on shipment and payment!\",\n                    senderId: userito.id,\n                    recipientId: biderito.id,\n                    senderName: userito.name,\n                    senderSurname: userito.surname,\n                    recipientName: biderito.name,\n                    recipientSurname: biderito.surname,\n                    MailId: newmail.id,\n                    UserId: userito.id,\n                }).catch(err => {\n                    console.log(err);\n                });\n\n                // looking for one is enough since its symmetric\n                const contactalready = await Contact.findOne({ where: {contactId: userito.id, UserId: biderito.id}});\n                \n                // if they are not already on each others contacts add them\n                if(contactalready ===null){\n\n                    await Contact.create({\n                        contactId: userito.id,\n                        contactName: userito.name,\n                        contactSurname: userito.surname,\n                        contactUsername: userito.username,\n                        UserId: biderito.id,\n                    }).catch(err => {\n                        console.log(err);\n                    });\n\n                    await Contact.create({"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 191, "end_line": 235, "language": "js", "text": "\n                    await Contact.create({\n                        contactId: biderito.id,\n                        contactName: biderito.name,\n                        contactSurname: biderito.surname,\n                        contactUsername: biderito.username,\n                        UserId: userito.id,\n                    }).catch(err => {\n                        console.log(err);\n                    });\n                }\n\n            }\n            else{\n                await Item.update({\n                    state: \"EXPIRED\",\n                    },\n                    {where : {\n                        id: allItems[i].id,\n                    }\n                });\n            }\n        }\n\n        // House keeping updating on the ones that they're going to be available\n        await Item.update({\n            state: \"AVAILABLE\",\n            },\n            {where : {\n                state: \"EXPECTED\",\n                started: {\n                    [Op.lte]: new Date()\n                }\n            }\n        });\n    \n        // get the refreshed list\n        const availableItems = await Item.findAll();\n        res.json(availableItems);\n    }\n    else{\n        res.json({message: \"forbidden\"});\n    }\n   \n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 1, "subchunk_id": 3, "start_line": 234, "end_line": 235, "language": "js", "text": "   \n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 1, "subchunk_id": 4, "start_line": 235, "end_line": 235, "language": "js", "text": "});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 236, "end_line": 247, "language": "js", "text": "\n// recursively find all the subcategories\nfunction myChildren(categoriesList, superCategoryId){\n    var categs = [];\n    categs.push(superCategoryId);\n    for (var i=0; i<categoriesList.length;i++){\n        if (categoriesList[i].CategoryId==superCategoryId){\n            categs.push.apply(categs, myChildren(categoriesList, categoriesList[i].id))\n        }\n    } \n    return categs;\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 260, "end_line": 300, "language": "js", "text": "\n    for (var i = 0; i < allItems.length; i++) {\n\n        if( allItems[i].number_of_bids>0){\n            await Item.update({\n                state: \"PURCHASED\",\n                },\n                {where : {\n                    id: allItems[i].id,\n                }\n            });\n\n            // Create the mail subsection for them\n            const newmail = await Mail.create({\n                itemId: allItems[i].id,\n                itemName: allItems[i].name,\n                bidderId: allItems[i].highestBidder,\n                sellerId: allItems[i].UserId,\n            }).catch(err => {\n                console.log(err);\n            });\n\n            const userito = await User.findByPk( allItems[i].UserId);\n            const biderito = await User.findByPk(allItems[i].highestBidder);\n\n            // Send confirmation message to buyer\n            await Message.create({\n                title: \"Confirmation\",\n                body: \"Congratulations you won the auction! Feel free to contact me for further information on shipment and payment!\",\n                senderId: userito.id,\n                recipientId: biderito.id,\n                senderName: userito.name,\n                senderSurname: userito.surname,\n                recipientName: biderito.name,\n                recipientSurname: biderito.surname,\n                MailId: newmail.id,\n                UserId: userito.id,\n            }).catch(err => {\n                console.log(err);\n            });\n"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 3, "subchunk_id": 1, "start_line": 299, "end_line": 338, "language": "js", "text": "            });\n\n            // looking for one is enough since its symmetric\n            const contactalready = await Contact.findOne({ where: {contactId: userito.id, UserId: biderito.id}});\n            \n            // if they are not already on each others contacts add them\n            if(contactalready ===null){\n\n                await Contact.create({\n                    contactId: userito.id,\n                    contactName: userito.name,\n                    contactSurname: userito.surname,\n                    contactUsername: userito.username,\n                    UserId: biderito.id,\n                }).catch(err => {\n                    console.log(err);\n                });\n\n                await Contact.create({\n                    contactId: biderito.id,\n                    contactName: biderito.name,\n                    contactSurname: biderito.surname,\n                    contactUsername: biderito.username,\n                    UserId: userito.id,\n                }).catch(err => {\n                    console.log(err);\n                });\n            }\n\n        }\n        else{\n            await Item.update({\n                state: \"EXPIRED\",\n                },\n                {where : {\n                    id: allItems[i].id,\n                }\n            });\n        }\n    }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 3, "subchunk_id": 2, "start_line": 337, "end_line": 338, "language": "js", "text": "        }\n    }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 3, "subchunk_id": 3, "start_line": 338, "end_line": 338, "language": "js", "text": "    }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 3, "subchunk_id": 4, "start_line": 360, "end_line": 366, "language": "js", "text": "    for (var i=0; i<categs.length;i++){\n        const freshItems = await Item.findAll({ where: \n            { furthermostCategoryId: categs[i],\n             state: \"AVAILABLE\"},\n       });\n        availableItems.push.apply(availableItems, freshItems);\n    }  "}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 370, "end_line": 407, "language": "js", "text": "\n\n\nrouter.get('/fetchy/:id', async (req, res) => {\n\n    const myId = req.params.id;\n    \n    if (req.body && req.body.userId){\n        const userId = req.body.userId;\n\n        var UserData = await User.findOne( { where: { UserId: userId, ItemId: myId } } );\n\n        if (UserData){\n\n            // if he hasn't clicked on that before\n            if ( UserData.rating<2){\n                await UserData.update({\n                    rating: 2,\n                    },\n                    {where : {\n                        id: UserData.id,\n                    }\n                });\n            }\n        }\n        else{\n            await UserData.create({\n                rating: 2,\n                UserId: userId,\n                ItemId: myId\n            });\n        }\n        \n    }\n    \n    const itemito = await Item.findByPk(myId);\n    res.json(itemito);\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 408, "end_line": 414, "language": "js", "text": "\nrouter.post('/fetchy/:id', async (req, res) => {\n    const myId = req.params.id;\n    \n    const itemito = await Item.findByPk(myId);\n    res.json(itemito);\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 415, "end_line": 423, "language": "js", "text": "\nrouter.get('/fetchByUser/:id', async (req, res) => {\n    const myId = req.params.id;\n    const alltheUserItems = await Item.findAll({\n        where: { UserId: myId},\n        include: [Bid],\n    });\n    res.json(alltheUserItems);\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 424, "end_line": 450, "language": "js", "text": "\nrouter.get('/mywatchlist/:id', async (req, res) => {\n\n    const myId = req.params.id;\n    const allMyBids = await Bid.findAll({\n        where: { UserId: myId},\n    });\n\n    // Find unique item ids\n    var ids = []\n    for (var i=0;i<allMyBids.length;i++){\n        ids.push(allMyBids[i].ItemId);\n    }\n    var uniqueIds= [... new Set(ids)]\n\n    var watchlist = []\n    for (var i=0;i<uniqueIds.length;i++){\n        const itemito = await Item.findByPk(uniqueIds[i]);\n        if (itemito.state=='AVAILABLE'){\n            watchlist.push(itemito);\n        }\n        \n    }\n\n    res.json(watchlist);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 451, "end_line": 461, "language": "js", "text": "\nrouter.post('/', validateTheToken, async (req, res) => {\n\n    const item = req.body;\n    const userId = req.user.id;\n    item.UserId = userId;\n\n    await Item.create(item);\n\n    res.json(item);\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 9, "subchunk_id": 0, "start_line": 462, "end_line": 512, "language": "js", "text": "\nrouter.put('/purchase/:id', validateTheToken, async (req, res)=>{\n\n    const myId = req.params.id;\n    const bidderId = req.body.userId;\n    const sellerId = req.body.sellerId;\n    const finalAmount = req.body.purchaseAmount;\n    \n    await Item.update({\n        state: \"PURCHASED\",\n        highestBidder: bidderId,\n        currently: finalAmount,\n        },\n        {where : {\n            id: myId,\n        }\n    });\n\n    await Item.increment({number_of_bids: 1}, { where: { id: myId } });\n\n    const itemito = await Item.findByPk(myId);\n\n    // Finally create the mail subsection for them\n    const newmail = await Mail.create({\n        itemId: myId,\n        itemName: itemito.name,\n        bidderId: bidderId,\n        sellerId: sellerId,\n    }).catch(err => {\n        console.log(err);\n    });\n\n    const userito = await User.findByPk(sellerId);\n    const biderito = await User.findByPk(bidderId);\n\n    // Send confirmation message to buyer\n    await Message.create({\n        title: \"Confirmation\",\n        body: \"Congratulations you won the auction! Feel free to contact me for further information on shipment and payment!\",\n        senderId: sellerId,\n        recipientId: bidderId,\n        senderName: userito.name,\n        senderSurname: userito.surname,\n        recipientName: biderito.name,\n        recipientSurname: biderito.surname,\n        MailId: newmail.id,\n        UserId: sellerId,\n    }).catch(err => {\n        console.log(err);\n    });\n"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 9, "subchunk_id": 1, "start_line": 511, "end_line": 541, "language": "js", "text": "    });\n\n    // looking for one is enough since its symmetric\n    const contactalready = await Contact.findOne({ where: {contactId: sellerId, UserId: bidderId}});\n    \n    // if they are not already on each others contacts add them\n    if(contactalready ===null){\n\n        await Contact.create({\n            contactId: userito.id,\n            contactName: userito.name,\n            contactSurname: userito.surname,\n            contactUsername: userito.username,\n            UserId: biderito.id,\n        }).catch(err => {\n            console.log(err);\n        });\n\n        await Contact.create({\n            contactId: biderito.id,\n            contactName: biderito.name,\n            contactSurname: biderito.surname,\n            contactUsername: biderito.username,\n            UserId: userito.id,\n        }).catch(err => {\n            console.log(err);\n        });\n\n    }\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 9, "subchunk_id": 2, "start_line": 540, "end_line": 541, "language": "js", "text": "\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 9, "subchunk_id": 3, "start_line": 541, "end_line": 541, "language": "js", "text": "});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 10, "subchunk_id": 0, "start_line": 542, "end_line": 560, "language": "js", "text": "\n\n// Update the auction Name\nrouter.put('/name/:id', validateTheToken, async (req, res)=>{\n    const myId = req.params.id;\n    const item = req.body;\n    \n    // further check for the user even though i checked in the frontend\n    const userId = req.header(\"userId\");\n    \n    await Item.update({\n        name: item.name,\n    },\n    {where : {\n        id: myId,\n        UserId: userId\n    }\n    });\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 11, "subchunk_id": 0, "start_line": 561, "end_line": 578, "language": "js", "text": "\n// Update the auction Starting date\nrouter.put('/started/:id', validateTheToken, async (req, res)=>{\n    const myId = req.params.id;\n    const item = req.body;\n    \n    // further check for the user that is not someone else\n    const userId = req.header(\"userId\");\n    \n    await Item.update({\n        started: item.started,\n    },\n    {where : {\n        id: myId,\n        UserId: userId\n    }\n    });\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 12, "subchunk_id": 0, "start_line": 579, "end_line": 596, "language": "js", "text": "\n// Update the auction Ending date\nrouter.put('/ends/:id', validateTheToken, async (req, res)=>{\n    const myId = req.params.id;\n    const item = req.body;\n    \n    // further check for the user that is not someone else\n    const userId = req.header(\"userId\");\n    \n    await Item.update({\n        ends: item.ends,\n    },\n    {where : {\n        id: myId,\n        UserId: userId\n    }\n    });\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 13, "subchunk_id": 0, "start_line": 597, "end_line": 614, "language": "js", "text": "\n// Update the buyprice\nrouter.put('/buyprice/:id', validateTheToken, async (req, res)=>{\n    const myId = req.params.id;\n    const item = req.body;\n    \n    // further check for the user that is not someone else\n    const userId = req.header(\"userId\");\n    \n    await Item.update({\n        buy_price: item.buy_price,\n    },\n    {where : {\n        id: myId,\n        UserId: userId\n    }\n    });\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 14, "subchunk_id": 0, "start_line": 615, "end_line": 634, "language": "js", "text": "\n\n// Update the currently and first bid values\nrouter.put('/currently/:id', validateTheToken, async (req, res)=>{\n    const myId = req.params.id;\n    const item = req.body;\n    \n    // further check for the user that is not someone else\n    const userId = req.header(\"userId\");\n    \n    await Item.update({\n        currently: item.currently,\n        first_bid: item.currently,\n    },\n    {where : {\n        id: myId,\n        UserId: userId\n    }\n    });\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 15, "subchunk_id": 0, "start_line": 635, "end_line": 653, "language": "js", "text": "\n\n// Update the location\nrouter.put('/location/:id', validateTheToken, async (req, res)=>{\n    const myId = req.params.id;\n    const item = req.body;\n    \n    // further check for the user that is not someone else\n    const userId = req.header(\"userId\");\n    \n    await Item.update({\n        location: item.location,\n    },\n    {where : {\n        id: myId,\n        UserId: userId\n    }\n    });\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 16, "subchunk_id": 0, "start_line": 654, "end_line": 671, "language": "js", "text": "\n// Update the country\nrouter.put('/country/:id', validateTheToken, async (req, res)=>{\n    const myId = req.params.id;\n    const item = req.body;\n    \n    // further check for the user that is not someone else\n    const userId = req.header(\"userId\");\n    \n    await Item.update({\n        country: item.country,\n    },\n    {where : {\n        id: myId,\n        UserId: userId\n    }\n    });\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 17, "subchunk_id": 0, "start_line": 672, "end_line": 689, "language": "js", "text": "\n// Update the description\nrouter.put('/description/:id', validateTheToken, async (req, res)=>{\n    const myId = req.params.id;\n    const item = req.body;\n    \n    // further check for the user that is not someone else\n    const userId = req.header(\"userId\");\n    \n    await Item.update({\n        description: item.description,\n    },\n    {where : {\n        id: myId,\n        UserId: userId\n    }\n    });\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 18, "subchunk_id": 0, "start_line": 690, "end_line": 708, "language": "js", "text": "\n\n// Update the coordinates\nrouter.put('/coordinates/:id', validateTheToken, async (req, res)=>{\n    const myId = req.params.id;\n    const item = req.body;\n    \n    // further check for the user that is not someone else\n    const userId = req.header(\"userId\");\n    \n    await Item.update({\n        latitudeLongitude: item.latitudeLongitude,\n    },\n    {where : {\n        id: myId,\n        UserId: userId\n    }\n    });\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 19, "subchunk_id": 0, "start_line": 709, "end_line": 728, "language": "js", "text": "\n\n\n// Update the category\nrouter.put('/category/:id', validateTheToken, async (req, res)=>{\n    const myId = req.params.id;\n    const item = req.body;\n    \n    // further check for the user that is not someone else\n    const userId = req.header(\"userId\");\n    \n    await Item.update({\n        furthermostCategoryId: item.furthermostCategoryId,\n    },\n    {where : {\n        id: myId,\n        UserId: userId\n    }\n    });\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 20, "subchunk_id": 0, "start_line": 729, "end_line": 742, "language": "js", "text": "\n// validate the user too before deleting\nrouter.delete('/:id', validateTheToken, async (req, res)=>{\n    const myId = req.params.id;\n    \n    // further check for the user even though i checked in the frontend\n    const userId = req.header(\"userId\");\n    \n    await Item.destroy({where : {\n        id: myId,\n        UserId: userId\n    }});\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 21, "subchunk_id": 0, "start_line": 743, "end_line": 764, "language": "js", "text": "\n// Recursively find the hierarchy tree, ie all the parents till the root\nfunction myParents(categoriesList, childId){\n\n    var categs = [];\n    for (var i=0; i<categoriesList.length;i++){\n        if (categoriesList[i].id==childId){\n            \n            const childCategory = categoriesList[i];\n            categs.push(childCategory.name);\n\n            for (var j=0; j<categoriesList.length;j++){\n                if (categoriesList[j].id==childCategory.CategoryId){\n                    categs.push.apply(categs, myParents(categoriesList, categoriesList[j].id))\n                }\n            }\n\n        }\n    }\n\n    return categs;\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 22, "subchunk_id": 0, "start_line": 765, "end_line": 807, "language": "js", "text": "\nrouter.get('/downloadJSON', validateTheToken, async (req, res) => {\n\n    const username = req.header(\"username\");\n\n    if (username==\"admin\"){\n\n        const allItems = await Item.findAll();\n        const allCategories = await Category.findAll();\n\n        var itemjsons = []\n        for (var i=0;i<allItems.length;i++){\n\n            // Find the item's categories\n            var categories = [];\n            categories.push.apply(categories, myParents(allCategories, allItems[i].furthermostCategoryId))\n    \n            // Reverse so its from the general to the specific\n            var categoriesInOrder = categories.reverse();\n    \n            // Find the seller information\n            const seller = await User.findByPk(allItems[i].UserId); \n\n            // Find the bids on the item\n            const allBids = await Bid.findAll({ \n                where: { ItemId: allItems[i].id},\n            });\n\n            // Fix the bids format\n            var bidsInOrder =[]\n            for (var j=0;j<allBids.length;j++){\n\n                const bidder = await User.findByPk(allBids[j].UserId);\n                \n                const bid = {\n                    Bidder: {\n                        Rating: bidder.bidderRating,\n                        UserId: bidder.username,\n                        Location: bidder.location,\n                        Country: bidder.country,\n                    },\n                    Time: allBids[j].time.toLocaleString(),\n                    Amount: allBids[j].amount,"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 22, "subchunk_id": 1, "start_line": 806, "end_line": 842, "language": "js", "text": "                    Time: allBids[j].time.toLocaleString(),\n                    Amount: allBids[j].amount,\n                };\n    \n                bidsInOrder.push(bid);\n                \n            }\n \n            var location = {Location: allItems[i].location}\n            if (allItems[i].latitudeLongitude){\n                location.Latitude = allItems[i].latitudeLongitude.coordinates[0];\n                location.Longitude = allItems[i].latitudeLongitude.coordinates[1];\n            }\n\n            var item = {}\n\n            if (allItems[i].buy_price){\n                item = {\n                    ItemID: allItems[i].id ,\n                    Name: allItems[i].name,\n                    Category: categoriesInOrder,\n                    Currently: allItems[i].currently,\n                    Buy_Price: allItems[i].buy_price,\n                    First_Bid: allItems[i].first_bid,\n                    Number_Of_Bids: allItems[i].number_of_bids,\n                    Bids: bidsInOrder,\n                    Location: location,\n                    Country: allItems[i].country,\n                    Started: allItems[i].started.toLocaleString(),\n                    Ends: allItems[i].ends.toLocaleString(),\n                    Seller: { Rating: seller.sellerRating, UserID: seller.username },\n                    Description: allItems[i].description\n                };\n            }\n            else {\n                item = {\n                    ItemID: allItems[i].id ,"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 22, "subchunk_id": 2, "start_line": 841, "end_line": 868, "language": "js", "text": "                item = {\n                    ItemID: allItems[i].id ,\n                    Name: allItems[i].name,\n                    Category: categoriesInOrder,\n                    Currently: allItems[i].currently,\n                    First_Bid: allItems[i].first_bid,\n                    Number_Of_Bids: allItems[i].number_of_bids,\n                    Bids: bidsInOrder,\n                    Location: location,\n                    Country: allItems[i].country,\n                    Started: allItems[i].started.toLocaleString(),\n                    Ends: allItems[i].ends.toLocaleString(),\n                    Seller: { Rating: seller.sellerRating, UserID: seller.username },\n                    Description: allItems[i].description\n                };\n            }\n\n            itemjsons.push(item);\n\n        }\n\n        res.json(itemjsons);\n\n    }\n    else{\n        res.json({message: \"forbidden\"});\n    }\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 22, "subchunk_id": 3, "start_line": 867, "end_line": 868, "language": "js", "text": "    }\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 22, "subchunk_id": 4, "start_line": 868, "end_line": 868, "language": "js", "text": "});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 23, "subchunk_id": 0, "start_line": 869, "end_line": 908, "language": "js", "text": "\nrouter.get('/downloadXML', validateTheToken, async (req, res) => {\n\n    const username = req.header(\"username\");\n\n    if (username==\"admin\"){\n\n        const allItems = await Item.findAll();\n        const allCategories = await Category.findAll();\n\n        var itemsXMLformat = \"<Items>\\n\"\n\n        for (var i=0;i<allItems.length;i++){\n\n            // Find the item's categories\n            var categories = [];\n            categories.push.apply(categories, myParents(allCategories, allItems[i].furthermostCategoryId))\n    \n            // Reverse so its from the general to the specific\n            var categoriesInOrder = categories.reverse();\n    \n            // Find the seller information\n            const seller = await User.findByPk(allItems[i].UserId); \n            \n            itemsXMLformat += '\\t<Item ItemID=\"'\n            itemsXMLformat += allItems[i].id.toString()\n            itemsXMLformat += '\">\\n'\n            itemsXMLformat += \"\\t\\t<Name>\"\n            itemsXMLformat += allItems[i].name\n            itemsXMLformat += '</Name>\\n'\n            for (var jj=0;jj<categoriesInOrder.length;jj++){\n                itemsXMLformat += \"\\t\\t<Category>\"\n                itemsXMLformat += categoriesInOrder[jj]\n                itemsXMLformat += \"</Category>\\n\"\n            }\n            itemsXMLformat += \"\\t\\t<Currently>$\"\n            itemsXMLformat += allItems[i].currently.toString()\n            itemsXMLformat += '</Currently>\\n'\n\n            if (allItems[i].buy_price!=null){"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 23, "subchunk_id": 1, "start_line": 907, "end_line": 940, "language": "js", "text": "\n            if (allItems[i].buy_price!=null){\n                itemsXMLformat += \"\\t\\t<Buy_Price>$\"\n                itemsXMLformat += allItems[i].buy_price.toString()\n                itemsXMLformat += '</Buy_Price>\\n'\n            }\n\n            itemsXMLformat += \"\\t\\t<First_Bid>$\"\n            itemsXMLformat += allItems[i].first_bid.toString()\n            itemsXMLformat += '</First_Bid>\\n'\n            itemsXMLformat += \"\\t\\t<Number_of_Bids>\"\n            itemsXMLformat += allItems[i].number_of_bids.toString()\n            itemsXMLformat += '</Number_of_Bids>\\n'\n\n            // Find the bids on the item\n            const allBids = await Bid.findAll({ \n                where: { ItemId: allItems[i].id},\n            });\n\n            if (allBids.length==0){\n                itemsXMLformat += '\\t\\t<Bids />\\n'\n            }\n            else{\n                itemsXMLformat += '\\t\\t<Bids>\\n'\n                for (var jj=0;jj<allBids.length;jj++){\n                    const bidder = await User.findByPk(allBids[jj].UserId);\n                    itemsXMLformat += \"\\t\\t\\t<Bid>\\n\"\n                    itemsXMLformat += '\\t\\t\\t\\t<Bidder Rating=\"'\n                    itemsXMLformat += bidder.bidderRating.toString()\n                    itemsXMLformat += '\" UserID=\"'\n                    itemsXMLformat += bidder.username\n                    itemsXMLformat += '\">\\n'\n                    itemsXMLformat += '\\t\\t\\t\\t\\t<Location>'\n                    itemsXMLformat += bidder.location"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 23, "subchunk_id": 2, "start_line": 939, "end_line": 967, "language": "js", "text": "                    itemsXMLformat += '\\t\\t\\t\\t\\t<Location>'\n                    itemsXMLformat += bidder.location\n                    itemsXMLformat += '</Location>\\n'\n                    itemsXMLformat += '\\t\\t\\t\\t\\t<Country>'\n                    itemsXMLformat += bidder.country\n                    itemsXMLformat += '</Country>\\n'\n                    itemsXMLformat += '\\t\\t\\t\\t</Bidder>\\n'\n                    itemsXMLformat += '\\t\\t\\t\\t<Time>'\n                    itemsXMLformat += allBids[jj].time.toLocaleString()\n                    itemsXMLformat += '</Time>\\n'\n                    itemsXMLformat += '\\t\\t\\t\\t<Amount>$'\n                    itemsXMLformat += allBids[jj].amount.toString()\n                    itemsXMLformat += '</Amount>\\n'\n                    itemsXMLformat += \"\\t\\t\\t</Bid>\\n\"\n                }\n                itemsXMLformat += '\\t\\t</Bids>\\n'\n            }\n            if (allItems[i].latitudeLongitude){\n                itemsXMLformat += '\\t\\t<Location Latitude=\"'\n                itemsXMLformat += allItems[i].latitudeLongitude.coordinates[0].toString()\n                itemsXMLformat += '\" Longitude=\"'\n                itemsXMLformat += allItems[i].latitudeLongitude.coordinates[1].toString()\n                itemsXMLformat += '\">'\n            }\n            else{\n                itemsXMLformat += \"\\t\\t<Location>\"\n            }\n            itemsXMLformat += allItems[i].location\n            itemsXMLformat += '</Location>\\n'"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 23, "subchunk_id": 3, "start_line": 966, "end_line": 996, "language": "js", "text": "            itemsXMLformat += allItems[i].location\n            itemsXMLformat += '</Location>\\n'\n            itemsXMLformat += \"\\t\\t<Country>\"\n            itemsXMLformat += allItems[i].country\n            itemsXMLformat += '</Country>\\n'\n            itemsXMLformat += \"\\t\\t<Started>\"\n            itemsXMLformat += allItems[i].started.toLocaleString()\n            itemsXMLformat += '</Started>\\n'\n            itemsXMLformat += \"\\t\\t<Ends>\"\n            itemsXMLformat += allItems[i].ends.toLocaleString()\n            itemsXMLformat += '</Ends>\\n'\n            itemsXMLformat += '\\t\\t<Seller Rating=\"'\n            itemsXMLformat += seller.sellerRating.toString()\n            itemsXMLformat += '\" UserID=\"'\n            itemsXMLformat += seller.username\n            itemsXMLformat += '\" />\\n'\n            itemsXMLformat += \"\\t\\t<Description>\"\n            itemsXMLformat += allItems[i].description\n            itemsXMLformat += '</Description>\\n'\n            itemsXMLformat += \"\\t</Item>\\n\"\n        }\n\n        itemsXMLformat += \"</Items>\"\n        res.json(itemsXMLformat);\n\n    }\n    else{\n        res.json({message: \"forbidden\"});\n    }\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 23, "subchunk_id": 4, "start_line": 995, "end_line": 996, "language": "js", "text": "\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 23, "subchunk_id": 5, "start_line": 996, "end_line": 996, "language": "js", "text": "});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 24, "subchunk_id": 0, "start_line": 997, "end_line": 1041, "language": "js", "text": "\n\n\nrouter.get('/top/:id', async (req, res) => {\n\n    const myId = req.params.id;\n    const recommendations = await UserTop.findOne({ \n        where: { UserId: myId,},\n    });\n\n    var items = []\n\n    if (recommendations!=null){\n\n        const item1 = await Item.findByPk(recommendations.p1);\n        // check also if it's still available (since during the 24 hours it might have been purchased)\n        if (item1!=null && item1.state==\"AVAILABLE\" && item1.UserId!= myId){\n            items.push(item1)\n        }\n        const item2 = await Item.findByPk(recommendations.p2);\n        if (item2!=null && item2.state==\"AVAILABLE\" && item2.UserId!= myId){\n            items.push(item2)\n        }\n        const item3 = await Item.findByPk(recommendations.p3);\n        if (item3!=null && item3.state==\"AVAILABLE\" && item3.UserId!= myId){\n            items.push(item3)\n        }\n        const item4 = await Item.findByPk(recommendations.p4);\n        if (item4!=null && item4.state==\"AVAILABLE\" && item4.UserId!= myId){\n            items.push(item4)\n        }\n        const item5 = await Item.findByPk(recommendations.p5);\n        if (item5!=null && item5.state==\"AVAILABLE\" && item5.UserId!= myId){\n            items.push(item5)\n        }\n        const item6 = await Item.findByPk(recommendations.p6);\n        if (item6!=null && item6.state==\"AVAILABLE\" && item6.UserId!= myId){\n            items.push(item6)\n        }\n        \n    }\n\n    res.json(items);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 25, "subchunk_id": 0, "start_line": 1058, "end_line": 1061, "language": "js", "text": "\n            if (err){\n                throw err;\n            }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 25, "subchunk_id": 1, "start_line": 1063, "end_line": 1095, "language": "js", "text": "            for ( var p = 0 ; p < result.Items.Item.length ; p++ ){\n                // console.log(result.Items.Item[p].Number_of_Bids[0]);\n\n                const itemito = result.Items.Item[p];\n\n                // Add this and those with zero either don't add them or add them for sale\n                // since the offer no value as data for the matrix factorisation\n                if( parseInt(itemito.Number_of_Bids[0]) == 0 ){\n\n                    const myCategories = itemito.Category;\n                    var lastcategory = 171;\n        \n                    // For each category in the tree\n                    for (var i=0; i< myCategories.length; i++){\n                        \n                        var cat = await Category.findOne( { where: { name: myCategories[i] } } );\n        \n                        if (cat==null){\n                            const cat2 = await Category.create({\n                                name: myCategories[i],\n                                CategoryId: lastcategory,\n                            }).catch(err => {\n                                console.log(err);\n                            });\n        \n                            // As the furthermost category in the tree\n                            lastcategory = cat2.id;\n                        }\n                        else {\n                            lastcategory = cat.id\n                        }\n                    }\n        "}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 25, "subchunk_id": 2, "start_line": 1094, "end_line": 1126, "language": "js", "text": "                    }\n        \n                    const activeUsers = await User.findAll({ where: { approved: true, admin: false},\n                    });\n        \n                    const pickUserId = activeUsers[Math.floor(Math.random() * activeUsers.length)].id;\n        \n                    var item = {\n        \n                        name: itemito.Name[0],\n                        currently: parseFloat(itemito.Currently[0].substring(1)),\n                        first_bid: parseFloat(itemito.First_Bid[0].substring(1)),\n                        number_of_bids: parseInt(itemito.Number_of_Bids[0]),\n                        country: itemito.Country[0],\n                        started: new Date(),\n                        ends: 'Dec-13-23 18:10:40',\n                        description: itemito.Description[0],\n                        state: 'AVAILABLE',\n                        furthermostCategoryId: lastcategory,\n                        UserId: pickUserId, \n                    }\n        \n                    if (itemito.Buy_Price){\n                        item.buy_price= parseFloat(itemito.Buy_Price[0].substring(1))\n                    }\n\n                    if (itemito.Location[0]._){\n                        item.location=itemito.Location[0]._\n\n                        var point = { type: 'Point', coordinates: [itemito.Location[0].$.Latitude,itemito.Location[0].$.Longitude]};\n                        item.latitudeLongitude=point\n                    }\n                    else{"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 25, "subchunk_id": 3, "start_line": 1125, "end_line": 1164, "language": "js", "text": "                    }\n                    else{\n                        item.location=itemito.Location[0];\n                    }\n        \n                    await Item.create(item);\n\n                }\n                else{\n                    const myCategories = itemito.Category;\n                    var lastcategory = 171;\n        \n                    // For each category in the tree\n                    for (var i=0; i< myCategories.length; i++){\n                        \n                        var cat = await Category.findOne( { where: { name: myCategories[i] } } );\n        \n                        if (cat==null){\n                            const cat2 = await Category.create({\n                                name: myCategories[i],\n                                CategoryId: lastcategory,\n                            }).catch(err => {\n                                console.log(err);\n                            });\n        \n                            lastcategory = cat2.id;\n                        }\n                        else {\n                            lastcategory = cat.id\n                        }\n                    }\n        \n                    const activeUsers = await User.findAll({ where: { approved: true, admin: false},\n                    });\n        \n                    const pickUserId = activeUsers[Math.floor(Math.random() * activeUsers.length)].id;\n        \n                    var item = {\n        \n                        name: itemito.Name[0],"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 25, "subchunk_id": 4, "start_line": 1163, "end_line": 1196, "language": "js", "text": "        \n                        name: itemito.Name[0],\n                        currently: parseFloat(itemito.Currently[0].substring(1)),\n                        first_bid: parseFloat(itemito.First_Bid[0].substring(1)),\n                        number_of_bids: parseInt(itemito.Number_of_Bids[0]),\n                        country: itemito.Country[0],\n                        started: itemito.Started[0],\n                        ends: itemito.Ends[0],\n                        description: itemito.Description[0],\n                        state: 'PURCHASED',\n                        furthermostCategoryId: lastcategory,\n                        UserId: pickUserId, \n                    }\n        \n                    if (itemito.Buy_Price){\n                        item.buy_price= parseFloat(itemito.Buy_Price[0].substring(1))\n                    }\n\n                    if (itemito.Location[0]._){\n                        item.location=itemito.Location[0]._\n\n                        var point = { type: 'Point', coordinates: [itemito.Location[0].$.Latitude,itemito.Location[0].$.Longitude]};\n                        item.latitudeLongitude=point\n                    }\n                    else{\n                        item.location=itemito.Location[0];\n                    }\n        \n                    const newItem = await Item.create(item);\n        \n        \n                    for (i=0;i<parseInt(itemito.Number_of_Bids[0]);i++){\n    \n        "}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 25, "subchunk_id": 5, "start_line": 1195, "end_line": 1227, "language": "js", "text": "    \n        \n                        // Do a random bid from one of the other users\n                        const activeBuyers = await User.findAll({ \n                            where: {    approved: true, \n                                        admin: false, \n                                        id: {[Op.ne]: pickUserId,},\n                            }\n                        });\n            \n                        const pickBuyer = activeBuyers[Math.floor(Math.random() * activeBuyers.length)];\n        \n                        var bid = {\n                            time: itemito.Bids[0].Bid[i].Time[0],\n                            amount: parseFloat(itemito.Bids[0].Bid[i].Amount[0].substring(1)),\n                            ItemId: newItem.id,\n                        }\n        \n                        bid.bidderRating = pickBuyer.bidderRating;\n                        bid.bidderName = pickBuyer.username;\n                        bid.UserId = pickBuyer.id;\n        \n                        await Bid.create(bid);\n        \n                        //  Also update the history which is the important part for the Matrix Factorisation\n                        var userData = await UserData.findOne( \n                            { where: { \n                                        UserId: pickBuyer.id, \n                                        ItemId: newItem.id \n                            } \n                        });\n        \n                        if (userData==null){"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 25, "subchunk_id": 6, "start_line": 1226, "end_line": 1239, "language": "js", "text": "        \n                        if (userData==null){\n                            await UserData.create({\n                                rating: 5,\n                                UserId: pickBuyer.id, \n                                ItemId: newItem.id \n                            });\n                        }\n        \n                    }\n\n                }\n         \n            }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 25, "subchunk_id": 7, "start_line": 1238, "end_line": 1239, "language": "js", "text": "         \n            }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Items.js", "chunk_id": 25, "subchunk_id": 8, "start_line": 1239, "end_line": 1239, "language": "js", "text": "            }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 16, "language": "js", "text": "\n\nrouter.get('/bidder/:id', validateTheToken, async (req, res) => {\n\n    const myId = req.params.id;\n\n    const inboxMessages = await Mail.findAll({ where: { bidderId: myId,}});\n\n    res.json(inboxMessages);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 17, "end_line": 28, "language": "js", "text": "\nrouter.get('/seller/:id', validateTheToken, async (req, res) => {\n\n    const myId = req.params.id;\n\n    const allMessages = await Mail.findAll({ \n        where: { sellerId: myId,},\n    });\n\n    res.json(allMessages);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 29, "end_line": 40, "language": "js", "text": "\nrouter.get('/bidder/:id', validateTheToken, async (req, res) => {\n\n    const myId = req.params.id;\n\n    const allMessages = await Mail.findAll({ \n        where: { bidderId: myId,},\n    });\n\n    res.json(allMessages);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 41, "end_line": 58, "language": "js", "text": "\nrouter.get('/newmail/:id', async (req, res) => {\n\n    const myId = req.params.id;\n    const newmail = await Message.findOne({ where: {recipientId: myId, read: false}});\n    \n    if(newmail ===null){\n        res.json({\n            gotmail: false,\n        });\n    }\n    else{\n        res.json({\n            gotmail: true,\n        });\n    }\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 59, "end_line": 76, "language": "js", "text": "\nrouter.get('/newmailcount/:id', async (req, res) => {\n\n    const myId = req.params.id;\n    const newmails = await Message.findAll({ where: {recipientId: myId, read: false}});\n    \n    if(newmails ===null){\n        res.json({\n            count: 0,\n        });\n    }\n    else{\n        res.json({\n            count: newmails.length,\n        });\n    }\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 77, "end_line": 90, "language": "js", "text": "\nrouter.get('/seller/chat/:id', validateTheToken, async (req, res) => {\n\n    const myId = req.params.id;\n    const mailId  = req.header(\"mailId\");\n\n    const chat = await Message.findAll({\n        where:{\n            MailId: mailId\n        },\n    });\n    res.json(chat);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 91, "end_line": 118, "language": "js", "text": "\nrouter.get('/auctions/:id', validateTheToken, async (req, res) => {\n\n    const myId = req.params.id;\n    const bidderId  = req.header(\"otherId\");\n\n    // the chat between them is an AND where the bidder is the recipient\n    // and the seller is the reciever OR the opposite\n    const mails = await Mail.findAll({\n        where:{\n            [Op.or]: [\n                { [Op.and]: [\n                        { sellerId: bidderId },\n                        { bidderId: myId }\n                    ]\n                },\n                {[Op.and]: [\n                    { sellerId: myId },\n                    { bidderId: bidderId }\n                    ]\n                }\n            ]\n    }});\n\n\n    res.json(mails);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 119, "end_line": 129, "language": "js", "text": "\n\nrouter.get('/inbox/:id', validateTheToken, async (req, res) => {\n\n    const myId = req.params.id;\n\n    const inboxMessages = await Message.findAll({ where: { recipientId: myId, deletedInbox: false}});\n\n    res.json(inboxMessages);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 130, "end_line": 140, "language": "js", "text": "\n\nrouter.get('/outbox/:id', validateTheToken, async (req, res) => {\n\n    const myId = req.params.id;\n\n    const inboxMessages = await Message.findAll({ where: { senderId: myId, deletedOutbox: false }});\n\n    res.json(inboxMessages);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 9, "subchunk_id": 0, "start_line": 141, "end_line": 152, "language": "js", "text": "\nrouter.get('/contacts/:id', validateTheToken, async (req, res) => {\n\n    const myId = req.params.id;\n\n    const contacts = await Contact.findAll({ where: \n            {UserId: myId},\n    });\n\n    res.json(contacts);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 10, "subchunk_id": 0, "start_line": 153, "end_line": 174, "language": "js", "text": "\nrouter.post('/confirmpayment/:id', validateTheToken, async (req, res) => {\n    \n    const mailId = req.params.id;\n    const bidderId = req.body.bidderId\n    const bidderRating = req.body.bidderRating;\n\n    // Increment bidder's buy count and add their rating\n    await User.increment({buyCount: 1}, { where: { id: bidderId } });\n    await User.increment({bidderRating: bidderRating}, { where: { id: bidderId } });\n\n    // Update mail that the item has been payed\n    await Mail.update({\n        payed: true,\n        bidderRating: bidderRating,\n        },\n        {where : { \n            id: mailId\n        }\n    });\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 11, "subchunk_id": 0, "start_line": 175, "end_line": 196, "language": "js", "text": "\nrouter.post('/confirmarrival/:id', validateTheToken, async (req, res) => {\n    \n    const mailId = req.params.id;\n    const sellerId = req.body.sellerId\n    const sellerRating = req.body.sellerRating;\n\n    // Increment bidder's buy count and add their rating\n    await User.increment({saleCount: 1}, { where: { id: sellerId } });\n    await User.increment({sellerRating: sellerRating}, { where: { id: sellerId } });\n\n    // Update mail that the item has been payed\n    await Mail.update({\n        arrived: true,\n        sellerRating: sellerRating,\n        },\n        {where : { \n            id: mailId\n        }\n    });\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 12, "subchunk_id": 0, "start_line": 197, "end_line": 212, "language": "js", "text": "\nrouter.put('/message/deleteinbox/:id', async (req, res) => {\n\n    const mesId = req.params.id;\n\n    console.log(mesId);\n\n    await Message.update({\n        read: true,\n        deletedInbox: true,\n    },\n    {where: {\n        id: mesId\n    }});\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 13, "subchunk_id": 0, "start_line": 213, "end_line": 229, "language": "js", "text": "\nrouter.put('/message/deleteoutbox/:id', async (req, res) => {\n\n    const mesId = req.params.id;\n\n    console.log(mesId);\n\n    await Message.update({\n        read: true,\n        deletedOutbox: true,\n    },\n    {where: {\n        id: mesId\n    }});\n\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 14, "subchunk_id": 0, "start_line": 230, "end_line": 245, "language": "js", "text": "\nrouter.put('/message/read/:id', async (req, res) => {\n\n    const mesId = req.params.id;\n\n    console.log(mesId);\n\n    await Message.update({\n        read: true,\n    },\n    {where: {\n        id: mesId\n    }});\n\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Mail.js", "chunk_id": 15, "subchunk_id": 0, "start_line": 246, "end_line": 270, "language": "js", "text": "\nrouter.post('/message/:id', validateTheToken, async (req, res) => {\n    \n    const myId = req.params.id;\n    const messagio = req.body;\n    const userito = await User.findByPk(myId);\n    const recipio = await User.findByPk(messagio.recipientId);\n\n    // Create message\n    await Message.create({\n        title: messagio.title,\n        body: messagio.body,\n        senderId: myId,\n        senderName: userito.name,\n        senderSurname: userito.surname,\n        recipientName: recipio.name,\n        recipientSurname: recipio.surname,\n        recipientId: messagio.recipientId,\n        MailId: messagio.MailId,\n        UserId: myId,\n    }).catch(err => {\n        console.log(err);\n    });\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Photos.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 17, "language": "js", "text": "\n// No token cause this needs to work for guests as well\nrouter.get('/:id', async (req, res) => {\n\n    const itemId = req.params.id;\n    const images = await Photo.findAll({ where: { ItemId: itemId,}});\n\n    res.json(images);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Photos.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 18, "end_line": 29, "language": "js", "text": "\n\n// No token cause this needs to work for guests as well\nrouter.get('/getcover/:id', async (req, res) => {\n\n    const itemId = req.params.id;\n\n    const coverImage = await Photo.findOne({ where: { ItemId: itemId, coverPhoto: true}});\n\n    res.json(coverImage);\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Photos.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 30, "end_line": 49, "language": "js", "text": "\n\n// So that the seller selects a cover photo\nrouter.put('/setcover/:id', validateTheToken, async (req, res)=>{\n\n    const myId = req.params.id;\n    const itemId = req.body.ItemId;\n\n\n    const anotherone = await Photo.findOne({ where: {id: myId}});\n\n    await Item.update({\n        coverPhoto: anotherone.url,\n        },\n        {where : {\n            id: itemId,\n        }\n    });\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Photos.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 50, "end_line": 81, "language": "js", "text": "\nrouter.post('/:id', validateTheToken, upload.single('image'), async (req, res) => {\n\n    const filename = req.params.id;\n    const myUrl = `https://localhost:33123/images/${filename}`\n\n    const itemId = parseInt(filename.split('_')[0]);\n\n    const anotherone = await Photo.findOne({ where: {ItemId: itemId}});\n    \n    if(anotherone ===null){\n        // Create new photo entry with cover photo true\n        await Item.update({\n            coverPhoto: myUrl,\n            },\n            {where : {\n                id: itemId,\n            }\n        });\n\n    }\n\n    await Photo.create({\n        ItemId: itemId,\n        url: myUrl,\n    }).catch(err => {\n        console.log(err);\n    });\n\n    res.json({message:\"Image uploaded!\"})\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Photos.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 82, "end_line": 125, "language": "js", "text": "\n\n// validate the user too before deleting\nrouter.delete('/:id', validateTheToken, async (req, res)=>{\n    const myId = req.params.id;\n    const photograph = await Photo.findOne({ where: {id: myId}});\n    const itemId = photograph.ItemId;\n    const localpath = path.join(__dirname, '..', 'images', photograph.url.split('/').pop())\n\n    await Photo.destroy({where : {\n        id: myId,\n    }});\n\n    // to remove it asunchronously\n    fs.unlink(localpath, function(err){\n        if(err){\n            console.error(err)\n        }\n        else {\n            console.log(\"File Removed: \", localpath);\n        }\n    });\n\n    const newcover = await Photo.findOne({ where: {ItemId: itemId}});\n\n    if ( newcover === null){\n        await Item.update({\n            coverPhoto: \"https://localhost:33123/images/placeholder.png\",\n            },\n            {where : {\n                id: itemId,\n            }\n        });\n    }\n    else{\n        await Item.update({\n            coverPhoto: newcover.url,\n            },\n            {where : {\n                id: itemId,\n            }\n        });\n    }\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Users.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 36, "language": "js", "text": "\nrouter.post('/', async (req, res) => {\n    \n    const { username , password , name , surname , email , telephone , latitudeLongitude , location , country , taxnumber, sellerRating, saleCount, bidderRating, buyCount } = req.body;\n\n    bcrypt.hash(password, 10).then((hash)=>{\n        User.create({\n            username: username,\n            password: hash,\n            name: name,\n            surname: surname,\n            email: email,\n            telephone: telephone,\n            latitudeLongitude: latitudeLongitude,\n            location: location,\n            country: country,\n            taxnumber: taxnumber,\n            sellerRating: sellerRating,\n            saleCount: saleCount,\n            bidderRating: bidderRating,\n            buyCount: buyCount,\n            // this here just for safety\n            admin: false,\n            approved: false,\n        });\n        res.json('Successful');\n    });\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Users.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 37, "end_line": 70, "language": "js", "text": "\nrouter.post('/login', async (req, res) => {\n    \n    const { username , password } = req.body;\n\n    const user = await User.findOne({ where: {username: username}});\n\n    // if the user is not in the table\n    if (!user){\n        res.json({error: \"User doesn't exist!\"});\n    }\n    else{\n\n        if (user.approved===false){\n            res.json({error: \"approval\"});\n        }\n        else{\n\n            bcrypt.compare(password, user.password).then((matched)=>{\n                if(!matched){\n                    res.json({error: \"Wrong User Credentials!\"});\n                }\n                else{\n                    const accessToken = sign({username: user.username, id: user.id}, \"hereputyoursecret\");\n                    res.json({token: accessToken, username: user.username, id: user.id });\n                }\n            });\n\n        }\n\n        \n    }\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Users.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 71, "end_line": 78, "language": "js", "text": "\nrouter.get('/fetchy/:id', async (req, res) => {\n    const myId = req.params.id;\n    const userito = await User.findByPk(myId);\n\n    // Don't return more information from the seller than is safe\n    res.json({ username: userito.username, saleCount: userito.saleCount, sellerRating: userito.sellerRating, name: userito.name, surname: userito.surname, id: userito.id });\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Users.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 79, "end_line": 96, "language": "js", "text": "\nrouter.get('/exists/:id', async (req, res) => {\n\n    const myId = req.params.id;\n    const usr = await User.findOne({ where: { username: myId } });\n    \n    if(usr ===null){\n        res.json({\n            exists: false,\n        });\n    }\n    else{\n        res.json({\n            exists: true,\n        });\n    }\n    \n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Users.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 97, "end_line": 107, "language": "js", "text": "\n// This is not asynchronous cause it's important for security\nrouter.get('/validate', validateTheToken, (req, res) => {\n\n    res.json({\n        username: req.user.username, \n        id: req.user.id, \n        status: true,\n    });\n\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Users.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 108, "end_line": 121, "language": "js", "text": "\nrouter.get('/fetchyall/:id', async (req, res) => {\n    const myId = req.params.id;\n    const userito = await User.findByPk(myId, {\n        // Don't return the password from the attributes\n        attributes: {exclude: [\"password\"]},\n    });\n    if (!userito || userito.username===\"admin\"){\n        res.json({message:\"Not allowed\"})\n    }\n    else{\n        res.json(userito);\n    }\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Users.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 122, "end_line": 138, "language": "js", "text": "\nrouter.get('/', validateTheToken, async (req, res) => {\n\n    // make sure that it's the admin\n    const username = req.user.username;\n\n    if (username==='admin'){\n\n        // excluding here the admin and the password from the info\n        const allUsers = await User.findAll( {where: {\n            username: { [Op.ne]: 'admin' }\n        },\n        attributes: {exclude: [\"password\"]},\n        });\n        res.json(allUsers);\n    }\n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Users.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 139, "end_line": 153, "language": "js", "text": "\n\n\nrouter.get('/approve', validateTheToken , async (req, res) => {\n\n    // excluding here the admin and the password from the info\n    const allUsers = await User.findAll( {where: {\n        approved: false,\n        username: { [Op.ne]: 'admin' }\n    },\n    attributes: {exclude: [\"password\"]},\n    });\n    res.json(allUsers);\n    \n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\api\\routes\\Users.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 154, "end_line": 179, "language": "js", "text": "\n// User approval by the admin after validating the token\nrouter.put('/approve', validateTheToken, async (req, res) => {\n    \n    const userList = req.body;\n    const username = req.user.username;\n\n    if (username==='admin'){\n        for (var i = 0; i < userList.length; i++) {\n            var userId = userList[i];\n            console.log(userId);\n            await User.update({\n                approved: true\n                },\n                {where : { \n                    id: userId\n                }\n            });\n        }\n        res.json(\"Succesfully approved users!\");\n    }\n    else{\n        res.json(\"This is forbidden!\")\n    }\n    \n});"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\App.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 22, "end_line": 75, "language": "js", "text": "\n\nfunction App() {\n\n  const [authState, setAuthState] = useState({\n    username: \"\", \n    id: 0, \n    status:false \n  });\n\n  useEffect(()=>{\n\n      axios.get(\"https://localhost:33123/auth/validate\", { headers: {\n        accessToken: localStorage.getItem(\"accessToken\"),\n      }}).then((res)=>{\n        if(res.data.error){\n          setAuthState({\n            username: \"\", \n            id: 0, \n            status:false\n          });\n        }\n        else{\n          setAuthState(res.data);\n        }\n      });\n\n  }, []);\n\n  \n\n  return (\n\n    <div className=\"App\" >\n      <AuthContext.Provider value={{authState, setAuthState}} >\n        <Router>\n          <Routes>\n\n            {/* Is the User Authenticated */}\n            {!authState.status ? (<> \n\n                {/* Logged out routes */}\n                <Route path=\"/\" element={<Landing />} />\n                <Route path=\"/login\" element={<><Navbar clicked={\"login\"} /><Login /></>} />\n                <Route path=\"/profile/:id\" element={<><Navbar clicked={\"profile\"}/> <NotAllowed /></>} />\n                <Route path=\"/home/\" element={<><Navbar clicked={\"home\"}/> <NotAllowed /></>} />\n              </>)\n            :\n            \n              (<>  \n                {/* Logged in Routes */}\n                <Route path=\"/\" element={<><Navbar clicked={\"home\"}/> <Dashboard /></>} />\n                <Route path=\"/profile/:id\" element={<><Navbar clicked={\"users\"} /> <Profile /></>} />\n                "}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\App.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 74, "end_line": 97, "language": "js", "text": "                <Route path=\"/profile/:id\" element={<><Navbar clicked={\"users\"} /> <Profile /></>} />\n                \n                {/* Unavailable to admin  */}\n                { ! (authState.username===\"admin\") ? (<>\n                  <Route path=\"/createitem\" element={<><Navbar clicked={\"createitem\"} /> <CreateItem /></>} />\n                  <Route path=\"/home/\" element={<><Navbar clicked={\"home\"} /> <Dashboard /></>} />\n                  <Route path=\"/mail/\" element={<><Navbar clicked={\"mail\"} /> <MailToggle  /></>} />\n                </>)\n                :  \n                (<>\n                  <Route path=\"/users\" element={<><Navbar clicked={\"users\"} /> <Users /></>} />\n                  <Route path=\"/addcategory\" element={<><Navbar clicked={\"addcategory\"} /> <CreateCategory /></> } />\n                  <Route path=\"/export\" element={<><Navbar clicked={\"export\"} /> <Export /></>} />\n                </>)\n                }\n              </>)\n            }\n\n            <Route path=\"/auctions\" element={<><Navbar clicked={\"auctions\"}/> <Auctions /></>} />\n            <Route path=\"/search\" element={<><Navbar clicked={\"search\"} /> <FilterCategories /></>} />\n            <Route path=\"/item/:id\" element={<><Navbar clicked={\"auctions\"}/> <Item /></>} />\n            <Route path=\"/filter\" element={<><Navbar clicked={\"search\"} /> <Filter /></>} />\n            \n            {/* last the default if the page was not found */}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\App.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 96, "end_line": 105, "language": "js", "text": "            \n            {/* last the default if the page was not found */}\n            <Route path=\"*\" element= {<><Navbar /> <NotFound /></>} />\n\n          </Routes>\n        </Router>\n      </AuthContext.Provider>\n    </div>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\App.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 104, "end_line": 105, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\App.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 105, "end_line": 105, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 17, "language": "js", "text": "import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  // <React.StrictMode>\n    <App />\n  // </React.StrictMode>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\reportWebVitals.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 11, "language": "js", "text": "const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\AuthContext.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import { createContext } from \"react\";\n\nexport const AuthContext = createContext(\"\");"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Navbar.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 57, "language": "js", "text": "\n// The navigatior bar\nfunction Navbar(props) {\n  \n  const {authState} = useContext(AuthContext);\n  const [gotMail, setGotMail] = useState(0);\n\n  useEffect(()=>{\n\n    axios.get(`https://localhost:33123/mail/newmailcount/${authState.id}`).then((respi)=>{\n\n      if(respi.data.count===0){\n            setGotMail(0);\n        }\n        else {\n          setGotMail(respi.data.count);\n\n        }\n        console.log(respi.data.count);\n\n        }).catch((error) => {\n      });\n\n  });\n\n  return (\n    <div>\n\n      <div className=\"navbar gradient-custom\">\n            \n        {!authState.status ? (<> \n          \n          {props.clicked===\"home\" ?\n              <Link style={{ color: 'rgba(0, 0, 0, 0.36)' }} to=\"/\">Home</Link>\n              :\n              <Link style={{ color: 'white' }} to=\"/\">Home</Link>\n            }\n          {props.clicked===\"login\" ?\n              <Link style={{ color: 'rgba(0, 0, 0, 0.36)' }} to=\"/login\">Login/Register</Link>\n              :\n              <Link style={{ color: 'white' }} to=\"/login\">Login/Register</Link>\n            }\n          {props.clicked===\"auctions\" ?\n              <Link style={{ color: 'rgba(0, 0, 0, 0.36)' }} to=\"/auctions\">Auctions</Link>\n              :\n              <Link style={{ color: 'white' }} to=\"/auctions\">Auctions</Link>\n            }\n          {props.clicked===\"search\" ?\n              <Link style={{ color: 'rgba(0, 0, 0, 0.36)' }} to=\"/search\">Search&nbsp;&nbsp;&nbsp;</Link>\n              :"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Navbar.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 56, "end_line": 94, "language": "js", "text": "              <Link style={{ color: 'rgba(0, 0, 0, 0.36)' }} to=\"/search\">Search&nbsp;&nbsp;&nbsp;</Link>\n              :\n              <Link style={{ color: 'white' }} to=\"/search\">Search&nbsp;&nbsp;&nbsp;</Link>\n            }\n        </>)\n        :\n          (<>\n        \n          {/* Admin won't be able to post an item, but to modify the users */}\n          { ! (authState.username===\"admin\") ? (<> \n      \n            {props.clicked===\"mail\" ?\n              <div style={{ marginTop:6 }}>\n                <Link style={{ color: 'rgba(0, 0, 0, 0.36)' }} to=\"/mail\"><MailIcon color=\"white\" /></Link>  \n              </div>\n              :\n              <>\n              { (gotMail!==0) ?\n                <Link style={{ color: 'white' }} to=\"/mail\"> \n                <Badge badgeContent={gotMail} color=\"info\">\n                <MailIcon color=\"white\" />\n                </Badge>\n                </Link>  \n                :\n                <div style={{ marginTop:6 }}>\n                <Link style={{ color: 'white' }} to=\"/mail\"><MailIcon color=\"white\" /></Link>  \n                </div>\n              }\n              </>\n            }\n            \n\n            {props.clicked===\"home\" ?\n              <Link style={{ color: 'rgba(0, 0, 0, 0.36)' }} to=\"/\">Home</Link>\n              :\n              <Link style={{ color: 'white' }} to=\"/\">Home</Link>\n            }\n\n            {props.clicked===\"createitem\" ?"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Navbar.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 93, "end_line": 128, "language": "js", "text": "\n            {props.clicked===\"createitem\" ?\n              <Link style={{ color: 'rgba(0, 0, 0, 0.36)' }} to=\"/createitem\">Create</Link>\n              :\n              <Link style={{ color: 'white' }} to=\"/createitem\">Create</Link>\n            }\n\n          </>)\n          :\n          (<> \n            {props.clicked===\"users\" ?\n              <Link style={{ color: 'rgba(0, 0, 0, 0.36)' }} to=\"/users\">Users</Link>\n              :\n              <Link style={{ color: 'white' }} to=\"/users\">Users</Link>\n            }\n            {props.clicked===\"addcategory\" ?\n              <Link style={{ color: 'rgba(0, 0, 0, 0.36)' }} to=\"/addcategory\">Categories</Link>\n              :\n              <Link style={{ color: 'white' }} to=\"/addcategory\">Categories</Link>\n            }\n            {props.clicked===\"export\" ?\n              <Link style={{ color: 'rgba(0, 0, 0, 0.36)' }} to=\"/export\">Export</Link>\n              :\n              <Link style={{ color: 'white' }} to=\"/export\">Export</Link>\n            }\n            </>)\n          }\n          \n          {props.clicked===\"auctions\" ?\n              <Link style={{ color:'rgba(0, 0, 0, 0.36)' }} to=\"/auctions\">Auctions</Link>\n              :\n              <Link style={{ color: 'white' }} to=\"/auctions\">Auctions</Link>\n            }\n          {props.clicked===\"search\" ?\n              <Link style={{ color: 'rgba(0, 0, 0, 0.36)' }} to=\"/search\">Search&nbsp;&nbsp;&nbsp;</Link>\n              :"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Navbar.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 127, "end_line": 142, "language": "js", "text": "              <Link style={{ color: 'rgba(0, 0, 0, 0.36)' }} to=\"/search\">Search&nbsp;&nbsp;&nbsp;</Link>\n              :\n              <Link style={{ color: 'white' }} to=\"/search\">Search&nbsp;&nbsp;&nbsp;</Link>\n            }\n          <div className =\"loggedInContainer\"> \n              \n            <div className =\"h1\" style={{ color: 'white' }}>&nbsp;Signed in as {authState.username} </div>\n            <Logout />\n          </div>\n          </>)\n        }   \n            \n      </div>\n    </div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Navbar.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 141, "end_line": 142, "language": "js", "text": "  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Navbar.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 142, "end_line": 142, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\CreateCategory.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 14, "end_line": 73, "language": "js", "text": "\nfunction CreateCategory() {\n\n  // these to hold the temporary states\n  const [name, setName] = React.useState(\"\");\n  const [selectedCategory, setSelectedCategory] = useState({});\n\n  const onSubmit = () =>{\n\n      if (name===\"\"){\n          setErrorMessage(\"You need to input a name\");\n          handleClickAlertError();\n      }\n      else{\n          const body = {     \n                  name: name,\n                  CategoryId: selectedCategory.id,\n          };    \n\n          const head={ headers:{\n              accessToken: localStorage.getItem(\"accessToken\")\n              }\n          }\n\n          axios.post(\"https://localhost:33123/categories\", body, head).then((res)=>{\n              if (res.data.error){\n                  setErrorMessage(res.data.error)\n                  handleClickAlertError();\n              }\n          });\n          handleClickAlert();\n      }\n  };\n\n  const handleTextFieldChange = (data) => {\n    setName(data.target.value);\n  }\n\n\n\n  // For the alerts\n  const [openAlert, setOpenAlert] = React.useState(false);\n  const [errorMessage, setErrorMessage ]= React.useState(\"\");\n\n  const handleClickAlert = () => {\n    setOpenAlert(true);\n  };\n\n  const handleCloseAlertR = (event, reason) => {\n    setOpenAlert(false);\n    window.location.reload();\n  };\n\n  // for the error alert\n  const [openAlertError, setOpenAlertError] = React.useState(false);\n\n  const handleClickAlertError = () => {\n    setOpenAlertError(true);\n  };\n"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\CreateCategory.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 72, "end_line": 117, "language": "js", "text": "  };\n\n  const handleCloseAlertError = (event, reason) => {\n    setOpenAlertError(false);\n  };\n\n  return (\n\n    <div style={{ minHeight: '90vh', width: '100%', \n                  backgroundImage: `url(\"https://localhost:33123/images/background.png\")`,\n                  backgroundRepeat: 'repeat',\n                }}>\n      <div className='createItemPage'>\n\n        <div className='formContainer gradient-custom' >\n\n          <Grid container direction={\"column\"} spacing={2.5}>\n\n            <Grid item>\n              <Title title=\"Add a New Category\" />\n              <br />\n              <Detail text={<div> \n                  <TextField \n                  name = \"name\"\n                  onChange={handleTextFieldChange}\n                  fullWidth\n                  inputProps={{ style: { color: \"black\", fontFamily: \"Futura\" } }} \n                  id=\"outlined-multiline-static\"\n                  label=\"Category Name\"\n                  // multiline\n                  variant=\"standard\"\n                  rows={1}\n                  />\n                </div>} />\n            </Grid>\n\n            <Grid item>\n              <Detail text=\"Select the place of this category on the hierarchy:\" />\n              <br />\n              <Detail text={<div> \n              <Categories setSelectedCategory={setSelectedCategory} />\n              </div>} />\n              <br />\n              <button type=\"submit\" className='buttonito' onClick={()=>{onSubmit()}}>Add Category</button>\n            </Grid>\n"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\CreateCategory.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 116, "end_line": 140, "language": "js", "text": "            </Grid>\n\n          </Grid>\n\n        </div>\n\n        {/* message alert */}\n        <Snackbar open={openAlert} autoHideDuration={6000} onClose={handleCloseAlertR}>\n          <Alert onClose={handleCloseAlertR} severity=\"success\" sx={{ width: '100%' }}>\n            Category Succesfully Added!\n          </Alert>\n        </Snackbar>\n\n        {/* error message alert */}\n        <Snackbar open={openAlertError} autoHideDuration={6000} onClose={handleCloseAlertError}>\n          <Alert onClose={handleCloseAlertError} severity=\"warning\" sx={{ width: '100%' }}>\n            {errorMessage}\n          </Alert>\n        </Snackbar>\n    \n      </div>\n    </div>\n  )\n\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\CreateCategory.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 139, "end_line": 140, "language": "js", "text": "\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\CreateCategory.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 140, "end_line": 140, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\Download.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 35, "language": "js", "text": "\n// To download the JSON \nexport function Download(props){\n    const download=(e)=>{\n\n        Axios({\n            url: 'https://localhost:33123/items/downloadJSON/',\n            method: 'GET',\n            responseType: 'text', // important (have it as blob if you don't stringify)\n            headers: {\n                accessToken: localStorage.getItem(\"accessToken\"),\n                username: props.username,\n                },\n        }).then((response) => {\n            \n            const create_url = window.URL.createObjectURL(new Blob([JSON.stringify(response.data, null, \"\\t\")]));\n            const generate_link = document.createElement('a');\n\n            generate_link.href = create_url;\n            generate_link.setAttribute('download', 'auctions.json');\n            document.body.appendChild(generate_link);\n            generate_link.click();\n        \n        });\n    }\n\n    return (\n        <div>\n            <button className=\"buttonito\" onClick={download} >Download JSON</button>\n        </div>\n    );\n\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\DownloadXML.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 35, "language": "js", "text": "\n// To download the XML\nexport function DownloadXML(props){\n    const download=(e)=>{\n\n\n        Axios({\n            url: 'https://localhost:33123/items/downloadXML/',\n            method: 'GET',\n            responseType: 'text', // important text here not blob to keep the formatting\n            headers: {\n                accessToken: localStorage.getItem(\"accessToken\"),\n                username: props.username,\n                },\n        }).then((response) => {\n            \n            const create_url = window.URL.createObjectURL(new Blob([response.data]));\n            const generate_link = document.createElement('a');\n\n            generate_link.href = create_url;\n            generate_link.setAttribute('download', 'auctions.xml');\n            document.body.appendChild(generate_link);\n            generate_link.click();\n        });\n    }\n\n    return (\n        <div>\n            <button className=\"buttonito\" onClick={download} >Download XML</button>\n        </div>\n    );\n\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\UserCard.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 48, "language": "js", "text": "\n// In accordance with the items styling for the cards\nexport default function UserCard(props) {\n  return (\n    <Box sx={{ minWidth: 275 }}>\n      <Card variant=\"contained\">\n        \n        <React.Fragment>\n            <CardContent>\n\n            <Typography variant=\"h5\" component=\"div\">\n            {props.userinfo.name} {props.userinfo.surname} \n            </Typography>\n            <Typography sx={{ mb: 1.5 }} color=\"text.secondary\" component=\"div\">\n            {props.userinfo.email}\n            </Typography>\n            <Typography variant=\"body2\" component=\"div\">\n\n                <Header text={ <div style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            textAlign: 'center',\n                            flexWrap: 'wrap',\n                            }}>\n                        <PointOfSaleSharpIcon />\n                        { props.userinfo.saleCount ? \n                        (   <>&nbsp;{props.userinfo.sellerRating}&nbsp;\n                            <Rating name=\"read-only\" value= {props.userinfo.sellerRating/props.userinfo.saleCount } readOnly precision={0.5}/>\n                            </>\n                        )\n                        :\n                        (   <>&nbsp;No Sales Yet\n                            </>\n                        )\n                        } \n                        </div>} \n                    />\n\n                    <Header text={ <div style={{"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\UserCard.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 47, "end_line": 49, "language": "js", "text": "\n                    <Header text={ <div style={{\n                            display: 'flex',"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\UserCard.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 48, "end_line": 49, "language": "js", "text": "                    <Header text={ <div style={{\n                            display: 'flex',"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\UserCard.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 49, "end_line": 49, "language": "js", "text": "                            display: 'flex',"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\UserCard.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 48, "end_line": 77, "language": "js", "text": "                    <Header text={ <div style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            textAlign: 'center',\n                            flexWrap: 'wrap',\n                            }}>\n                        <ShoppingBagSharpIcon />\n                        { props.userinfo.buyCount ? \n                        (<>\n                        &nbsp;{props.userinfo.bidderRating}&nbsp;\n                        <Rating name=\"read-only\" value={props.userinfo.bidderRating/props.userinfo.buyCount } readOnly precision={0.5}/>\n                        </>)\n                        :\n                        (<>\n                        &nbsp;No Purchases Yet\n                        </>\n                        )\n                        }\n                        </div>} \n                    />\n\n            </Typography>\n            </CardContent>\n        </React.Fragment>\n      \n     \n      </Card>\n    </Box>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\UserCard.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 76, "end_line": 77, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Admin\\UserCard.js", "chunk_id": 0, "subchunk_id": 6, "start_line": 77, "end_line": 77, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Home\\BuyCard.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 44, "language": "js", "text": "\n// Simple card to display the landing page's two cards\nexport default function BuyCard(props) {\n\n  return (\n\n      <Card style={{ maxWidth: 645,\n        background: 'rgba(0, 0, 0, 0.48)',\n        margin: '20px', }}>\n          <CardMedia\n            style={{height: 440 }}\n            component=\"img\"\n            src={props.kind.imageUrl}\n      />\n\n        <CardContent>\n          <Typography\n            gutterBottom\n            variant=\"h5\"\n            component=\"h1\"\n            style= {{fontFamily: 'Futura', fontWeight: 'bold',\n            fontSize: '2rem', color: '#fff',}}\n          >\n            {props.kind.title}\n          </Typography>\n          <Typography\n            variant=\"body2\"\n            color=\"textSecondary\"\n            component=\"p\"\n            style={{ fontFamily: 'Futura',\n            fontSize: '1.1rem',\n            color: '#ddd', }}\n          >\n            {props.kind.description}\n          </Typography>\n        </CardContent>\n\n      </Card>\n      \n  );\n\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Home\\Landing.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 57, "language": "js", "text": "\nfunction Landing() {\n\n  let navigate = useNavigate();\n\n  const goToAuctions = () =>{\n    navigate(\"/auctions\");\n  }\n\n  const goToLogin = () =>{\n    navigate(\"/login\");\n}\n\nconst kind = [\n  {\n    title: 'Sell',\n    description:\n      \"Selling with us is rather easy. You have absolute control over the price, duration of the auction and availability for immediate purchase. All you have to do is create an account and when you are confirmed you are ready to post your first listing!\",\n    imageUrl: \"https://localhost:33123/images/kobuR.jpg\",\n    time: 1500,\n  },\n  {\n    title: 'Buy',\n    description:\n      'In our auctions, items are bid on and sold to the highest bidder on a public sale. We ensure a safe transaction between seller and buyer and you can communicate securely within our mail app. Feel free to explore our catalogue before joining here!',\n    imageUrl: \"https://localhost:33123/images/saadR.jpg\",\n    time: 1500,\n  },\n];\n\n  return (\n    <div  style={{     minHeight: '100vh', width: '100%',\n      backgroundImage: `url(\"https://localhost:33123/images/products.jpg\")`,\n      backgroundRepeat: 'no-repeat',\n      backgroundSize: 'cover', }}>\n      \n      <CssBaseline />\n      <motion.div style={{display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    height: '100vh',\n    fontFamily: 'Futura'}} id=\"header\"\n    \n    initial={{opacity: 0}}\n    animate={{opacity: 1}}\n    exit={{opacity: 0}}\n    >\n      <AppBar style={{background: 'none', }} elevation={0}>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Home\\Landing.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 56, "end_line": 103, "language": "js", "text": "    >\n      <AppBar style={{background: 'none', }} elevation={0}>\n        <Toolbar style={{width: '80%',\n    margin: '0 auto', }}>\n          <h1 style={{    flexGrow: '1', fontSize: '2.6rem', color: '#fff', }}  >\n          auctionpoint\n          </h1>\n          <IconButton onClick={goToLogin}>\n            <ExitToAppIcon style={{    color: '#fff',\n    fontSize: '2rem', }} />\n          </IconButton>\n        </Toolbar>\n      </AppBar>\n\n            <div style={{     textAlign: 'center',}} >\n              <h1 style={{    flexGrow: '1', fontSize: '4.5rem',\n        background: \"-webkit-linear-gradient(45deg, #00C9FF 0%, #92FE9D 100%)\",\n        WebkitBackgroundClip: \"text\",\n        WebkitTextFillColor: \"transparent\" }}  > \n        <div style={{     color: '#fff',\n        fontSize: '4.5rem', }}>\n            Welcome to <br />\n            </div>\n          auction point </h1>\n          \n          <Scroll to=\"DOWN\" smooth={true}>\n            <IconButton>\n              <ExpandMoreIcon style={{     color: '#b5efff', fontSize: '4rem', }} />\n            </IconButton>\n          </Scroll>\n\n        </div>\n        </motion.div>\n        \n        <div style={{\n        minHeight: '100vh',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n        }} \n        \n        id=\"DOWN\">\n          <div onClick={goToAuctions}>\n        <BuyCard kind={kind[1]} /></div>\n        <div onClick={goToLogin}>\n        <BuyCard kind={kind[0]}  />\n        </div>\n      </div>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Home\\Landing.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 102, "end_line": 106, "language": "js", "text": "        </div>\n      </div>\n    </div>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Home\\Landing.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 105, "end_line": 106, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Home\\Landing.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 106, "end_line": 106, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Login\\LoginForm.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 37, "end_line": 84, "language": "js", "text": "\nfunction LoginForm() {\n\n    let navigate = useNavigate();\n\n    const initialValues = {\n        username: \"\",\n        password: \"\",\n    };\n\n    const {setAuthState} = useContext(AuthContext);\n\n    // validation of the fields\n    const validationSchema = Yup.object().shape({\n        username: Yup.string().min(3).max(20).required(\"You must input a username\"),\n        password: Yup.string().min(4).max(20).required(\"You must input a password\"),\n    });\n\n    // These here are for the Modal that displays awaiting approval\n    const [open, setOpen] = React.useState(false);\n\n    const handleClose = () => {\n        setOpen(false);\n    }\n\n     // These here are for the Modal that displays awaiting approval\n     const [openAlert, setOpenAlert] = React.useState(false);\n     const handleOpenAlert = () => setOpenAlert(true);\n     const handleCloseAlert = () => {\n        setOpenAlert(false);\n     }\n     const [errorMessage, setErrorMessage] = React.useState(\"\");\n\n    const onSubmit = (data) =>{\n\n        axios.post(\"https://localhost:33123/auth/login\", data).then((res)=>{\n            if (res.data.error){\n                if (res.data.error==='approval'){\n                    setOpen(true);\n                }\n                else{\n                    setErrorMessage(res.data.error);\n                    handleOpenAlert();\n                }\n            }\n            else{\n                localStorage.setItem(\"accessToken\", res.data.token);\n                setAuthState({"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Login\\LoginForm.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 83, "end_line": 127, "language": "js", "text": "                localStorage.setItem(\"accessToken\", res.data.token);\n                setAuthState({\n                    username: res.data.username, \n                    id: res.data.id, \n                    status:true\n                });\n                if (res.data.username===\"admin\"){\n                    navigate('/users');\n                }\n                else{\n                    navigate(\"/\");\n                }\n            }\n        });\n        \n    };\n\n    return (\n    \n        <div className='createItemPage' >   \n            <Formik \n            initialValues={initialValues} \n            onSubmit={onSubmit}\n            validationSchema={validationSchema} \n            style={{\n                height: '100vh',\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'center',\n                }}\n            >\n                <Form className='formContainer gradient-custom' >\n                    <label>Username: </label>\n                    <ErrorMessage name=\"username\" component=\"span\" />\n                    <Field \n                    id=\"inputCreateItem\" \n                    name=\"username\" \n                    placeholder=\"Username\" \n                    />\n                    <label>Password: </label>\n                    <ErrorMessage name=\"password\" component=\"span\" />\n                    <Field \n                    id=\"inputCreateItem\" \n                    name=\"password\" "}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Login\\LoginForm.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 126, "end_line": 164, "language": "js", "text": "                    id=\"inputCreateItem\" \n                    name=\"password\" \n                    type=\"password\"\n                    placeholder=\"*****\" \n                    />\n                \n                    <button type=\"submit\" >\n                        Login\n                    </button>\n                </Form>\n            </Formik>\n\n        {/* Modal for the application approval  */}\n        <Modal\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"modal-modal-title\"\n            aria-describedby=\"modal-modal-description\"\n        >\n            <Box sx={style}>\n            <Typography id=\"modal-modal-title\" variant=\"h5\" component=\"h2\">\n                Your Application is Pending Approval\n            </Typography>\n            <img alt=\"Approval\" className='approval_photo' src='https://codenex.in/wp-content/uploads/2019/01/appdevelopment.png' />\n            <Typography variant=\"h6\" id=\"modal-modal-description\" sx={{ mt: 2 }}>\n                You will be able to sign in and use our services, as soon as your profile has been seen and approved by the administrator!\n            </Typography>\n            </Box>\n        </Modal>\n\n        {/* Modal for error message */}\n        <Modal\n            open={openAlert}\n            onClose={handleCloseAlert}\n            aria-labelledby=\"modal-modal-title\"\n            aria-describedby=\"modal-modal-description\"\n        >\n            <Box sx={style2}>\n                <div className='container'>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Login\\LoginForm.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 163, "end_line": 175, "language": "js", "text": "            <Box sx={style2}>\n                <div className='container'>\n            <Typography id=\"modal-modal-title\" variant=\"h5\" component=\"h2\">\n                {errorMessage}\n            </Typography>\n            <button className='buttonito' onClick={handleCloseAlert}>Close</button>\n            </div>\n            </Box>\n        </Modal>\n            \n        </div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Login\\LoginForm.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 174, "end_line": 175, "language": "js", "text": "  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Login\\LoginForm.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 175, "end_line": 175, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Login\\Logout.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 57, "language": "js", "text": "\n// Logout window implemented with a dialog box\nfunction Logout() {\n\n  let navigate = useNavigate();\n  const {setAuthState} = useContext(AuthContext);\n  const [open, setOpen] = React.useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const logout = () => {\n      localStorage.removeItem(\"accessToken\");\n      setAuthState({\n          username: \"\", \n          id: 0, \n          status:false \n      });\n      setOpen(false);\n      navigate('/');\n  }\n\n  return (\n    <div>\n      <button onClick={handleClickOpen} > Logout</button> \n\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\" style={{\n              fontFamily: 'Futura',\n          }}>\n          {\"Are you sure you want to sign out?\"}\n        </DialogTitle>\n        <DialogActions>\n            <button className=\"buttonitoReverse\" onClick={handleClose}>Cancel</button>\n            <button className=\"buttonito\"  onClick={logout} autoFocus>Confirm</button>\n        </DialogActions>\n      </Dialog>\n\n    </div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Login\\Registration.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 62, "end_line": 67, "language": "js", "text": "                            if(res.data.exists===true){\n                                resolve(false)\n                            }\n                            else {\n                                resolve(true);\n                            }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Login\\Registration.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 116, "end_line": 119, "language": "js", "text": "        if (Object.keys(coordinates).length > 0 ){\n            var point = { type: 'Point', coordinates: [coordinates.lat, coordinates.lng]};\n            holdData.latitudeLongitude = point;\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\ConfirmArrival.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 26, "end_line": 92, "language": "js", "text": "\n\nexport default function ConfirmArrival(props) {\n  const [open, setOpen] = React.useState(false);\n\n  const [valueC, setValueC] = React.useState(2.5);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  // These here are for the Modal that displays awaiting approval\n  const [openModal, setOpenModal] = React.useState(false);\n  const handleCloseModal = () => {\n      setOpenModal(false);\n      window.location.reload();\n  }\n  \n\n  const handleClose = () => {\n    setValueC(2.5);\n    setOpen(false);\n  };\n\n  const handleConfirm = () => {\n    setOpen(false);\n\n    var rating =0.5;\n    if (valueC!==null){\n      rating = valueC;\n    }\n\n    const body ={\n        sellerId: props.mail.sellerId,\n        sellerRating: rating,\n    }\n\n    const head={ headers:{\n            accessToken: localStorage.getItem(\"accessToken\")\n        }\n    }\n\n    axios.post(`https://localhost:33123/mail/confirmarrival/${props.mail.id}`, body, head).then((res)=>{\n    });\n\n    setValueC(2.5);\n \n    setOpenModal(true);    \n  }\n\n  return (\n\n    <div>\n\n      <button className=\"buttonitoMail\" onClick={handleClickOpen}> Confirm Arrival</button>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\" style={{\n              fontFamily: 'Futura',\n              \n          }}>\n          {\"How was the shipment & packaging?\"}\n        </DialogTitle>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\ConfirmArrival.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 91, "end_line": 128, "language": "js", "text": "          {\"How was the shipment & packaging?\"}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            <Rating valueC={valueC} setValueC={setValueC} />\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n          <button className=\"buttonitoReverse\" onClick={handleClose}>Cancel</button>\n          <button className=\"buttonito\"  onClick={handleConfirm} autoFocus>Confirm</button>\n        </DialogActions>\n      </Dialog>\n\n\n\n      <Modal\n            open={openModal}\n            onClose={handleCloseModal}\n            aria-labelledby=\"modal-modal-title\"\n            aria-describedby=\"modal-modal-description\"\n        >\n            <Box sx={style}>\n            <Typography id=\"modal-modal-title\" variant=\"h4\" >\n                Thank you for your Feedback!\n            </Typography>\n            <img alt='confirmation' className='feedback_photo' src='https://cdni.iconscout.com/illustration/premium/thumb/candidate-rating-and-review-2537380-2146476.png' />\n            \n            <Typography variant=\"h6\" id=\"modal-modal-description\" sx={{ mt: 2 }}>\n                Aside from rating you can also give further feedback directly to the seller! Your opinion is important!</Typography>\n                {/* <Button  onClick={handleCloseModal}> <CloseIcon /> </Button> */}\n            </Box>\n            \n        </Modal>\n\n      \n    </div>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\ConfirmArrival.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 127, "end_line": 128, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\ConfirmArrival.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 128, "end_line": 128, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\ConfirmPayment.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 26, "end_line": 91, "language": "js", "text": "\n\nexport default function ConfirmPayment(props) {\n  const [open, setOpen] = React.useState(false);\n\n  const [valueC, setValueC] = React.useState(2.5);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n    // These here are for the Modal that displays awaiting approval\n    const [openModal, setOpenModal] = React.useState(false);\n\n    const handleCloseModal = () => {\n        setOpenModal(false);\n        window.location.reload();\n    }\n  \n\n  const handleClose = () => {\n    setValueC(2.5);\n    setOpen(false);\n  };\n\n  const handleConfirm = () => {\n    setOpen(false);\n\n    var rating =0.5;\n    if (valueC!==null){\n      rating = valueC;\n    }\n\n    const body ={\n        bidderId: props.mail.bidderId,\n        bidderRating: rating,\n    }\n\n    const head={ headers:{\n            accessToken: localStorage.getItem(\"accessToken\")\n        }\n    }\n\n    axios.post(`https://localhost:33123/mail/confirmpayment/${props.mail.id}`, body, head).then((res)=>{\n    });\n\n    setValueC(2.5); \n    setOpenModal(true);\n    \n  }\n\n  return (\n\n    <div>\n      <button className=\"buttonitoMail\" onClick={handleClickOpen}> Confirm Payment</button>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"alert-dialog-title\"\n        aria-describedby=\"alert-dialog-description\"\n      >\n        <DialogTitle id=\"alert-dialog-title\" style={{\n              fontFamily: 'Futura',\n              \n          }}>\n          {\"How was your experience with the buyer?\"}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\ConfirmPayment.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 90, "end_line": 92, "language": "js", "text": "          }}>\n          {\"How was your experience with the buyer?\"}\n        </DialogTitle>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\ConfirmPayment.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 91, "end_line": 92, "language": "js", "text": "          {\"How was your experience with the buyer?\"}\n        </DialogTitle>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\ConfirmPayment.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 92, "end_line": 92, "language": "js", "text": "        </DialogTitle>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\ConfirmPayment.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 91, "end_line": 121, "language": "js", "text": "          {\"How was your experience with the buyer?\"}\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText id=\"alert-dialog-description\">\n            <Rating valueC={valueC} setValueC={setValueC} />\n          </DialogContentText>\n        </DialogContent>\n        <DialogActions>\n        <button className=\"buttonitoReverse\" onClick={handleClose}>Cancel</button>\n          <button className=\"buttonito\"  onClick={handleConfirm} autoFocus>Confirm</button>\n        </DialogActions>\n      </Dialog>\n\n      <Modal\n            open={openModal}\n            onClose={handleCloseModal}\n            aria-labelledby=\"modal-modal-title\"\n            aria-describedby=\"modal-modal-description\"\n        >\n          <Box sx={style}>\n          <Typography id=\"modal-modal-title\" variant=\"h4\" >\n              Thank you for your Feedback!\n          </Typography>\n          <img alt=\"FeedbackPhoto\" className='feedback_photo' src='https://cdni.iconscout.com/illustration/premium/thumb/candidate-rating-and-review-2537380-2146476.png' />\n          <Typography variant=\"h6\" id=\"modal-modal-description\" sx={{ mt: 2 }}>\n              Aside from rating you can also give further feedback directly to the buyer! Your opinion is important!</Typography>\n          </Box>\n        </Modal>\n    </div>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\ConfirmPayment.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 120, "end_line": 121, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\ConfirmPayment.js", "chunk_id": 0, "subchunk_id": 6, "start_line": 121, "end_line": 121, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailChats.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 24, "end_line": 79, "language": "js", "text": "\nexport default function MailChats() {\n\n  const [mailList, setMailList] = useState([]);\n  const [chatDisplayed, setChatDisplayed] = useState([]);\n  const [clickedMail, setClickedMail] = useState({});\n  const [clicked, setClicked] = useState(false);\n  const {authState} = useContext(AuthContext);\n\n  useEffect(()=>{\n\n    const head={ headers:{\n        accessToken: localStorage.getItem(\"accessToken\"),\n      }\n    }\n    \n    axios.get(`https://localhost:33123/mail/seller/${authState.id}`, head).then((res)=>{\n      setMailList(res.data);\n    });\n\n    // eslint-disable-next-line\n  }, []);\n\n  const displayChat = (name) =>{\n\n    const head={ headers:{\n        accessToken: localStorage.getItem(\"accessToken\"),\n        mailId: name.id,\n      }\n    }\n\n    for (var i = 0 ; i< mailList.length ; i++ ){\n      if( name.id === mailList[i].id){\n        setClickedMail(mailList[i]);\n      }\n    }\n    \n    axios.get(`https://localhost:33123/mail/seller/chat/${authState.id}`, head).then((res)=>{\n        setChatDisplayed(res.data);\n    });\n    setClicked(true);\n\n  }\n\n  // Pagination Information\n  const [pageNumber, setPageNumber] = useState(0);\n  const [mailPerPage, setMailPerPage] = useState(6);\n\n  const handleChangeRows = (event) => {\n    setMailPerPage(event.target.value);\n  };\n\n  const visitedPages = pageNumber * mailPerPage;\n  const pageCount = Math.ceil(mailList.length / mailPerPage);\n\n  // Displaying the items of this particular page"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailChats.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 78, "end_line": 118, "language": "js", "text": "\n  // Displaying the items of this particular page\n  const displayMail = mailList.slice( visitedPages, visitedPages + mailPerPage ).map((value, key)=>{\n  return (\n    <div >\n\n      <ListItemButton alignItems=\"flex-start\" name={value} onClick={()=>{displayChat(value)}} >\n        <ListItemAvatar >\n          <LocalShippingIcon style={{color:'teal', fontSize: 35}} />\n        </ListItemAvatar>\n        <ListItemText\n          primary={value.itemName}\n          secondary={\n              <>\n              { !value.payed ?\n                    <Header text={ <div style={{\n                    alignItems: 'center',\n                    textAlign: 'center',\n                    }}>\n                    Awaiting Payment\n                  </div>} />\n                  :  \n                  <>\n                  <Header text={ <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    textAlign: 'center',\n                    flexWrap: 'wrap',\n                    }}>\n                    You rated the buyer: &nbsp;\n                  <Rating name=\"read-only\" value={value.bidderRating} readOnly precision={0.5}/>\n                  </div>} />\n                  </>\n              }\n              {   !value.arrived ?\n                    <Header text={ <div style={{\n                    alignItems: 'center',\n                    textAlign: 'center',\n                    }}>\n                    Awaiting Arrival\n                  </div>} />"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailChats.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 117, "end_line": 168, "language": "js", "text": "                    Awaiting Arrival\n                  </div>} />\n                  :  \n                  <>\n                  <Header text={ <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    textAlign: 'center',\n                    flexWrap: 'wrap',\n                    }}>\n                    The buyer rated you: &nbsp;\n                  <Rating name=\"read-only\" value={value.sellerRating} readOnly precision={0.5}/>\n                  </div>} />\n                  </>\n              }\n              </> \n          } \n        />\n      </ListItemButton>\n      <Divider variant=\"inset\" component=\"li\" />\n      </div>\n      );\n  });\n  \n  const changePage = ({selected}) => {\n      setPageNumber(selected);\n  };\n\n  return (\n    <>\n      { mailList.length ===0 && \n        <Box\n          sx={{\n            mx: 'auto',\n            p: 3,\n            m: 1,\n            bgcolor: (theme) =>\n              theme.palette.mode === 'dark' ? '#101010' : 'grey.50',\n            color: (theme) =>\n              theme.palette.mode === 'dark' ? 'grey.300' : 'grey.800',\n            border: '1px solid',\n            borderColor: (theme) =>\n              theme.palette.mode === 'dark' ? 'grey.800' : 'grey.300',\n            borderRadius: 2,\n            textAlign: 'center',\n          }}\n        >\n          <Typography variant=\"h2\" gutterBottom>no sales yet</Typography>\n        </Box>\n      }\n      <Grid container spacing={1}>\n              "}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailChats.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 167, "end_line": 204, "language": "js", "text": "      <Grid container spacing={1}>\n              \n        <Grid item xs={4} > \n          <List sx={{ width: '100%', maxWidth: 400, bgcolor: 'background.paper' , paddingLeft: 6 }}>\n            { displayMail}\n          </List>\n\n          {/* The pagination */}\n          <ReactPaginate \n            previousLabel={\"<\"}\n            nextLabel={\">\"}\n            pageCount={pageCount}\n            onPageChange={changePage}\n            containerClassName={\"paginationButtonsMail\"}\n            previousLinkClassName={\"previousButtonMail\"}\n            nextLinkClassName={\"nextButtonMail\"}\n            disabledClassName={\"paginationDisabledMail\"}\n            activeClassName={\"paginationActiveMail\"}\n          />\n\n          {/* Mail per page */}\n          <div style={{width:140, paddingLeft:40}}>\n          <Detail text={<div> \n            <Box sx={{ minWidth: 50 }}>\n              <FormControl fullWidth>\n                <InputLabel id=\"demo-simple-select-label\">Items per Page</InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-label\"\n                  id=\"demo-simple-select\"\n                  value={mailPerPage}\n                  label=\"mail\"\n                  onChange={handleChangeRows}\n                  variant=\"standard\"\n                >\n                  <MenuItem value={6}>6</MenuItem>\n                  <MenuItem value={9}>9</MenuItem>\n                  <MenuItem value={12}>12</MenuItem>\n                  <MenuItem value={24}>24</MenuItem>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailChats.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 203, "end_line": 224, "language": "js", "text": "                  <MenuItem value={12}>12</MenuItem>\n                  <MenuItem value={24}>24</MenuItem>\n                  <MenuItem value={48}>48</MenuItem>\n                </Select>\n              </FormControl>\n            </Box>\n          </div>} />\n          </div>\n\n        </Grid>\n        <Grid item xs={0.4} >        \n        </Grid>\n\n        <Grid item xs={7.6} >\n          { clicked &&\n            <MessageChat messages={chatDisplayed} mail={clickedMail} type=\"sales\"  />\n            } \n        </Grid>\n      </Grid>\n    </>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailChats.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 223, "end_line": 224, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailChats.js", "chunk_id": 0, "subchunk_id": 6, "start_line": 224, "end_line": 224, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailInbox.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 54, "end_line": 57, "language": "js", "text": "    if(str.length > 75) {\n      str = str.substring(0,72);\n      str += '...';\n    }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailInbox.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 63, "end_line": 96, "language": "js", "text": "    if (name.read===false){\n\n      axios.put(`https://localhost:33123/mail/message/read/${name.id}`).then((res)=>{\n      });\n\n      // Make a shallow copy of the items\n      let mails = [...mailList];\n\n      for (var i=0;i<mailList.length;i++){\n        if (mailList[i].id===name.id){\n        \n          // Make a shallow copy of the item to mutate\n          let mail = {...mails[i]};\n\n          // Replace the property\n          mail.read = true;\n\n          // Put it back into the array\n          mails[1] = mail;\n\n          // Set the state to the new copy\n          setMailList(mails);\n\n        }\n      }\n\n      if( newRead){\n        setNewRead(false);\n      }\n      else{\n        setNewRead(true);\n      }\n\n    }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailInbox.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 110, "end_line": 117, "language": "js", "text": "    for (var i=0;i<mailList.length;i++){\n      if (mailList[i].id===name.id){\n        let mail = {...mails[i]};\n        mail.deletedInbox = true;\n        mails[1] = mail;\n        setMailList(mails);\n      }\n    }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailInbox.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 119, "end_line": 124, "language": "js", "text": "    if( newRead){\n      setNewRead(false);\n    }\n    else{\n      setNewRead(true);\n    }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailMessage.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 31, "end_line": 88, "language": "js", "text": "\nexport default function MailMessage() {\n\n  const {authState} = useContext(AuthContext);\n\n  // For the alert\n  const [openAlert, setOpenAlert] = React.useState(false);\n  const [errorMessage, setErrorMessage ]= React.useState(\"\");\n\n\n  const handleClickAlert = () => {\n    setOpenAlert(true);\n  };\n\n  const handleCloseAlert = (event, reason) => {\n    setOpenAlert(false);\n  };\n\n  // for the error alert\n  const [openAlertError, setOpenAlertError] = React.useState(false);\n\n  const handleClickAlertError = () => {\n    setOpenAlertError(true);\n  };\n\n  const handleCloseAlertError = (event, reason) => {\n    setOpenAlertError(false);\n  };\n\n  const handleClose = () => {\n    setTitulo(\"\");\n    setMessagio(\"\");\n    window.location.reload();\n  }\n\n  const [titulo, setTitulo] = React.useState(\"\");\n  const [messagio, setMessagio] = React.useState(\"\");\n\n  const handleTextFieldTitle = (data) => {\n    setTitulo(data.target.value);\n  }\n\n  const handleTextFieldBody = (data) => {\n    setMessagio(data.target.value);\n  }\n\n  const [personContact, setPersonContact] = React.useState({});\n  const [mails, setMails] = useState([]);\n  const [auctions, setAuctions] = useState([]);\n  const [auctionContact, setAuctionContact] = React.useState({});\n\n  const messageSend = () =>{\n\n    if ( Object.keys(personContact).length === 0 ){\n      setErrorMessage(\"You haven't selected a recipient!\");\n      handleClickAlertError();\n    }\n    else if ( Object.keys(auctionContact).length === 0 ){"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailMessage.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 87, "end_line": 140, "language": "js", "text": "    }\n    else if ( Object.keys(auctionContact).length === 0 ){\n      setErrorMessage(\"You haven't selected an auction!\");\n      handleClickAlertError();\n    }\n    else if (titulo===\"\"){\n      setErrorMessage(\"Cannot send mail with an empty title.\");\n      handleClickAlertError();\n    }\n    else if (titulo.length>100){\n      setErrorMessage(\"Title has to be max 100 characters long.\");\n      handleClickAlertError();\n    }\n    else if (messagio===\"\"){\n      setErrorMessage(\"Cannot send mail with an empty message.\")\n      handleClickAlertError();\n    }\n    else if (messagio.length>4000) {\n      setErrorMessage(\"The message you're trying to send is too large.\")\n      handleClickAlertError();\n    }\n    else {\n\n      const body ={\n            recipientId: personContact.contactId,\n            MailId: auctionContact.id,\n            title: titulo,\n            body: messagio,\n      }\n\n      const head={ headers:{\n              accessToken: localStorage.getItem(\"accessToken\")\n          }\n      }\n      axios.post(`https://localhost:33123/mail/message/${authState.id}`, body, head).then((res)=>{\n          if (res.data.error){\n            setErrorMessage(res.data.error);\n            handleClickAlertError();\n          }\n      });\n      handleClickAlert();\n      handleClose();\n    }\n      \n  }\n\n  const handleChange = (event) => {\n    const {\n      target: { value },\n    } = event;\n    setPersonContact(value);\n\n    const head={ headers:{\n      accessToken: localStorage.getItem(\"accessToken\"),"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailMessage.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 139, "end_line": 199, "language": "js", "text": "    const head={ headers:{\n      accessToken: localStorage.getItem(\"accessToken\"),\n      otherId: value.contactId,\n      }\n    }\n\n    axios.get(`https://localhost:33123/mail/auctions/${authState.id}`, head).then((res)=>{\n      console.log(res.data);\n      setAuctions(res.data);\n      \n    });    \n\n  };\n\n  const handleChangeAuction = (event) => {\n    \n    const {\n      target: { value },\n    } = event;\n    setAuctionContact(value);\n\n  };\n\nuseEffect(()=>{\n  const head={ headers:{\n        accessToken: localStorage.getItem(\"accessToken\"),\n    }\n  }\n\n  axios.get(`https://localhost:33123/mail/contacts/${authState.id}`, head).then((res)=>{\n    console.log(res.data);\n    setMails(res.data);\n\n  });\n\n  // eslint-disable-next-line\n}, []);\n\n  return (\n\n    <>\n     <div >\n      <br />\n      <Grid container direction={\"column\"} spacing={1.35} sx={{ bgcolor: 'background.paper'}}>\n\n      <Grid container direction={\"row\"} spacing={1.35}>\n        <Grid item>\n      <FormControl sx={{ m: 4, width: 320 }}>\n          <InputLabel id=\"demo-multiple-name-label\">Name</InputLabel>\n          <Select\n            labelId=\"demo-multiple-name-label\"\n            id=\"demo-multiple-name\"\n            // commenting this out so you can only send it to one\n            // multiple\n            value={personContact}\n            onChange={handleChange}\n            input={<OutlinedInput label=\"Name\" />}\n            MenuProps={MenuProps}\n          >\n            {mails.map((name) => (\n              <MenuItem"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailMessage.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 198, "end_line": 246, "language": "js", "text": "            {mails.map((name) => (\n              <MenuItem\n                key={name}\n                value={name}\n                // style={getStyles(name, personContact, theme)}\n              >\n                {name.contactUsername} ({name.contactSurname}, {name.contactName})\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n        </Grid>\n        <Grid item>\n        <FormControl sx={{ m: 4, width: 320 }}>\n          <InputLabel id=\"demo-multiple-name-label\">Auction</InputLabel>\n          <Select\n            labelId=\"demo-multiple-name-label\"\n            id=\"demo-multiple-name\"\n            // commenting this out so you can only send it to one\n            // multiple\n            value={auctionContact}\n            onChange={handleChangeAuction}\n            input={<OutlinedInput label=\"Name\" />}\n            MenuProps={MenuProps}\n          >\n            {auctions.map((name) => (\n              <MenuItem\n                key={name}\n                value={name}\n              >\n                {name.itemName}\n              </MenuItem>\n            ))}\n          </Select>\n        </FormControl>\n        </Grid>\n        </Grid>\n        <Grid item>\n        <TextField \n            // value={titulo} \n            name = \"title\"\n            onChange={handleTextFieldTitle}\n            fullWidth\n            id=\"outlined-multiline-static\"\n            label=\"Title\"\n            multiline\n            rows={1}\n            // defaultValue=\"\"\n          />"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailMessage.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 245, "end_line": 289, "language": "js", "text": "            // defaultValue=\"\"\n          />\n        </Grid>\n        {/* <br /> */}\n        <Grid item>\n        <TextField \n            fullWidth\n            onChange={handleTextFieldBody}\n            id=\"outlined-multiline-static\"\n            label=\"Type here\"\n            multiline\n            rows={14}\n            defaultValue=\"\"\n          />\n          </Grid>\n        </Grid>\n          <button className='buttonitoMail' onClick={()=>{messageSend()}}>Send</button>\n        {/* </Box> */}\n\n        <br />\n        <br />\n          <br />\n          <br />\n          <br />\n\n        {/* message alert */}\n        <Snackbar open={openAlert} autoHideDuration={6000} onClose={handleCloseAlert}>\n          <Alert onClose={handleCloseAlert} severity=\"success\" sx={{ width: '100%' }}>\n            Your message has been sent!\n          </Alert>\n        </Snackbar>\n\n        {/* error message alert */}\n        <Snackbar open={openAlertError} autoHideDuration={6000} onClose={handleCloseAlertError}>\n          <Alert onClose={handleCloseAlertError} severity=\"warning\" sx={{ width: '100%' }}>\n            {errorMessage}\n          </Alert>\n        </Snackbar>\n\n      </div>\n\n\n    </>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailMessage.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 288, "end_line": 289, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailMessage.js", "chunk_id": 0, "subchunk_id": 6, "start_line": 289, "end_line": 289, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailOutbox.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 49, "end_line": 52, "language": "js", "text": "    if(str.length > 75) {\n      str = str.substring(0,72);\n      str += '...';\n    }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailOutbox.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 72, "end_line": 79, "language": "js", "text": "        for (var i=0;i<mailList.length;i++){\n          if (mailList[i].id===name.id){\n            let mail = {...mails[i]};\n            mail.deletedOutbox = true;\n            mails[1] = mail;\n            setMailList(mails);\n          }\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailOutbox.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 81, "end_line": 86, "language": "js", "text": "        if( newDeleted){\n          setNewDeleted(false);\n        }\n        else{\n          setNewDeleted(true);\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailPurchases.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 24, "end_line": 81, "language": "js", "text": "\nexport default function MailPurchases() {\n\n  const [mailList, setMailList] = useState([]);\n  const [chatDisplayed, setChatDisplayed] = useState([]);\n  const [clickedMail, setClickedMail] = useState({});\n  const [clicked, setClicked] = useState(false);\n  const {authState} = useContext(AuthContext);\n\n  useEffect(()=>{\n\n    const head={ headers:{\n        accessToken: localStorage.getItem(\"accessToken\"),\n      }\n    }\n\n      axios.get(`https://localhost:33123/mail/bidder/${authState.id}`, head).then((res)=>{\n        setMailList(res.data);\n      });\n\n  // eslint-disable-next-line\n  }, []);\n\n\n  const displayChat = (name) =>{\n\n    const head={ headers:{\n        accessToken: localStorage.getItem(\"accessToken\"),\n        mailId: name.id,\n      }\n    }\n\n    for (var i = 0 ; i< mailList.length ; i++ ){\n      if( name.id === mailList[i].id){\n        setClickedMail(mailList[i]);\n      }\n    }\n    \n    axios.get(`https://localhost:33123/mail/seller/chat/${authState.id}`, head).then((res)=>{\n        setChatDisplayed(res.data);\n    });\n\n    setClicked(true);\n  }\n\n\n  // Pagination Information\n  const [pageNumber, setPageNumber] = useState(0);\n  const [mailPerPage, setMailPerPage] = useState(6);\n\n  const handleChangeRows = (event) => {\n    setMailPerPage(event.target.value);\n  };\n\n  const visitedPages = pageNumber * mailPerPage;\n  const pageCount = Math.ceil(mailList.length / mailPerPage);\n\n  // Displaying the items of this particular page"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailPurchases.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 80, "end_line": 120, "language": "js", "text": "\n  // Displaying the items of this particular page\n  const displayMail = mailList.slice( visitedPages, visitedPages + mailPerPage ).map((value, key)=>{\n    return (\n      <div >\n\n      <ListItemButton alignItems=\"flex-start\" name={value} onClick={()=>{displayChat(value)}} >\n        <ListItemAvatar >\n          <CardGiftcardIcon style={{color:'teal', fontSize: 35}} />\n        </ListItemAvatar>\n        <ListItemText\n          primary={value.itemName}\n          secondary={\n              <>\n\n              {   !value.arrived ?\n                    <Header text={ <div style={{\n                    // display: 'flex',\n                    alignItems: 'center',\n                    textAlign: 'center',\n                    // flexWrap: 'wrap',\n                    }}>\n                    Awaiting Arrival\n                  </div>} />\n                  :  \n                  <>\n                  <Header text={ <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    textAlign: 'center',\n                    flexWrap: 'wrap',\n                    }}>\n                    You rated the seller: &nbsp;\n                  <Rating name=\"read-only\" value={value.sellerRating} readOnly precision={0.5}/>\n                  </div>} />\n                  </>\n              }\n              {   !value.payed ?\n                    <Header text={ <div style={{\n                    alignItems: 'center',\n                    textAlign: 'center',"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailPurchases.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 119, "end_line": 169, "language": "js", "text": "                    alignItems: 'center',\n                    textAlign: 'center',\n                    }}>\n                    Awaiting Payment\n                  </div>} />\n                  :  \n                  <>\n                  <Header text={ <div style={{\n                    display: 'flex',\n                    alignItems: 'center',\n                    textAlign: 'center',\n                    flexWrap: 'wrap',\n                    }}>\n                    The seller rated you: &nbsp;\n                  <Rating name=\"read-only\" value={value.bidderRating} readOnly precision={0.5}/>\n                  </div>} />\n                  </>\n              }\n\n              </> \n          } \n        />\n      </ListItemButton>\n      <Divider variant=\"inset\" component=\"li\" />\n      </div>\n      );\n  });\n\n  const changePage = ({selected}) => {\n      setPageNumber(selected);\n  };\n\n  return (\n    <>\n    { mailList.length ===0 && \n          <Box\n          sx={{\n            mx: 'auto',\n            p: 3,\n            m: 1,\n            bgcolor: (theme) =>\n              theme.palette.mode === 'dark' ? '#101010' : 'grey.50',\n            color: (theme) =>\n              theme.palette.mode === 'dark' ? 'grey.300' : 'grey.800',\n            border: '1px solid',\n            borderColor: (theme) =>\n              theme.palette.mode === 'dark' ? 'grey.800' : 'grey.300',\n            borderRadius: 2,\n            textAlign: 'center',\n          }}\n        >"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailPurchases.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 168, "end_line": 206, "language": "js", "text": "          }}\n        >\n      <Typography variant=\"h2\" gutterBottom>no purchases yet</Typography>\n      </Box>\n      }\n    <Grid container spacing={1}>\n        <Grid item xs={4} > \n          <List sx={{ width: '100%', maxWidth: 400, bgcolor: 'background.paper', paddingLeft: 6  }}>\n            {displayMail}\n          </List>\n\n          {/* The pagination */}\n          <ReactPaginate \n            previousLabel={\"<\"}\n            nextLabel={\">\"}\n            pageCount={pageCount}\n            onPageChange={changePage}\n            containerClassName={\"paginationButtonsMail\"}\n            previousLinkClassName={\"previousButtonMail\"}\n            nextLinkClassName={\"nextButtonMail\"}\n            disabledClassName={\"paginationDisabledMail\"}\n            activeClassName={\"paginationActiveMail\"}\n          />\n          {/* Mail per page */}\n          <div style={{width:140, paddingLeft:40}}>\n          <Detail text={<div> \n            <Box sx={{ minWidth: 50 }}>\n              <FormControl fullWidth>\n                <InputLabel id=\"demo-simple-select-label\">Items per Page</InputLabel>\n                <Select\n                  labelId=\"demo-simple-select-label\"\n                  id=\"demo-simple-select\"\n                  value={mailPerPage}\n                  label=\"mail\"\n                  onChange={handleChangeRows}\n                  variant=\"standard\"\n                >\n                  <MenuItem value={6}>6</MenuItem>\n                  <MenuItem value={9}>9</MenuItem>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailPurchases.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 205, "end_line": 227, "language": "js", "text": "                  <MenuItem value={6}>6</MenuItem>\n                  <MenuItem value={9}>9</MenuItem>\n                  <MenuItem value={12}>12</MenuItem>\n                  <MenuItem value={24}>24</MenuItem>\n                  <MenuItem value={48}>48</MenuItem>\n                </Select>\n              </FormControl>\n            </Box>\n          </div>} />\n          </div>\n        </Grid>\n        <Grid item xs={0.4} >\n\n        </Grid>\n        <Grid item xs={7.6} >\n          { clicked &&\n            <MessageChat messages={chatDisplayed} mail={clickedMail} type=\"purchases\" />\n          } \n        </Grid>\n      </Grid>\n    </>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailPurchases.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 226, "end_line": 227, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MailPurchases.js", "chunk_id": 0, "subchunk_id": 6, "start_line": 227, "end_line": 227, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageCard.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 32, "end_line": 90, "language": "js", "text": "\nexport default function MessageCard(props) {\n\n  // For the alert\n  const [openAlert, setOpenAlert] = React.useState(false);\n  const [errorMessage, setErrorMessage ]= React.useState(\"\");\n\n  const handleClickAlert = () => {\n    setOpenAlert(true);\n  };\n\n  const handleCloseAlert = (event, reason) => {\n    setOpenAlert(false);\n  };\n\n  // for the error alert\n  const [openAlertError, setOpenAlertError] = React.useState(false);\n\n  const handleClickAlertError = () => {\n    setOpenAlertError(true);\n  };\n\n  const handleCloseAlertError = (event, reason) => {\n    setOpenAlertError(false);\n  };\n\n  // for sending a message\n  const [open, setOpen] = React.useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => {\n    setTitulo(\"\");\n    setMessagio(\"\");\n    setOpen(false);\n  }\n\n  const [titulo, setTitulo] = React.useState(\"\");\n  const [messagio, setMessagio] = React.useState(\"\");\n\n  const handleTextFieldTitle = (data) => {\n    setTitulo(data.target.value);\n  }\n\n  const handleTextFieldBody = (data) => {\n    setMessagio(data.target.value);\n  }\n\n  const messageSend = () =>{\n    if (titulo===\"\"){\n      setErrorMessage(\"Cannot send mail with an empty title.\");\n      handleClickAlertError();\n    }\n    else if (titulo.length>100){\n      setErrorMessage(\"Title has to be max 100 characters long.\");\n      handleClickAlertError();\n    }\n    else if (messagio===\"\"){\n      setErrorMessage(\"Cannot send mail with an empty message.\")\n      handleClickAlertError();\n    }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageCard.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 89, "end_line": 133, "language": "js", "text": "      handleClickAlertError();\n    }\n    else if (messagio.length>4000) {\n      setErrorMessage(\"The message you're trying to send is too large.\")\n      handleClickAlertError();\n    }\n    else {\n\n      const body ={\n            recipientId: props.message.senderId,\n            MailId: props.message.MailId,\n            title: titulo,\n            body: messagio,\n      }\n\n      const head={ headers:{\n              accessToken: localStorage.getItem(\"accessToken\")\n          }\n      }\n      axios.post(`https://localhost:33123/mail/message/${props.message.recipientId}`, body, head).then((res)=>{\n          if (res.data.error){\n              alert(res.data.error);\n          }\n      });\n\n      handleClickAlert();\n      handleClose();\n    }\n  }\n\n  return (\n    <div style={{marginTop:9, marginLeft:5}}>\n      <Card sx={{ minWidth: 275, maxWidth: 580, backgroundColor: props.type==='chatMe' ? 'rgb(200, 243, 223)':'background.paper' }}>\n      <CardContent>\n        {((props.type==='inbox')|| (props.type==='outbox') ) &&\n          <Typography sx={{ mb: 1.5 }} color=\"text.secondary\">\n          { (new Date(props.message.timeSent).toLocaleString('en-GB'))}\n          </Typography> \n        }\n        <Typography variant='h6' component=\"div\" >\n            {props.message.title} \n        </Typography>\n        {(props.type==='outbox') ?\n          <Typography sx={{ fontSize: 12 }} color=\"text.secondary\" gutterBottom>\n              Sent to: {props.message.recipientName} {props.message.recipientSurname}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageCard.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 132, "end_line": 177, "language": "js", "text": "          <Typography sx={{ fontSize: 12 }} color=\"text.secondary\" gutterBottom>\n              Sent to: {props.message.recipientName} {props.message.recipientSurname}\n          </Typography>\n        :\n        <Typography sx={{ fontSize: 12 }} color=\"text.secondary\" gutterBottom>\n            {props.message.senderName} {props.message.senderSurname}\n        </Typography>\n        }\n          \n        <Typography variant=\"body2\" component=\"div\">\n        {props.message.body}\n        </Typography>\n        \n      </CardContent>\n      { props.type==='inbox' &&\n        <CardActions>\n          <Button size=\"small\" style={{ color: 'teal' }} onClick={()=>{handleOpen()}}><ReplyIcon />&nbsp;Reply</Button>\n        </CardActions>\n      }\n    </Card>\n\n    <Modal\n    open={open}\n    onClose={handleClose}\n    aria-labelledby=\"modal-modal-title\"\n    aria-describedby=\"modal-modal-description\"\n    >\n    <Box sx={style} >\n\n    <Grid container direction={\"column\"} spacing={1.65}>\n      <Grid item>\n        <Typography id=\"modal-modal-title\" variant=\"h6\" component=\"h2\">\n          Replying to {props.message.name} {props.message.surname}\n        </Typography>\n      </Grid>\n      <Grid item>\n      <Typography variant=\"body1\" id=\"modal-modal-description\" component=\"h2\">\n      - {props.message.body}\n      </Typography>\n      </Grid>\n      <Grid item>\n      <TextField \n          name = \"title\"\n          onChange={handleTextFieldTitle}\n          fullWidth\n          id=\"outlined-multiline-static\""}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageCard.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 176, "end_line": 215, "language": "js", "text": "          fullWidth\n          id=\"outlined-multiline-static\"\n          label=\"Title\"\n          multiline\n          rows={1}\n        />\n       </Grid>\n      <Grid item>\n      <TextField \n          fullWidth\n          onChange={handleTextFieldBody}\n          id=\"outlined-multiline-static\"\n          label=\"Type here\"\n          multiline\n          rows={14}\n          defaultValue=\"\"\n        />\n        </Grid>\n      </Grid>\n        <button className='buttonitoMail' onClick={()=>{messageSend()}}>Send</button>\n    </Box>\n    </Modal>\n\n    {/* message alert */}\n    <Snackbar open={openAlert} autoHideDuration={6000} onClose={handleCloseAlert}>\n      <Alert onClose={handleCloseAlert} severity=\"success\" sx={{ width: '100%' }}>\n        Your message has been sent!\n      </Alert>\n    </Snackbar>\n\n    {/* error message alert */}\n    <Snackbar open={openAlertError} autoHideDuration={6000} onClose={handleCloseAlertError}>\n      <Alert onClose={handleCloseAlertError} severity=\"warning\" sx={{ width: '100%' }}>\n        {errorMessage}\n      </Alert>\n    </Snackbar>\n\n    </div>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageCard.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 214, "end_line": 215, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageCard.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 215, "end_line": 215, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageChat.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 37, "end_line": 100, "language": "js", "text": "\nexport default function MessageChat(props) {\n\n  const {authState} = useContext(AuthContext);\n\n  // For the alert\n  const [openAlert, setOpenAlert] = React.useState(false);\n\n  const [errorMessage, setErrorMessage ]= React.useState(\"\");\n\n  const handleClickAlert = () => {\n    setOpenAlert(true);\n  };\n\n  const handleCloseAlert = (event, reason) => {\n    setOpenAlert(false);\n  };\n\n  // for the error alert\n  const [openAlertError, setOpenAlertError] = React.useState(false);\n\n  const handleClickAlertError = () => {\n    setOpenAlertError(true);\n  };\n\n  const handleCloseAlertError = (event, reason) => {\n    setOpenAlertError(false);\n  };\n\n\n  let navigate = useNavigate();\n\n  const goToItemPage =()=>{\n    navigate(`/item/${props.mail.itemId}`);\n  };\n\n  // for sending a message\n  const [open, setOpen] = React.useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => {\n    setTitulo(\"\");\n    setMessagio(\"\");\n    setOpen(false);\n  }\n\n  const [titulo, setTitulo] = React.useState(\"\");\n  const [messagio, setMessagio] = React.useState(\"\");\n\n  const handleTextFieldTitle = (data) => {\n    setTitulo(data.target.value);\n  }\n\n  const handleTextFieldBody = (data) => {\n    setMessagio(data.target.value);\n  }\n\n  const messageSend = () =>{\n\n    if (titulo===\"\"){\n      setErrorMessage(\"Cannot send mail with an empty title.\");\n      handleClickAlertError();\n    }\n    else if (titulo.length>100){\n      setErrorMessage(\"Title has to be max 100 characters long.\");"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageChat.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 99, "end_line": 154, "language": "js", "text": "    else if (titulo.length>100){\n      setErrorMessage(\"Title has to be max 100 characters long.\");\n      handleClickAlertError();\n    }\n    else if (messagio===\"\"){\n      setErrorMessage(\"Cannot send mail with an empty message.\")\n      handleClickAlertError();\n    }\n    else if (messagio.length>4000) {\n      setErrorMessage(\"The message you're trying to send is too large.\")\n      handleClickAlertError();\n    }\n    else {\n\n      var recipient = props.mail.sellerId;\n      var sender = props.mail.bidderId;\n\n      // if on sales simply reverse their roles\n      if (props.type === \"sales\"){\n        recipient = props.mail.bidderId;\n        sender = props.mail.sellerId;\n      }\n\n      const body ={\n            recipientId: recipient,\n            MailId: props.mail.id,\n            title: titulo,\n            body: messagio,\n      }\n\n      const head={ headers:{\n              accessToken: localStorage.getItem(\"accessToken\")\n          }\n      }\n\n      axios.post(`https://localhost:33123/mail/message/${sender}`, body, head).then((res)=>{\n\n          if (res.data.error){\n              alert(res.data.error);\n          }\n      });\n\n      handleClickAlert();\n      handleClose();\n    }\n      \n  }\n\n  // Pagination Information\n  const [pageNumber, setPageNumber] = React.useState(0);\n  const mailPerPage = 6;\n\n  const visitedPages = pageNumber * mailPerPage;\n  const pageCount = Math.ceil(props.messages.length / mailPerPage);\n\n  // Displaying the items of this particular page"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageChat.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 153, "end_line": 200, "language": "js", "text": "\n  // Displaying the items of this particular page\n  const displayMessages = props.messages.slice( visitedPages, visitedPages + mailPerPage ).map((value, key)=>{\n      return (<>\n      <Grid item >\n        { value.senderId===authState.id ?\n          <MessageCard message={value} type=\"chatMe\"  />\n          :\n          <MessageCard message={value} type =\"chatThem\" />\n        }\n      </Grid>\n      </>)\n  });\n  \n  const changePage = ({selected}) => {\n      setPageNumber(selected);\n  };\n\n  return (\n    <div className=\"profileContainer\">\n      <Box\n        sx={{\n          mx: 'auto',\n          m: 1,\n          bgcolor: (theme) =>\n            theme.palette.mode === 'dark' ? '#101010' : 'grey.50',\n          color: (theme) =>\n            theme.palette.mode === 'dark' ? 'grey.300' : 'grey.800',\n          border: '1px solid',\n          borderColor: (theme) =>\n            theme.palette.mode === 'dark' ? 'grey.800' : 'grey.300',\n          borderRadius: 2,\n          textAlign: 'center',\n        }}\n      >\n        <Typography sx={{ m: 1 }}variant=\"h4\" >{props.mail.itemName}</Typography>\n        { !props.mail.payed && props.type === \"sales\" &&\n          <ConfirmPayment mail={props.mail} confirmation={props.confirmation} />\n        }\n        { !props.mail.arrived && props.type === \"purchases\" &&\n          <ConfirmArrival mail={props.mail} confirmation={props.confirmation} />\n        }\n      </Box>\n          \n    <Grid container direction={\"column\"} spacing={1.25}  >\n\n      {displayMessages}\n"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageChat.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 199, "end_line": 245, "language": "js", "text": "      {displayMessages}\n\n      {/* The pagination */}\n      <ReactPaginate \n        previousLabel={\"<\"}\n        nextLabel={\">\"}\n        pageCount={pageCount}\n        onPageChange={changePage}\n        containerClassName={\"paginationButtonsMail\"}\n        previousLinkClassName={\"previousButtonMail\"}\n        nextLinkClassName={\"nextButtonMail\"}\n        disabledClassName={\"paginationDisabledMail\"}\n        activeClassName={\"paginationActiveMail\"}\n      />\n    </Grid>\n\n    <Grid container spacing={2}>\n      <Grid item xs={4}>\n        { props.type === \"sales\" ? \n          <button className=\"buttonitoMail\" style={{\n                  display: 'flex',\n                  alignItems: 'center',\n                  textAlign: 'center',\n                  flexWrap: 'wrap',\n                  width: '151px',\n              }} onClick={handleOpen}>\n              &nbsp; Message Buyer &nbsp;<MessageIcon />\n          </button>\n        :\n        <button className=\"buttonitoMail\" style={{\n                display: 'flex',\n                alignItems: 'center',\n                textAlign: 'center',\n                flexWrap: 'wrap',\n                width: '151px',\n            }} onClick={handleOpen}>\n        &nbsp; Message Seller &nbsp;<MessageIcon />\n        </button>\n      }\n        \n      </Grid>\n      <Grid item xs={8}>\n        <button className=\"buttonitoInfoMail\" style={{\n              display: 'flex',\n              alignItems: 'center',\n              textAlign: 'center',\n              flexWrap: 'wrap',"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageChat.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 244, "end_line": 296, "language": "js", "text": "              textAlign: 'center',\n              flexWrap: 'wrap',\n              width: '151px',\n          }} onClick={()=>goToItemPage()}>\n      &nbsp; Item Information&nbsp; <InfoIcon />\n      </button>\n      </Grid>\n    </Grid>\n\n    <Modal\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"modal-modal-title\"\n      aria-describedby=\"modal-modal-description\"\n      >\n      <Box sx={style} >\n\n      <Grid container direction={\"column\"} spacing={1.65}>\n        <Grid item>\n        <TextField \n            name = \"title\"\n            onChange={handleTextFieldTitle}\n            fullWidth\n            id=\"outlined-multiline-static\"\n            label=\"Title\"\n            multiline\n            rows={1}\n          />\n        </Grid>\n        <Grid item>\n        <TextField \n            fullWidth\n            onChange={handleTextFieldBody}\n            id=\"outlined-multiline-static\"\n            label=\"Type here\"\n            multiline\n            rows={14}\n            defaultValue=\"\"\n          />\n          </Grid>\n        </Grid>\n          <button className='buttonitoMail' onClick={()=>{messageSend()}}>Send</button>\n      </Box>\n      </Modal>\n\n      {/* message alert */}\n      <Snackbar open={openAlert} autoHideDuration={6000} onClose={handleCloseAlert}>\n        <Alert onClose={handleCloseAlert} severity=\"success\" sx={{ width: '100%' }}>\n          Your message has been sent!\n        </Alert>\n      </Snackbar>\n\n      {/* error message alert */}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageChat.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 295, "end_line": 305, "language": "js", "text": "\n      {/* error message alert */}\n      <Snackbar open={openAlertError} autoHideDuration={6000} onClose={handleCloseAlertError}>\n        <Alert onClose={handleCloseAlertError} severity=\"warning\" sx={{ width: '100%' }}>\n          {errorMessage}\n        </Alert>\n      </Snackbar>\n\n    </div>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageChat.js", "chunk_id": 0, "subchunk_id": 6, "start_line": 304, "end_line": 305, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Mail\\MessageChat.js", "chunk_id": 0, "subchunk_id": 7, "start_line": 305, "end_line": 305, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Maps\\ConvertDMS.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 11, "language": "js", "text": "function turnToDMS(coordinate) {\n\n    var absolute = Math.abs(coordinate);\n    var degrees = Math.floor(absolute);\n    var minutesNotTruncated = (absolute - degrees) * 60;\n    var minutes = Math.floor(minutesNotTruncated);\n    var seconds = Math.floor((minutesNotTruncated - minutes) * 60);\n\n    // add the degree, minute, seconds symbols\n    return degrees + \"\" + minutes + \"' \" + seconds+'\" ';\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Maps\\ConvertDMS.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 26, "language": "js", "text": "\n// Returns the latitude and longitude to DMS format\nexport default function ConvertDMS(lat, lng) {\n\n    // first turn the latitude\n    var latitude = turnToDMS(lat);\n    var latCardinal = lat >= 0 ? \"N\" : \"S\";\n\n    // then turn the longitude\n    var longitude = turnToDMS(lng);\n    var longCardinal = lng >= 0 ? \"E\" : \"W\";\n\n    // return them in one line\n    return latitude + \" \" + latCardinal + \",  \" + longitude + \" \" + longCardinal;\n};"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Maps\\CreateCoordinates.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 35, "end_line": 88, "language": "js", "text": "\nexport default function CreateCoordinates(props) {\n\n  const [open, setOpen] = useState(false);\n\n  const handleOpen = () => setOpen(true);\n\n  const handleClose = () => {\n    setOneLoad(false);\n    setOpen(false);\n  }\n\n  const [oneLoad, setOneLoad] = useState(false);\n  const [centered, setCentered] = useState({ lat: 47.223647093288015 , lng: 14.762808870928518 });\n  const ZOOM_LEVEL = 15;\n  const location = useGeoLocation();\n\n  function FlyToPlease () {\n      const map = useMap();\n      React.useEffect(()=>{\n          map.flyTo(centered, ZOOM_LEVEL )\n      }, [map]);\n      return null;\n  }\n\n  function SearchGeocoder() {\n    const map = useMap();\n    if (!oneLoad){\n      setOneLoad(true);\n      var geocoder = L.Control.Geocoder.nominatim();\n      \n      if (typeof URLSearchParams !== \"undefined\" && location.search) {\n\n        var params = new URLSearchParams(location.search);\n        var geocoderString = params.get(\"geocoder\");\n        if (geocoderString && L.Control.Geocoder[geocoderString]) {\n          geocoder = L.Control.Geocoder[geocoderString]();\n        } else if (geocoderString) {\n          console.warn(\"Unsupported geocoder\", geocoderString);\n        }\n      \n      }\n  \n      var myGeocoder = L.Control.geocoder({\n        query: \"\",\n        placeholder: \"Search here...\",\n        defaultMarkGeocode: false,\n        geocoder\n      }).addTo(map);\n\n      myGeocoder.on(\"markgeocode\", function (e) {\n        var latlng = e.geocode.center;\n        setCentered(latlng);\n      "}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Maps\\CreateCoordinates.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 87, "end_line": 145, "language": "js", "text": "        setCentered(latlng);\n      \n      })\n    }\n    \n    return null;\n  }\n\n  const MapEvents = () => {\n    useMapEvents({\n      click(e) {\n        setCentered(e.latlng);\n      },\n    });\n    return false;\n  }\n\n  const hehe = () =>{\n      setCentered(location.coordinates);\n  }\n\n  const confirmCoordinates = () =>{\n    props.setCoordinates(centered);\n    handleClose();\n  }\n\n  return (\n    <div>\n      <button className='buttonitoInfo' onClick={handleOpen}>Add Coordinates</button>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box sx={style}>\n          <Typography sx={{fontFamily: 'Futura'}} id=\"modal-modal-title\" variant=\"h5\" component=\"h2\">\n            Pick your Precise Location on the Map\n          </Typography>\n          <br />\n\n            <MapContainer\n              center ={centered}\n              zoom ={ZOOM_LEVEL}\n            >                \n\n              {/* Not adding this to be more clear: attribution ={OsmProvider.leaflet.attribution} */}\n              <TileLayer url={OsmProvider.leaflet.url}  />\n\n              <Marker position={ [centered.lat, centered.lng] } icon={markerIcon}>\n                  <Popup>\n                      <b>{centered.lat}, {centered.lng}</b>\n                  </Popup>\n              </Marker>\n\n              <FlyToPlease /> \n              <MapEvents />\n              <SearchGeocoder />\n          </MapContainer>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Maps\\CreateCoordinates.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 144, "end_line": 155, "language": "js", "text": "              <SearchGeocoder />\n          </MapContainer>\n                \n          <br />\n          <button className='buttonitoInfo' onClick={()=>{hehe()}}>Locate Me</button>\n          <button className='buttonito' onClick={()=>{confirmCoordinates()}}>Confirm the Location</button>\n          \n        </Box>\n      </Modal>\n    </div>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Maps\\CreateCoordinates.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 154, "end_line": 155, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Maps\\CreateCoordinates.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 155, "end_line": 155, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Maps\\DisplayCoordinates.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 17, "end_line": 53, "language": "js", "text": "\nexport default function DisplayCoordinates(props) {\n\n    const centered = { lat: props.lat , lng: props.lng };\n    const ZOOM_LEVEL = 15;\n\n    function FlyToPlease () {\n        const map = useMap();\n        React.useEffect(()=>{\n            map.flyTo(centered, ZOOM_LEVEL )\n        }, [map]);\n        return null;\n    }\n\n    return (\n        <div>\n          <br />\n\n            <MapContainer\n                center ={centered}\n                zoom ={ZOOM_LEVEL}\n                \n            >                \n                {/* Not adding this for a more clear map: attribution ={OsmProvider.leaflet.attribution} */}\n                <TileLayer url={OsmProvider.leaflet.url}  />\n                <Marker position={ [centered.lat, centered.lng] } icon={markerIcon}>\n                    <Popup>\n                        <b>{centered.lat}, {centered.lng}</b>\n                    </Popup>\n                </Marker>\n                <FlyToPlease /> \n                \n            </MapContainer>\n            <br />\n    </div> \n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Maps\\OsmProvider.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 8, "language": "js", "text": "const OsmProvider={\n    leaflet: {\n        url: \"https://tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        attribution: '<a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap </a>&copy;'\n    }\n}\n\nexport default OsmProvider;"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Maps\\useGeoLocation.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 38, "language": "js", "text": "\n// function to get the current location on the map\nconst useGeoLocation = () => {\n\n    const [location, setLocation]= useState({\n        loaded: false,\n        coordinates: {lat: \"\", lng: \"\"}\n    });\n\n    const onSuccess = (location) =>{\n        setLocation({\n            loaded: true,\n            coordinates: {lat: location.coords.latitude, lng: location.coords.longitude}\n        });\n    }\n\n    const onError = error =>{\n        setLocation({\n            loaded: true,\n            error,\n        });\n    }\n\n    useEffect(()=>{\n        if(!(\"geolocation\" in navigator)){\n            onError({\n                    code: 0,\n                    message: \"Geolocation not supported!\"\n            });\n        }\n\n        navigator.geolocation.getCurrentPosition(onSuccess, onError);\n\n    }, []);\n\n  return location;\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Modals\\ApprovalModal.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 45, "language": "js", "text": "\nexport default function ApprovalModal() {\n  const [open, setOpen] = React.useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => setOpen(false);\n\n  return (\n    <div>\n      <Button onClick={handleOpen}>Open modal</Button>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box sx={style}>\n          <Typography id=\"modal-modal-title\" variant=\"h5\" component=\"h2\">\n            Application Received\n          </Typography>\n          <img className='approval_photo' src='https://codenex.in/wp-content/uploads/2019/01/appdevelopment.png' />\n          <Typography variant=\"h6\" id=\"modal-modal-description\" sx={{ mt: 2 }}>\n            You'll be able to use our services as soon as you have been approved!\n          </Typography>\n        </Box>\n      </Modal>\n    </div>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Modals\\Categories.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 33, "end_line": 38, "language": "js", "text": "    \n        for (var i=0; i<cats.length;i++){\n            if (cats[i].CategoryId===parent.id){\n            categs.push(cats[i]);\n            }\n        }  "}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Modals\\Categories.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 42, "end_line": 46, "language": "js", "text": "        for (var j=0; j<categories.length;j++){\n            if (categories[j].CategoryId===value.id){\n            ok = true;\n            }\n            }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Modals\\Categories.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 59, "end_line": 66, "language": "js", "text": "                if (amIaParent(cats, value)){\n                    return buildChildren(cats, value);\n                }\n                else{\n                  return ( \n                    <TreeItem key={key} nodeId={value.name} label={value.name} onClick={() => selectCat(value)} />\n                  );\n                }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Modals\\Feedback.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 11, "language": "js", "text": "\nfunction Feedback() {\n  return (\n    <div>\n      <Typography>Thank you for your feedback!</Typography>\n      <img src='https://cdn.dribbble.com/users/2187949/screenshots/7322096/vector_cartoon_illustration_of_5_rating_stars_with_tiny_people_holding_big_stars_in_hands._rating_co_4x.jpg' />\n    </div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Modals\\NotAllowed.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 9, "language": "js", "text": "\nfunction NotAllowed() {\n  return (\n    <div>\n      <img alt='Not Allowed' src='https://cdni.iconscout.com/illustration/premium/thumb/error-403-4190274-3468591.png' />\n    </div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Modals\\NotFound.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 9, "language": "js", "text": "\nfunction NotFound() {\n  return (\n    <>\n    <img alt='Not Found' src='https://cdni.iconscout.com/illustration/premium/thumb/404-error-3702345-3119136.png' />\n    </>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Modals\\Rating.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 21, "language": "js", "text": "\nfunction getLabelText(value) {\n  return `${value} Star${value !== 1 ? 's' : ''}, ${labels[value]}`;\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Modals\\Rating.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 22, "end_line": 56, "language": "js", "text": "\n// A simple rating system with stars\nexport default function HoverRating(props) {\n  const [value, setValue] = React.useState(2.5);\n  const [hover, setHover] = React.useState(-1);\n\n  return (\n    <Box\n      sx={{\n        width: 200,\n        display: 'flex',\n        alignItems: 'center',\n        fontFamily: 'Futura',\n      }}\n    >\n      <Rating\n        name=\"hover-feedback\"\n        value={value}\n        precision={0.5}\n        getLabelText={getLabelText}\n        onChange={(event, newValue) => {\n          setValue(newValue);\n          props.setValueC(newValue);\n        }}\n        onChangeActive={(event, newHover) => {\n          setHover(newHover);\n        }}\n        emptyIcon={<StarIcon style={{ opacity: 0.55 }} fontSize=\"inherit\" />}\n      />\n      {value !== null && (\n        <Box sx={{ ml: 2 }}>{labels[hover !== -1 ? hover : value]}</Box>\n      )}\n    </Box>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Modals\\Recommendations.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 49, "language": "js", "text": "\nfunction Recommendations() {\n\n    const [itemList, setItemList] = useState([]);\n    const {authState} = useContext(AuthContext);\n    let navigate = useNavigate();\n\n    useEffect(()=>{\n\n        // This presupposes it is called from a place where the check that the auth state exists has been performed\n        axios.get(`https://localhost:33123/items/top/${authState.id}`).then((res)=>{\n            setItemList(res.data);\n\n        });\n\n    // eslint-disable-next-line\n    }, []);\n\n\n\n    // Pagination Information\n    const [pageNumber, setPageNumber] = useState(0);\n    const itemsPerPage = 3;\n    const visitedPages = pageNumber * itemsPerPage;\n    const pageCount = Math.ceil(itemList.length / itemsPerPage);\n\n    // Displaying the items of this particular page\n    const displayItems = itemList.slice( visitedPages, visitedPages + itemsPerPage ).map((value, key)=>{\n            return <div className='item' onClick={()=>{navigate(`/item/${value.id}`)}}> \n                    <div className='name'>{value.name} </div>\n                    <div className='body'>\n                        <img className='lando_image' src={value.coverPhoto} alt=\"cover\" />\n                    </div>\n                    <div className='footer gradient-custom'>\n                        <div > {value.location}, {value.country}</div> \n                        <div style={{ color: '#14b6e3' }}> {value.currently}  &nbsp;&nbsp;</div>\n                    </div>\n                    </div>\n            ;\n    });\n    \n"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Modals\\Recommendations.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 48, "end_line": 85, "language": "js", "text": "    \n\n    const changePage = ({selected}) => {\n        setPageNumber(selected);\n    };\n\n\n  return (\n        <>\n\n            { itemList.length !==0 && \n                <>\n                <div className=\"container\">\n                <Title title={\"Top Picks for You\"} />\n                </div>\n                <div className=\"container\">\n\n                {/* Display Items Paginated */}\n                {displayItems}\n                \n                {/* The pagination */}\n                <ReactPaginate \n                    previousLabel={\"<\"}\n                    nextLabel={\">\"}\n                    pageCount={pageCount}\n                    onPageChange={changePage}\n                    containerClassName={\"paginationButtons\"}\n                    previousLinkClassName={\"previousButton\"}\n                    nextLinkClassName={\"nextButton\"}\n                    disabledClassName={\"paginationDisabled\"}\n                    activeClassName={\"paginationActive\"}\n                />\n                </div>\n                </>\n            }\n        </>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Modals\\Recommendations.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 84, "end_line": 85, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Modals\\Recommendations.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 85, "end_line": 85, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Photos\\AddPhotos.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 54, "language": "js", "text": "\nfunction AddPhotos() {\n\n  let {id} = useParams();\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n    window.location.reload();\n  }\n\n  return (\n    <div>\n      <button className='buttonitoInfo' onClick={handleOpen}>Add Photos</button>\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box sx={style}>\n          \n          <Typography sx={{fontFamily: 'Futura'}} variant=\"h2\" component=\"h2\">Photo Upload</Typography>\n          <br />\n          <Typography sx={{fontFamily: 'Futura'}} variant=\"h7\" component=\"h2\">Add Photos to your Auction</Typography>\n          <br />\n          <Typography sx={{fontFamily: 'Futura', width: '100%'}} variant=\"h6\" component=\"h2\"> Photos help buyers that are interested get a better idea of the condition and dimensions of the item.</Typography>\n          <Typography sx={{fontFamily: 'Futura', width: '100%'}} variant=\"h6\" component=\"h2\"> Make sure to provide clear pictures, preferably in natural lighting conditions for better results.</Typography>\n          <Typography sx={{fontFamily: 'Futura', width: '100%'}} variant=\"h6\" component=\"h2\"> Proofs of authenticity are also a plus.</Typography>\n          <br />\n          <PhotoUpload itemid={id} />\n\n        </Box>\n      </Modal>\n    </div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Photos\\ChooseCover.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 20, "end_line": 72, "language": "js", "text": "\nfunction ChooseCover(props) {\n\n  let {id} = useParams();\n\n  const [selectedImage, setSelectedImage] = useState(0);\n\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n  }\n\n  const handleConfirm = () =>{\n\n    const body = {\n        ItemId: id,\n    }\n\n    const head={ \n        headers:{\n            accessToken: localStorage.getItem(\"accessToken\"),\n            \n        }\n    }\n\n    axios.put(`https://localhost:33123/photos/setcover/${props.images[selectedImage].id}`, body, head).then((resimag)=>{\n    });\n    setOpen(false);\n  }\n\n  return (\n    <div>\n      \n      {props.images.length>0 &&\n          <button className='buttonitoInfo' onClick={handleOpen}>Select Cover</button>\n      }\n\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box sx={style}>\n          \n          <Typography sx={{fontFamily: 'Futura'}} variant=\"h2\" component=\"h2\">Cover Photo</Typography>\n          <br />\n          <DisplayPhotos images={props.images} setSelectedImage={setSelectedImage} />\n          <br />\n          <Typography sx={{fontFamily: 'Futura'}} variant=\"h7\" component=\"h2\">Would you like this photo as the cover?</Typography>\n          <br />\n          <button className=\"buttonitoReverse\" onClick={handleClose}>Cancel</button>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Photos\\ChooseCover.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 71, "end_line": 79, "language": "js", "text": "          <br />\n          <button className=\"buttonitoReverse\" onClick={handleClose}>Cancel</button>\n          <button className=\"buttonito\"  onClick={handleConfirm} autoFocus>Confirm</button>\n        </Box>\n      </Modal>\n\n    </div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Photos\\ChooseCover.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 78, "end_line": 79, "language": "js", "text": "  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Photos\\ChooseCover.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 79, "end_line": 79, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Photos\\DeletePhoto.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 69, "language": "js", "text": "\n\nfunction DeletePhoto(props) {\n\n  const [selectedImage, setSelectedImage] = useState(0);\n\n  const [open, setOpen] = useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => {\n    setOpen(false);\n  }\n\n  const handleConfirm = () =>{\n\n    const head={ \n        headers:{\n            accessToken: localStorage.getItem(\"accessToken\"),\n            \n        }\n    }\n\n    console.log(head);\n\n    axios.delete(`https://localhost:33123/photos/${props.images[selectedImage].id}`, head).then((resimag)=>{\n        console.log(resimag.data);\n    });\n\n    setOpen(false);\n    window.location.reload();\n  }\n\n  return (\n    <div>\n      {props.images.length>0 &&\n          <button className='buttonitoInfo' onClick={handleOpen}>Remove a Photo</button>\n      }\n      \n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box sx={style}>\n          \n          <Typography sx={{fontFamily: 'Futura'}} variant=\"h2\" component=\"h2\">Remove Photo</Typography>\n          <br />\n          <DisplayPhotos images={props.images} setSelectedImage={setSelectedImage} />\n          <br />\n          <Typography sx={{fontFamily: 'Futura'}} variant=\"h7\" component=\"h2\">Would you like to delete this photo?</Typography>\n          <br />\n          <button className=\"buttonitoReverse\" onClick={handleClose}>Cancel</button>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Photos\\DeletePhoto.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 68, "end_line": 76, "language": "js", "text": "          <br />\n          <button className=\"buttonitoReverse\" onClick={handleClose}>Cancel</button>\n          <button className=\"buttonito\"  onClick={handleConfirm} autoFocus>Confirm</button>\n        </Box>\n      </Modal>\n      \n    </div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Photos\\DeletePhoto.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 75, "end_line": 76, "language": "js", "text": "  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Photos\\DeletePhoto.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 76, "end_line": 76, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Photos\\DisplayPhotos.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 19, "end_line": 24, "language": "js", "text": "    if(currImg > 0){\n      setCurrImg(currImg - 1);\n      if (props.setSelectedImage){\n        props.setSelectedImage(currImg-1);\n      }\n    }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Photos\\DisplayPhotos.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 29, "end_line": 34, "language": "js", "text": "    if(currImg < props.images.length - 1){\n      setCurrImg(currImg + 1);\n      if (props.setSelectedImage){\n        props.setSelectedImage(currImg+1);\n      }\n    }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Photos\\PhotoUpload.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 61, "end_line": 78, "language": "js", "text": "    \n    if (selectedFile) {\n        \n        return (\n            <div>\n                <Typography sx={{fontFamily: 'Futura'}} variant=\"h6\" >File: {selectedFile.name}</Typography>\n                <Typography sx={{fontFamily: 'Futura'}} variant=\"h6\" >Type: {selectedFile.type}</Typography>\n                <Typography sx={{fontFamily: 'Futura'}} variant=\"h6\">\n                    Last Modified:{\" \"}\n                    {selectedFile.lastModifiedDate.toDateString()}\n                </Typography>\n                <button className=\"buttonitoReverse\" onClick={()=>{setSelectedFile(null)}}>Clear</button>\n                <button className='buttonito' onClick={onFileUpload}>\n                    Upload Photo\n                </button>\n            </div>\n        );\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Photos\\PhotoUpload.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 84, "end_line": 117, "language": "js", "text": "        if (selectedFile){\n\n            // Create an object of formData\n            const formData = new FormData();\n            \n            // Update the formData object\n            formData.append(\n                \"image\",\n                selectedFile,\n                selectedFile.name\n            );\n        \n            // Details of the uploaded file\n            console.log(selectedFile);\n\n            const head={ headers:{\n                accessToken: localStorage.getItem(\"accessToken\")\n                }\n            }\n\n            const namingScheme = itemId + \"_\" + Date.now()+\".\"+selectedFile.name.split('.').pop();\n            \n            // Request made to the backend api Send formData object\n            axios.post(`https://localhost:33123/photos/${namingScheme}`, formData, head).then((res)=>{\n                if (res.data.error){\n                    setErrorMessage(res.data.error);\n                    handleClickAlertError();;\n                }\n                else{\n                    handleClickAlert();\n                }\n            });\n            setSelectedFile(null);\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\ApplyFilters.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 56, "end_line": 58, "language": "js", "text": "    if (location!==\"\"){\n      props.setLocation(location);\n    }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\ApplyFilters.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 59, "end_line": 61, "language": "js", "text": "    if (mycountry!==\"\"){\n      props.setCountry(mycountry);\n    }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\Auctions.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 27, "end_line": 70, "language": "js", "text": "\nfunction Auctions() {\n  \n    const [itemList, setItemList] = useState([]);\n    const [complete, setComplete] = useState(false);\n    const [selectedCategory, setSelectedCategory] = useState({});\n    let navigate = useNavigate();\n\n    useEffect(()=>{\n        setItemList([]);\n        setComplete(false);\n        \n        // if no category selected bring everything\n        if (Object.keys(selectedCategory).length <=0 ){\n            axios.get(`https://localhost:33123/items`).then((res)=>{\n                setItemList(res.data);\n                setComplete(true);\n            });\n        }\n        else{\n\n            axios.get(`https://localhost:33123/items/categories/${selectedCategory.id}`).then((res)=>{\n                setItemList(res.data);\n                setComplete(true);\n            });\n        }\n\n    }, [selectedCategory]);\n\n    // Pagination Information\n    const [pageNumber, setPageNumber] = useState(0);\n    const [itemsPerPage, setItemsPerPage] = useState(9);\n\n    const handleChangeRows = (event) => {\n      setItemsPerPage(event.target.value);\n    };\n\n    const visitedPages = pageNumber * itemsPerPage;\n    const pageCount = Math.ceil(itemList.length / itemsPerPage);\n\n    // Displaying the items of this particular page\n    const displayItems = itemList.slice( visitedPages, visitedPages + itemsPerPage ).map((value, key)=>{\n      return <div className='item' key={key} onClick={()=>{navigate(`/item/${value.id}`)}}> \n              <div className='name'>{value.name} </div>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\Auctions.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 69, "end_line": 104, "language": "js", "text": "      return <div className='item' key={key} onClick={()=>{navigate(`/item/${value.id}`)}}> \n              <div className='name'>{value.name} </div>\n              <div className='body'>\n                  <img className='lando_image' src={value.coverPhoto} alt=\"coverphoto\" />\n              </div>\n              <div className='footer gradient-custom'>\n                  <div > {value.location}, {value.country}</div> \n                  <div style={{ color: '#14b6e3' }}> {value.currently}  &nbsp;&nbsp;</div>\n              </div>\n              </div>\n    });\n    \n    const changePage = ({selected}) => {\n        setPageNumber(selected);\n    };\n\n  return (\n    <> \n    \n      {  Object.keys(selectedCategory).length > 0  ?\n        <Title title={selectedCategory.name} />\n        :\n        <Title title={\"Shop by Category\"} />\n      }\n        \n      <div className=\"search\">\n        <div className=\"container\" style={{\n            marginTop: 3,\n          }}>\n          <Header text={<ComputerIcon style={{ color: '#00C9FF'}} />}  />\n          <Header text={<PhotoCameraIcon style={{ color: '#00C9FF'}} />} />\n          <Header text={<HandymanIcon style={{ color: '#00C9FF'}} />} />\n          <Header text={<PetsIcon style={{ color: '#00C9FF'}} />} />\n          <CategoriesSelect setSelectedCategory={setSelectedCategory} />\n          <Header text={<ColorLensIcon style={{ color: '#00C9FF'}} />} />\n          <Header text={<SnowboardingIcon style={{ color: '#00C9FF'}} />} />"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\Auctions.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 103, "end_line": 141, "language": "js", "text": "          <Header text={<ColorLensIcon style={{ color: '#00C9FF'}} />} />\n          <Header text={<SnowboardingIcon style={{ color: '#00C9FF'}} />} />\n          <Header text={<TwoWheelerIcon style={{ color: '#00C9FF'}} />} />\n          <Header text={<CheckroomIcon style={{ color: '#00C9FF'}} />} />\n        </div>\n\n        <div className=\"search\">\n\n          { itemList.length===0 && complete &&\n            <>\n            <div className='container' style={{\n              marginTop: 20,\n            }}>\n            \n              <Typography sx={{fontFamily: 'Futura'}} variant=\"h4\">\n                              no auctions found\n                      </Typography>\n                      </div>\n              <img src='https://indususedcars.com/assets/theme/images/no_result_found.png' alt=\"coverphoto\" />\n              <Header text={`Unfortunately there are no current listings for ${selectedCategory.name}`} />\n              </>\n          }\n\n          { itemList.length===0 && !complete &&\n            <>\n            <div className='container' style={{\n              marginTop: 10,\n            }}>\n              <Typography sx={{fontFamily: 'Futura'}} variant=\"h4\">\n                              Loading\n                      </Typography>       \n                      </div>\n                      <img alt=\"coverphoto\" src='https://i.pinimg.com/originals/f2/9f/02/f29f025c9ff5297e8083c52b01f1a709.gif' />\n              </>\n          }\n\n\n        { itemList.length!==0 && (\n          "}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\Auctions.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 140, "end_line": 175, "language": "js", "text": "        { itemList.length!==0 && (\n          \n          <div className=\"container\">\n                \n             {/* Display Items Paginated */}\n             {displayItems}\n                \n                {/* The pagination */}\n                <ReactPaginate \n                    previousLabel={\"<\"}\n                    nextLabel={\">\"}\n                    pageCount={pageCount}\n                    onPageChange={changePage}\n                    containerClassName={\"paginationButtons\"}\n                    previousLinkClassName={\"previousButton\"}\n                    nextLinkClassName={\"nextButton\"}\n                    disabledClassName={\"paginationDisabled\"}\n                    activeClassName={\"paginationActive\"}\n                />\n           \n              <div className=\"container\">\n              \n                {/* Items per page */}\n                  <Detail text={<div> \n                    <Box sx={{ minWidth: 100 }}>\n                      <FormControl fullWidth>\n                        <InputLabel id=\"demo-simple-select-label\">Items/Page</InputLabel>\n                        <Select\n                          labelId=\"demo-simple-select-label\"\n                          id=\"demo-simple-select\"\n                          value={itemsPerPage}\n                          label=\"items\"\n                          onChange={handleChangeRows}\n                          variant=\"standard\"\n                        >\n                          <MenuItem value={9}>9</MenuItem>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\Auctions.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 174, "end_line": 190, "language": "js", "text": "                        >\n                          <MenuItem value={9}>9</MenuItem>\n                          <MenuItem value={18}>18</MenuItem>\n                          <MenuItem value={27}>27</MenuItem>\n                        </Select>\n                      </FormControl>\n                    </Box>\n                  </div>} />\n                  </div>\n          </div>)\n        }\n        </div>\n    </div>\n\n    </>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\Auctions.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 189, "end_line": 190, "language": "js", "text": "  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\Auctions.js", "chunk_id": 0, "subchunk_id": 6, "start_line": 190, "end_line": 190, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\CategoriesSelect.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 11, "end_line": 70, "language": "js", "text": "\nexport default function CategoriesSelect(props) {\n\n  const [selectedCategory, setSelectedCategory] = React.useState({});\n  const [open, setOpen] = React.useState(false);\n  \n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleConfirm = () => {\n    props.setSelectedCategory(selectedCategory);\n    setOpen(false);\n  }\n\n  return (\n    <>\n    <Box sx={{ minWidth: 120 }}>\n        <Button variant=\"text\"  sx={{\n          mx: 'auto',\n          height: 45,\n          p: 1,\n          m: 1,\n          color: '#00C9FF',\n          '&:hover': {\n            backgroundColor: '#00C9FF',\n            color: 'white',\n          },\n          bgcolor: (theme) =>\n          theme.palette.mode === 'dark' ? '#101010' : 'grey.50',\n          border: '1px solid',\n          borderColor: (theme) =>\n          theme.palette.mode === 'dark' ? 'grey.800' : 'grey.300',\n          borderRadius: 2,\n          textAlign: 'center',\n          fontFamily: 'Futura',\n          }}\n          onClick={handleOpen}>Select Categories</Button>\n    </Box>\n\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\" style={{\n            fontFamily: 'Futura',\n            \n        }}>\n        {selectedCategory.name}\n      </DialogTitle>\n      <DialogContent>\n\n        <Categories setSelectedCategory={setSelectedCategory} />\n"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\CategoriesSelect.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 69, "end_line": 79, "language": "js", "text": "        <Categories setSelectedCategory={setSelectedCategory} />\n\n      </DialogContent>\n      <DialogActions>\n        <button className=\"buttonitoReverse\" onClick={handleClose}>Cancel</button>\n        <button className=\"buttonito\"  onClick={handleConfirm} autoFocus>Confirm</button>\n      </DialogActions>\n    </Dialog>\n    </>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\CategoriesSelect.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 78, "end_line": 79, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\CategoriesSelect.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 79, "end_line": 79, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\Filter.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 20, "language": "js", "text": "\nconst columns = [\n    { field: 'name', headerName: 'Name', width: 180},\n    { field: 'currently', headerName: 'Current Bid', type: 'number', width: 90},\n    { field: 'number_of_bids', headerName: 'Bids', type: 'number', width: 40},\n    { field: 'buy_price', headerName: 'Buying Price', type: 'number', width: 100},\n    { field: 'location', headerName: 'Location', width: 150},\n    { field: 'country', headerName: 'Country', width: 150 },\n    { field: 'description', headerName: 'Description', width: 160 },\n    { field: 'ends', headerName: 'Ending On', width: 165, type: 'dateTime', valueFormatter: params => \n    (new Date(params?.value).toLocaleString('en-GB'))},\n]"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\Filter.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 21, "end_line": 74, "language": "js", "text": "\nexport default function Filter() {\n\n  const [itemList, setItemList] = useState([]);\n  let navigate = useNavigate();\n\n  useEffect(()=>{\n      axios.get(\"https://localhost:33123/items\").then((res)=>{\n      setItemList(res.data);\n      });\n  }, []);\n\n  // This to go to the item\n  const handleOnCellClick = (params) => {\n    for (var item=0;item<itemList.length;item++){\n        if(itemList[item].id===params.id){\n            navigate(`/item/${itemList[item].id}`);\n        }\n    }\n  };\n\n\n  return (\n    <div style={{     minHeight: '90vh', width: '100%',\n            backgroundImage: `url(\"https://localhost:33123/images/background.png\")`,\n            backgroundRepeat: 'repeat',\n            }}>\n      <div className=\"container\" >\n    \n    \n        <Title title=\"Active Auctions\" />\n      </div> \n      \n      <div className=\"container\" >\n\n        <Header text=\"Filter, Sort and Search from the Menu. Click to go to the auction page\" />\n      <div className='container'>\n\n\n          <div style={{ height: '100%', width: '100%' }}>\n            <div style={{ height: 579, width: 1050, backgroundColor: 'white' }}>\n              <DataGrid\n                rows={itemList}\n                columns={columns}\n                pageSize={9}\n                rowsPerPageOptions={[9]}\n                disableSelectionOnClick\n                onCellClick={handleOnCellClick}\n              />\n            </div>\n\n            <Button variant=\"text\"  sx={{\n              mx: 'auto',\n              height: 64,"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\Filter.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 73, "end_line": 99, "language": "js", "text": "              mx: 'auto',\n              height: 64,\n              p: 1,\n              m: 1,\n              color: '#00C9FF',\n              '&:hover': {\n                backgroundColor: '#00C9FF',\n                color: 'white',\n              },\n              bgcolor: (theme) =>\n              theme.palette.mode === 'dark' ? '#101010' : 'grey.50',\n              border: '1px solid',\n              borderColor: (theme) =>\n              theme.palette.mode === 'dark' ? 'grey.800' : 'grey.300',\n              borderRadius: 2,\n              textAlign: 'center',\n              fontFamily: 'Futura',\n              }}\n              onClick={()=>{navigate('/search')}}>GALLERY VIEW\n            </Button>\n\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\Filter.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 98, "end_line": 99, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\Filter.js", "chunk_id": 1, "subchunk_id": 3, "start_line": 99, "end_line": 99, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\FilterCategories.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 47, "end_line": 78, "language": "js", "text": "        \n        // if no category selected bring everything\n        if (Object.keys(selectedCategory).length <=0 ){\n            axios.get(`https://localhost:33123/items`).then((res)=>{\n                for (var i=0;i< res.data.length ; i++){\n                    if(res.data[i].currently>superMax){\n                        setSuperMax(res.data[i].currently);\n                    }\n                }\n                setItemList(res.data);\n                setFinalList(res.data);\n                setComplete(true);\n            });\n        }\n        else{\n            \n            setWordText(\"\");\n            setSelectedFilters([]);\n            setLocation(\"\");\n            setCountry(\"\");\n            setPriceRange([0, superMax]);\n            axios.get(`https://localhost:33123/items/categories/${selectedCategory.id}`).then((res)=>{\n                setItemList(res.data);\n                setFinalList(res.data);\n                setComplete(true);\n                for (var i=0;i< res.data.length ; i++){\n                    if(res.data[i].currently>superMax){\n                        setSuperMax(res.data[i].currently);\n                    }\n                }\n            });\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\FilterCategories.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 88, "end_line": 92, "language": "js", "text": "        if (location!==\"\"){\n          newFilteredData = newFilteredData.filter((value)=>{\n            return ( value.location===location );\n          });\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\FilterCategories.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 93, "end_line": 97, "language": "js", "text": "        if (Object.keys(country).length >0){\n          newFilteredData = newFilteredData.filter((value)=>{\n            return ( value.country===country );\n          });\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\FilterCategories.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 112, "end_line": 117, "language": "js", "text": "      if (searchText===\"\"){\n        setFilteredList([]);\n      }\n      else{\n        setFilteredList(newFilteredData);\n      }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\FilterCategories.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 123, "end_line": 127, "language": "js", "text": "      if (e.key === 'Enter') {\n        setWordText(wordBar);\n        setFinalList(filteredList);\n        clearPressed();\n      }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\FilterItems.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 38, "end_line": 43, "language": "js", "text": "        \n        for (var i=0;i< props.items.length ; i++){\n            if(props.items[i].currently>superMax){\n                setSuperMax(props.items[i].currently);\n            }\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\FilterItems.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 55, "end_line": 59, "language": "js", "text": "      if (location!==\"\"){\n        newFilteredData = newFilteredData.filter((value)=>{\n          return ( value.location===location );\n        });\n      }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\FilterItems.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 60, "end_line": 64, "language": "js", "text": "      if (Object.keys(country).length >0){\n        newFilteredData = newFilteredData.filter((value)=>{\n          return ( value.country===country );\n        });\n      }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\FilterItems.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 81, "end_line": 86, "language": "js", "text": "        if (searchText===\"\"){\n          setFilteredList([]);\n        }\n        else{\n          setFilteredList(newFilteredData);\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\FilterItems.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 91, "end_line": 95, "language": "js", "text": "      if (e.key === 'Enter') {\n        setWordText(wordBar);\n        setFinalList(filteredList);\n        clearPressed();\n      }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\PriceRange.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 8, "language": "js", "text": "\nfunction valuetext(value) {\n  return `${value}$`;\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Searching\\PriceRange.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 48, "end_line": 69, "language": "js", "text": "\nexport default function PriceRange(props) {\n  const [value, setValue] = React.useState([0, props.max]);\n\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n    props.setPriceRange(newValue);\n  };\n\n  return (\n    <Box sx={{ width: 300 }}>\n      <PrettoSlider\n        getAriaLabel={() => 'Price range'}\n        value={value}\n        onChange={handleChange}\n        valueLabelDisplay=\"auto\"\n        max={props.max}\n        getAriaValueText={valuetext}\n      />\n    </Box>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Typography\\Body.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 24, "language": "js", "text": "\nfunction Body(props) {\n  return (\n    <div>\n      <Box\n        sx={{\n        boxShadow: `0 2px 4px 0 rgba(0,0,0,.2)`,\n        p: 1,\n        m: 1,\n        bgcolor: (theme) =>\n        theme.palette.mode === 'dark' ? '#101010' : 'grey.50',\n        color: (theme) =>\n        theme.palette.mode === 'dark' ? 'grey.300' : 'grey.800',\n        borderRadius: 2,\n        textAlign: 'center',\n        }}\n      >\n        <Typography variant=\"h7\"  sx={{fontFamily: 'Futura',}}>{props.text}</Typography>\n      </Box>\n    </div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Typography\\Detail.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 26, "language": "js", "text": "\nfunction Detail(props) {\n  return (\n\n    <div>\n      <Box\n        sx={{\n        boxShadow: `0 2px 4px 0 rgba(0,0,0,.2)`,\n        p: 1,\n        m: 1,\n        bgcolor: (theme) =>\n        theme.palette.mode === 'dark' ? '#101010' : 'grey.50',\n        color: (theme) =>\n        theme.palette.mode === 'dark' ? 'grey.300' : 'grey.800',\n        borderRadius: 2,\n        textAlign: 'center',\n        }}\n      >\n        <Typography variant=\"h5\"  sx={{fontFamily: 'Futura', fontSize: '14px'}}>{props.text}</Typography>\n      </Box>\n    </div>\n\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Typography\\Header.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 28, "language": "js", "text": "\nfunction Header(props) {\n  return (\n    <div>\n       <Box\n          sx={{\n          mx: 'auto',\n          p: 1,\n          m: 1,\n          bgcolor: (theme) =>\n          theme.palette.mode === 'dark' ? '#101010' : 'grey.50',\n          color: (theme) =>\n          theme.palette.mode === 'dark' ? 'grey.300' : 'grey.800',\n          border: '1px solid',\n          borderColor: (theme) =>\n          theme.palette.mode === 'dark' ? 'grey.800' : 'grey.300',\n          borderRadius: 2,\n          textAlign: 'center',\n          }}\n        >\n\n          <Typography variant=\"h7\"  sx={{fontFamily: 'Futura',}}>{props.text}</Typography>\n        </Box>\n    </div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Typography\\HeaderNormal.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 21, "language": "js", "text": "\nfunction HeaderNormal(props) {\n  return (\n    <div>\n      <Box\n        sx={{\n        mx: 'auto',\n        p: 1,\n        m: 1,\n        color: (theme) =>\n        theme.palette.mode === 'dark' ? 'grey.300' : 'grey.800',\n        textAlign: 'center',\n        }}\n      >\n        <Typography variant=\"h7\"  sx={{fontFamily: 'Futura',}}>{props.text}</Typography>\n      </Box>\n    </div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Typography\\Title.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 25, "language": "js", "text": "\nfunction Title(props) {\n  return (\n    <div>\n       <Box\n          sx={{\n            boxShadow: `0 2px 4px 0 rgba(0,0,0,.2)`,\n            p: 1,\n            m: 1,\n            bgcolor: (theme) =>\n            theme.palette.mode === 'dark' ? '#101010' : 'grey.50',\n            color: (theme) =>\n            theme.palette.mode === 'dark' ? 'grey.300' : 'grey.800',\n            borderRadius: 2,\n            textAlign: 'center',\n            }}\n        >\n\n          <Typography variant=\"h4\"  sx={{fontFamily: 'Futura',}}>{props.title}</Typography>\n        </Box>\n    </div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\components\\Typography\\WideTitle.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 27, "language": "js", "text": "\nfunction WideTitle(props) {\n  return (\n    <div>\n       <Box\n          sx={{\n          mx: 'auto',\n          p: 3,\n          m: 1,\n          bgcolor: (theme) =>\n          theme.palette.mode === 'dark' ? '#101010' : 'grey.50',\n          color: (theme) =>\n          theme.palette.mode === 'dark' ? 'grey.300' : 'grey.800',\n          border: '1px solid',\n          borderColor: (theme) =>\n          theme.palette.mode === 'dark' ? 'grey.800' : 'grey.300',\n          borderRadius: 2,\n          textAlign: 'center',\n          }}\n      >\n        <Typography variant=\"h3\" sx={{fontFamily: 'Futura',}}>{props.title}</Typography>\n      </Box>\n    </div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\CreateItem.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 100, "end_line": 102, "language": "js", "text": "        if (Date.parse(holdData.started) > Date.parse(now)){\n            holdData.state=\"EXPECTED\"\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\CreateItem.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 105, "end_line": 109, "language": "js", "text": "        if (Object.keys(coordinates).length > 0 ){\n            var point = { type: 'Point', coordinates: [coordinates.lat, coordinates.lng]};\n            console.log(point);\n            holdData.latitudeLongitude = point;\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\CreateItem.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 111, "end_line": 113, "language": "js", "text": "        if (holdData.buy_price.length===0) {\n            holdData.buy_price=null;\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\CreateItem.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 124, "end_line": 129, "language": "js", "text": "            if (res.data.error){\n                alert(\"You are not signed in!\");\n            }\n            else{\n                navigate(`/`);\n            }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Dashboard.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 15, "end_line": 51, "language": "js", "text": "\nfunction Dashboard() {\n\n    const {authState} = useContext(AuthContext);\n    let navigate=useNavigate();\n    let id = authState.id;\n    const [userInfo, setUserInfo]= useState({});\n    const [myItems, setMyItems] = useState([]);\n    const [myPastItems, setMyPastItems] = useState([]);\n    const [myWatchlist, setMyWatchlist] = useState([]);\n    const [gotMail, setGotMail] = useState(false);\n\n    useEffect(()=>{\n\n            axios.get(`https://localhost:33123/auth/fetchyall/${id}`).then((response)=>{\n                if(response.data.message){\n                      console.log(response.data.message);\n                      navigate('/');\n                }\n                else{\n            \n                    setUserInfo(response.data);\n\n                    // check if they have mail\n                    axios.get(`https://localhost:33123/mail/newmail/${id}`).then((respi)=>{\n\n                        if(respi.data.gotmail===true){\n                            setGotMail(true);\n                         }\n                    }).catch((error) => {});\n\n                    axios.get(`https://localhost:33123/items/fetchByUser/${id}`).then((res)=>{\n                        \n                        const available = res.data.filter((value)=>{\n                            return (value.state==='EXPECTED' || value.state==='AVAILABLE' );\n                        });\n                        const past = res.data.filter((value)=>{"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Dashboard.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 50, "end_line": 94, "language": "js", "text": "                        });\n                        const past = res.data.filter((value)=>{\n                            return (value.state==='PURCHASED' || value.state==='EXPIRED' );\n                        });\n                  \n                        setMyItems(available);\n                        setMyPastItems(past);\n        \n                        }).catch((error) => {\n                            navigate('/');\n                    });\n\n                    axios.get(`https://localhost:33123/items/mywatchlist/${id}`).then((resbidy)=>{\n                        setMyWatchlist(resbidy.data);\n                    }).catch((error) => {\n                        navigate('/');\n                    });\n\n                }\n            }).catch((error) => {\n                console.log(error);\n                navigate('/');\n            });\n            \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    },[gotMail]);\n\n    return (\n        <div>\n            \n            <div className='container'>\n                <Title title={`${userInfo.name} ${userInfo.surname}`} />\n            </div>\n\n            <Grid container spacing={2}>\n\n                <Grid item xs={10}> \n                    <div className=\"searchInputs\">\n                        <Title title={`${userInfo.username}`} />\n                    </div>\n\n                    <div className=\"searchInputs\">\n\n                        <Header text={`${userInfo.location}, ${userInfo.country}`} />\n                        "}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Dashboard.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 93, "end_line": 123, "language": "js", "text": "                        <Header text={`${userInfo.location}, ${userInfo.country}`} />\n                        \n                        <Header text={ <div style={{\n                                display: 'flex',\n                                alignItems: 'center',\n                                textAlign: 'center',\n                                flexWrap: 'wrap',\n                                }}>\n                            <PointOfSaleSharpIcon />\n                            { userInfo.saleCount ? \n                            (   <>&nbsp;Seller Rating: {userInfo.sellerRating} &nbsp; Average: &nbsp;\n                                <Rating name=\"read-only\" value= {userInfo.sellerRating/userInfo.saleCount } readOnly precision={0.5}/>\n                                </>\n                            )\n                            :\n                            (   <>&nbsp;No Sales Yet\n                                </>\n                            )\n                            } \n                            </div>} \n                        />\n\n                        <Header text={ <div style={{\n                                display: 'flex',\n                                alignItems: 'center',\n                                textAlign: 'center',\n                                flexWrap: 'wrap',\n                                }}>\n                            <ShoppingBagSharpIcon />\n                            { userInfo.buyCount ? \n                            (<>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Dashboard.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 122, "end_line": 155, "language": "js", "text": "                            { userInfo.buyCount ? \n                            (<>\n                            &nbsp;Bidder Rating: {userInfo.bidderRating} &nbsp; Average: &nbsp;\n                            <Rating name=\"read-only\" value={userInfo.bidderRating/userInfo.buyCount } readOnly precision={0.5}/>\n                            </>)\n                            :\n                            (<>\n                            &nbsp;No Purchases Yet\n                            </>\n                            )\n                            }\n                            </div>} \n                        />\n\n                    </div>\n\n                </Grid>\n                <Grid item xs={2}>\n                    { !gotMail ? (<> \n                        <Link style={{ color: 'white' }} to=\"/mail\"> \n                        <button className='buttonito' style={{\n                            display: 'flex',\n                            alignItems: 'center',\n                            textAlign: 'center',\n                            flexWrap: 'wrap',\n                            width: '139px',\n                        }}>\n                        <MarkunreadIcon style={{ color: 'white' }} />&nbsp; All Caught Up!\n                        </button>\n                        </Link>   \n                        </>)\n                        :\n                        (<> \n                        <Link style={{ color: 'black' }} to=\"/mail\"> "}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Dashboard.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 154, "end_line": 192, "language": "js", "text": "                        (<> \n                        <Link style={{ color: 'black' }} to=\"/mail\"> \n                        <button className='buttonitoInfo' style={{\n                        display: 'flex',\n                        alignItems: 'center',\n                        textAlign: 'center',\n                        flexWrap: 'wrap',\n                        width: '150px',\n                    }}>\n                        <MarkEmailUnreadIcon style={{ color: 'white' }} />&nbsp; You've Got Mail!\n                        </button>\n                        </Link>   \n                        </>)\n                    }\n                </Grid>\n            </Grid>\n\n\n            <Recommendations />\n            <div className=\"profileContainer\">\n                <div className=\"informationSection\">\n\n\n                    <div className='container'>\n\n                        <Title title={\"Active Auctions\"} />\n                    \n                        </div>\n                    \n                        { myItems.length!==0 ? \n                            <div className='container'>\n                                <Header text=\"The catalogue of your current listings\" />\n                            </div>\n                            :\n                            <div className='container'>\n                                <Header text=\"No current listings, start selling by clicking below\" />\n                            </div>\n                        }\n"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Dashboard.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 191, "end_line": 229, "language": "js", "text": "                        }\n\n                    <div className='container'>\n\n                        <div className='container'>\n                            <FilterItems items={myItems} />\n                        </div>\n                    \n                    </div>\n\n                    <div className='container'>\n                        <button className=\"buttonito\" onClick={ ()=> {navigate('/createitem')}}>CREATE A NEW AUCTION</button>\n                    </div>\n\n                    <br />\n                    <div className='container'>\n                        <Title title={\"Watchlist\"} />\n                    </div>\n\n                    { myWatchlist.length!==0 ? \n                    <div className='container'>\n                        <Header text=\"Keep track of the items you're bidding on\" />\n                    </div>\n                    :\n                    <div className='container'>\n                        <Header text=\"When you bid on an auction it will appear here\" />\n                    </div>\n                    }\n                    <div className='container'>\n                        <FilterItems items={myWatchlist} /> \n                    </div>\n\n                    <br />\n                    <div className='container'>                    \n                        <Title title={\"Past Auctions\"} />\n                    </div>\n\n                    { myPastItems.length!==0 ? \n                        <div className='container'>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Dashboard.js", "chunk_id": 0, "subchunk_id": 6, "start_line": 228, "end_line": 249, "language": "js", "text": "                    { myPastItems.length!==0 ? \n                        <div className='container'>\n                            <Header text=\"Go through the history of your listings\" />\n                        </div>\n                    :\n                        <div className='container'>\n                            <Header text=\"You have currently no past listings\" />\n                        </div>\n                    }\n\n                    <div className='container'>\n                        <FilterItems items={myPastItems} /> \n                    </div>\n                    \n                </div>\n        \n\n            </div>\n\n        </div>\n    )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Dashboard.js", "chunk_id": 0, "subchunk_id": 7, "start_line": 248, "end_line": 249, "language": "js", "text": "    )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Dashboard.js", "chunk_id": 0, "subchunk_id": 8, "start_line": 249, "end_line": 249, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Export.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 22, "language": "js", "text": "\n// Grid columns\nconst columns = [\n  { field: 'name', headerName: 'Name', width: 180},\n  { field: 'currently', headerName: 'Currently', type: 'number', width: 70},\n  { field: 'number_of_bids', headerName: 'Bids', type: 'number', width: 40},\n  { field: 'buy_price', headerName: 'Buying Price', type: 'number', width: 100},\n  { field: 'location', headerName: 'Location', width: 150},\n  { field: 'country', headerName: 'Country', width: 150 },\n  { field: 'description', headerName: 'Description', width: 160 },\n  { field: 'ends', headerName: 'Ending On', width: 165, type: 'dateTime', valueFormatter: params => \n  (new Date(params?.value).toLocaleString('en-GB'))},\n  { field: 'state', headerName: 'State', width: 100},\n]"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Export.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 23, "end_line": 70, "language": "js", "text": "\n// Functional component for the Exports in CSV, XML or JSON\nexport default function Export() {\n\n  const {authState} = useContext(AuthContext);    \n  const [itemList, setItemList] = useState([]);\n\n  // Get all the items from the backend\n  useEffect(()=>{\n\n      const head= { headers:{\n            accessToken: localStorage.getItem(\"accessToken\"),\n            username: authState.username,\n        }\n      }\n\n      axios.get(\"https://localhost:33123/items/admin/\", head).then((res)=>{\n        setItemList(res.data);\n      });\n\n  }, [authState.username]);\n\n  return (\n\n    <div style = {{ minHeight: '90vh', width: '100%', backgroundRepeat: 'repeat',\n                    backgroundImage: `url(\"https://localhost:33123/images/background.png\")`,\n    }}>\n    \n      {/* Firstly the page headers */}\n      <div className='container'>\n        <Title title=\"Export Auction Data\" />\n      </div>\n\n      <div className=\"container\" >\n        <Header text=\"Select specific or download all auction data in the format you desire\" />\n      </div>\n\n      {/* The grid with the displayed information about the items */}\n      <div className='container' style={{ height: '100%', width: '100%' }}>\n        <div style={{ height: 600, width: 1200, backgroundColor: 'white' }}>\n          <DataGrid\n            rows={itemList}\n            columns={columns}\n            pageSize={8}\n            rowsPerPageOptions={[8]}\n            checkboxSelection\n            components={{\n              Toolbar: GridToolbar,"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Export.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 69, "end_line": 75, "language": "js", "text": "            components={{\n              Toolbar: GridToolbar,\n            }}\n          />\n        </div>\n      </div>\n"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Export.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 74, "end_line": 75, "language": "js", "text": "      </div>\n"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Export.js", "chunk_id": 1, "subchunk_id": 4, "start_line": 74, "end_line": 85, "language": "js", "text": "      </div>\n\n      {/* The two buttons to download in the corresponding format */}\n      <div className='container'>\n        <Download username={authState.username} />\n        <DownloadXML username={authState.username} />\n      </div>\n\n    </div>\n\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Export.js", "chunk_id": 1, "subchunk_id": 5, "start_line": 84, "end_line": 85, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Export.js", "chunk_id": 1, "subchunk_id": 6, "start_line": 85, "end_line": 85, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 67, "end_line": 75, "language": "js", "text": "\n// The displayed columns for the bids\nconst columns = [\n    { field: 'time', headerName: 'Placed On', width: 180, valueFormatter: params => \n    (new Date(params?.value).toLocaleString('en-GB')), },\n    { field: 'amount', headerName: 'Amount', width: 170},\n    { field: 'bidderName', headerName: 'Bidder', width: 170},\n    { field: 'bidderRating', headerName: 'Rating', width: 78},\n]"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 159, "end_line": 170, "language": "js", "text": "\n        if(itemObject.buy_price && data.amount >= itemObject.buy_price){\n            alert(\"You can buy it for less. Simply press purchase.\")\n        }        \n        else if (Math.floor((Date.parse(itemObject.ends)-Date.parse(today)))<=0){\n            alert(\"Auction unfortunately expired! Item is unavailable!\")\n            navigate(`/`);\n        }\n        else{\n            setHoldBidData(data); \n            handleOpenBid();     \n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 184, "end_line": 214, "language": "js", "text": "        if (Math.floor((Date.parse(itemObject.ends)-Date.parse(today)))<=0){\n            alert(\"Auction unfortunately expired! Item is unavailable!\")\n            navigate(`/`);\n        }\n        else{\n\n            const body = {\n                userId: authState.id,\n                purchaseAmount: itemObject.buy_price,\n                sellerId: itemObject.UserId,\n            }\n            const head={ \n                headers:{\n                    accessToken: localStorage.getItem(\"accessToken\"),\n                    \n                }\n            }\n            // update the item as purchased\n            axios.put(`https://localhost:33123/items/purchase/${itemObject.id}`, body, head).then((res)=>{\n            });\n\n            // Also inform their history\n            const body2 = {     \n                userId: authState.id,\n            };\n            axios.post(`https://localhost:33123/history/bid/${itemObject.id}`, body2, head).then((reshi)=>{\n            });\n\n\n            handleConfirmed();\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 247, "end_line": 278, "language": "js", "text": "        if (editMode){\n            if (attribute === \"name\"){\n                setOpenedName(true);\n            }\n            else if (attribute === \"started\"){\n                setOpenedStarted(true);\n            }\n            else if (attribute === \"ends\"){\n                setOpenedEnds(true);\n            }\n            else if (attribute === \"buy_price\"){\n                setOpenedBuyPrice(true);\n            }\n            else if (attribute === \"currently\"){\n                setOpenedCurrently(true);\n            }\n            else if (attribute === \"location\"){\n                setOpenedLocation(true);\n            }\n            else if (attribute === \"country\"){\n                setOpenedCountry(true);\n            }\n            else if (attribute === \"description\"){\n                setOpenedDescription(true);\n            }\n            else if (attribute === \"coordinates\"){\n                setOpenedCoordinates(true);\n            }\n            else if (attribute === \"category\"){\n                setOpenedCategory(true);\n            }\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 3, "start_line": 290, "end_line": 306, "language": "js", "text": "         if ((Object.keys(selectedCategory).length > 0 )){\n \n            const body = {\n            furthermostCategoryId: selectedCategory.id,\n            }\n\n            const head={ headers:{\n                            accessToken: localStorage.getItem(\"accessToken\"),\n                            userId: itemObject.UserId\n                        }\n            } \n\n            axios.put(`https://localhost:33123/items/category/${itemObject.id}`, body, head).then((res)=>{\n            });\n\n            window.location.reload();\n         }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 4, "start_line": 324, "end_line": 350, "language": "js", "text": "        if (locationValue){\n            \n            if ( locationValue === itemObject.location ){\n                alert(\"You didn't change the location\");\n            }\n            else{\n\n                if (locationValue!=null){\n\n                    const body = {\n                        location: locationValue,\n                    }\n\n                    const head={ headers:{\n                                    accessToken: localStorage.getItem(\"accessToken\"),\n                                    userId: itemObject.UserId\n                                }\n                    } \n                    axios.put(`https://localhost:33123/items/location/${itemObject.id}`, body, head).then((res)=>{\n                    });\n\n                    // this so the changes are shown in the ui as well\n                    setItemObject({...itemObject, location: locationValue});\n\n                }\n            }\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 5, "start_line": 365, "end_line": 382, "language": "js", "text": "        if (Object.keys(coordinatesValue).length > 0 ){\n            var point = { type: 'Point', coordinates: [coordinatesValue.lat, coordinatesValue.lng]};\n            \n            const body = {\n                latitudeLongitude: point,\n            }\n\n            const head={ headers:{\n                            accessToken: localStorage.getItem(\"accessToken\"),\n                            userId: itemObject.UserId\n                        }\n            } \n\n            axios.put(`https://localhost:33123/items/coordinates/${itemObject.id}`, body, head).then((res)=>{\n            });\n\n            window.location.reload();\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 6, "start_line": 400, "end_line": 416, "language": "js", "text": "        if (nameValue){\n\n            const body = {\n                name: nameValue,\n            }\n\n            const head={ headers:{\n                accessToken: localStorage.getItem(\"accessToken\"),\n                userId: itemObject.UserId\n            }} \n            \n            axios.put(`https://localhost:33123/items/name/${itemObject.id}`, body, head).then((res)=>{\n            });\n\n            // this so the changes are shown in the ui as well\n            setItemObject({...itemObject, name: nameValue});\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 7, "start_line": 434, "end_line": 452, "language": "js", "text": "         if (descriptionValue){\n \n            const body = {\n                description: descriptionValue,\n            }\n\n            const head={ headers:{\n                            accessToken: localStorage.getItem(\"accessToken\"),\n                            userId: itemObject.UserId\n                        }\n            } \n\n            axios.put(`https://localhost:33123/items/description/${itemObject.id}`, body, head).then((res)=>{\n            });\n\n            // this so the changes are shown in the ui as well\n            setItemObject({...itemObject, description: descriptionValue});\n\n         }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 8, "start_line": 469, "end_line": 487, "language": "js", "text": "        if (countryValue){\n\n            const body = {\n                country: countryValue,\n            }\n\n            const head={ headers:{\n                accessToken: localStorage.getItem(\"accessToken\"),\n                userId: itemObject.UserId\n                }\n            } \n\n            axios.put(`https://localhost:33123/items/country/${itemObject.id}`, body, head).then((res)=>{\n            });\n\n            // this so the changes are shown in the ui as well\n            setItemObject({...itemObject, country: countryValue});\n\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 9, "start_line": 505, "end_line": 537, "language": "js", "text": "        if (startedValue){\n            \n            if ( Date.parse(startedValue)-Date.parse(new Date()) <= 0 ){\n                alert(\"Starting time can't be in the past.\");\n            }\n            else if(Date.parse(startedValue)-Date.parse(itemObject.ends) >= 0){\n                alert(\"Starting time can't be after the ending date\");\n            }\n            else{\n\n                if (startedValue!=null){\n\n                    \n                    const body = {\n                        started: startedValue,\n                    }\n\n                    const head={ headers:{\n                                    accessToken: localStorage.getItem(\"accessToken\"),\n                                    userId: itemObject.UserId\n                                }\n                    } \n\n                    axios.put(`https://localhost:33123/items/started/${itemObject.id}`, body, head).then((res)=>{\n                    });\n\n                    // this so the changes are shown in the ui as well\n                    setItemObject({...itemObject, started: startedValue});\n\n                }\n            }\n\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 10, "start_line": 554, "end_line": 586, "language": "js", "text": "        if (endsValue){\n            \n            if ( Date.parse(endsValue)-Date.parse(new Date()) <= 0 ){\n                alert(\"Ending time can't be in the past.\");\n            }\n            else if(Date.parse(endsValue)-Date.parse(itemObject.started) < 0){\n                alert(\"Ending time can't be before the starting date\");\n            }\n            else{\n\n                if (endsValue!=null){\n\n                    \n                    const body = {\n                        ends: endsValue,\n                    }\n\n                    const head={ headers:{\n                                    accessToken: localStorage.getItem(\"accessToken\"),\n                                    userId: itemObject.UserId\n                                }\n                    } \n                    // console.log(body);\n                    axios.put(`https://localhost:33123/items/ends/${itemObject.id}`, body, head).then((res)=>{\n                    });\n\n                    // this so the changes are shown in the ui as well\n                    setItemObject({...itemObject, ends: endsValue});\n\n                }\n            }\n\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 11, "start_line": 603, "end_line": 629, "language": "js", "text": "          if (buyPriceValue){\n              \n              if ( buyPriceValue <= itemObject.currently ){\n                  alert(\"Buy Price Has to be More than the current Price\");\n              }\n              else{\n\n                      \n                const body = {\n                    buy_price: buyPriceValue,\n                }\n\n                const head={ headers:{\n                                accessToken: localStorage.getItem(\"accessToken\"),\n                                userId: itemObject.UserId\n                            }\n                } \n                // console.log(body);\n                axios.put(`https://localhost:33123/items/buyprice/${itemObject.id}`, body, head).then((res)=>{\n                });\n\n                // this so the changes are shown in the ui as well\n                setItemObject({...itemObject, buy_price: buyPriceValue});\n  \n              }\n  \n          }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 12, "start_line": 647, "end_line": 676, "language": "js", "text": "          if (currentlyValue){\n              \n              if ( currentlyValue >= itemObject.buy_price ){\n                  alert(\"Current Value has to be less than the Buy Price\");\n              }\n              else{\n  \n                  if (currentlyValue!=null){\n  \n                      \n                      const body = {\n                          currently: currentlyValue,\n                      }\n  \n                      const head={ headers:{\n                                      accessToken: localStorage.getItem(\"accessToken\"),\n                                      userId: itemObject.UserId\n                                  }\n                      } \n                      // console.log(body);\n                      axios.put(`https://localhost:33123/items/currently/${itemObject.id}`, body, head).then((res)=>{\n                      });\n  \n                      // this so the changes are shown in the ui as well\n                      setItemObject({...itemObject, currently: currentlyValue});\n  \n                  }\n              }\n  \n          }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 13, "start_line": 701, "end_line": 703, "language": "js", "text": "            if (res.data.latitudeLongitude!==null){\n                setCoordinates(res.data.latitudeLongitude.coordinates);\n            }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 14, "start_line": 716, "end_line": 720, "language": "js", "text": "            if (res.data.UserId){\n                axios.get(`https://localhost:33123/auth/fetchy/${res.data.UserId}`).then((respo)=>{\n                    setSellerObject(respo.data);\n                });\n            }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 15, "start_line": 723, "end_line": 754, "language": "js", "text": "            if (res.data.UserId===authState.id){\n            \n                axios.get(`https://localhost:33123/bids/${id}`).then((response)=>{\n            \n                    setAllBids(response.data);\n                    console.log(response.data);\n                \n                });\n            \n            }\n            else{\n                \n                if (authState && authState.username!== \"admin\"){\n\n                    // if the user is signed in inform their history\n                    const body = {     \n                        userId: authState.id,\n                    };  \n\n                    const head={ \n                        headers:{\n                            accessToken: localStorage.getItem(\"accessToken\"),\n                        }\n                    }\n                    \n                    axios.post(`https://localhost:33123/history/click/${id}`, body, head).then((respirespi)=>{\n                    });\n                \n                }\n\n\n            }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Item.js", "chunk_id": 1, "subchunk_id": 16, "start_line": 764, "end_line": 769, "language": "js", "text": "        for (var bid=0;bid<allBids.length;bid++){\n            if(allBids[bid].id===params.id){\n                setOpen(false);\n                navigate(`/profile/${allBids[bid].UserId}`);\n            }\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Login.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 36, "language": "js", "text": "\nfunction Login() {\n\n    useEffect(() => {\n        window.scrollTo(0, 0)\n      }, [])\n\n    return (\n        \n        <motion.div className='loginME'  \n            initial={{width: 0}}\n            animate={{width: '80vw'}}\n            exit={{ width: '80vw', transition: {duration: 0.1 }}}\n        > \n\n            <Grid container  direction={\"row\"} spacing={1.35}>\n                <Grid item>\n                    <Typography sx={{ fontSize: 20, fontFamily: 'Futura', textAlign: 'center', color: '#00C9FF' }} gutterBottom>Already have an Account?</Typography>\n                    <LoginForm />\n                    <br />\n                    <br />\n                    <div style={{ marginLeft: 220 }}>\n                    <ShoppingBagIcon sx={{ fontSize: 100 , color: '#00C9FF' }}  /> \n                    </div>\n                    <Typography sx={{fontFamily: 'Futura', width: '100%'}} variant=\"h7\" component=\"h2\">Reasons to sign up with us</Typography>\n                    <Typography sx={{fontFamily: 'Futura', width: '100%'}} variant=\"h6\" component=\"h2\"> A wide variety of products to choose from </Typography>\n                    <Typography sx={{fontFamily: 'Futura', width: '100%'}} variant=\"h6\" component=\"h2\"> You are in control of the price of your listings </Typography>\n                    <Typography sx={{fontFamily: 'Futura', width: '100%'}} variant=\"h6\" component=\"h2\"> We don't share your data, your privacy is important </Typography>\n                    <br />"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Login.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 35, "end_line": 56, "language": "js", "text": "                    <Typography sx={{fontFamily: 'Futura', width: '100%'}} variant=\"h6\" component=\"h2\"> We don't share your data, your privacy is important </Typography>\n                    <br />\n                    <br />\n                    <div style={{ marginLeft: 220 }}>\n                    <AssignmentIndIcon sx={{ fontSize: 100, color: '#00C9FF' }} /> \n                    </div>\n                    <Typography sx={{fontFamily: 'Futura', width: '100%'}} variant=\"h7\" component=\"h2\">When you fill the application form</Typography>\n                    <Typography sx={{fontFamily: 'Futura', width: '100%'}} variant=\"h6\" component=\"h2\"> Make sure that the information is accurate</Typography>\n                    <Typography sx={{fontFamily: 'Futura', width: '100%'}} variant=\"h6\" component=\"h2\"> Choose a username that represents you</Typography>\n                    <Typography sx={{fontFamily: 'Futura', width: '100%'}} variant=\"h6\" component=\"h2\"> Don't use personal information for the password</Typography>\n                    <br />       \n                   \n                </Grid>\n                <Grid item>\n                    <Typography sx={{ fontSize: 20, fontFamily: 'Futura', textAlign: 'center', color: '#00C9FF' }} gutterBottom>Register for an Account!</Typography>\n                    <Registration />\n                </Grid>\n            </Grid>\n        \n        </motion.div>\n  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Login.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 55, "end_line": 56, "language": "js", "text": "  )\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Login.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 56, "end_line": 56, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\MailToggle.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 15, "end_line": 54, "language": "js", "text": "\nexport default function MailToggle() {\n  const [alignment, setAlignment] = React.useState('inbox');\n\n  const handleChange = (event, newAlignment) => {\n    setAlignment(newAlignment);\n  };\n\n  return (\n    <>\n      <div className='container'>\n        <Title title=\"Mail\" />\n    \n      </div>\n\n      <div className='container' style={{backgroundColor: 'white'}}>\n        <ToggleButtonGroup\n          color=\"success\"\n          value={alignment}\n          exclusive\n          onChange={handleChange}\n          aria-label=\"Platform\"\n        >\n          <ToggleButton value=\"message\"sx={{ fontFamily: 'Futura' }}><MailOutlineIcon />&nbsp;NEW MESSAGE</ToggleButton>\n          <ToggleButton value=\"inbox\" sx={{  fontFamily: 'Futura' }}><InboxIcon />&nbsp;INBOX</ToggleButton>\n          <ToggleButton value=\"outbox\" sx={{  fontFamily: 'Futura' }}><OutboxIcon />&nbsp;OUTBOX</ToggleButton>\n          <ToggleButton value=\"chats\" sx={{  fontFamily: 'Futura' }}><QuestionAnswerIcon />&nbsp;SALES</ToggleButton>\n          <ToggleButton value=\"reviews\"sx={{ fontFamily: 'Futura' }}><ReviewsIcon />&nbsp;PURCHASES</ToggleButton>\n        </ToggleButtonGroup>\n      </div>\n\n      <div style={{     minHeight: '90vh', width: '90%',\n\n        backgroundImage: `url(\"https://www.livechatdirectory.co.uk/wp-content/uploads/2022/09/sending-email-gif.gif\")`,\n        backgroundRepeat: 'repeat',\n        backgroundSize: '20%',\n        }}>\n\n      <div className='container'>\n        { alignment==='message' &&"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\MailToggle.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 53, "end_line": 73, "language": "js", "text": "      <div className='container'>\n        { alignment==='message' &&\n          <MailMessage />\n        }\n        { alignment==='inbox' &&\n          <MailInbox />\n        }\n        { alignment==='outbox' &&\n          <MailOutbox />\n        }\n        { alignment==='chats' &&\n          <MailChats />\n        }\n        { alignment==='reviews' &&\n          <MailPurchases />\n        } \n      </div>\n    </div>\n  </>\n  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\MailToggle.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 72, "end_line": 73, "language": "js", "text": "  );\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\MailToggle.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 73, "end_line": 73, "language": "js", "text": "}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Profile.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 56, "end_line": 78, "language": "js", "text": "                if(response.data.message){\n                    console.log(response.data.message);\n                    navigate('/');\n                }\n                else{\n            \n                    setUserInfo(response.data);\n\n                    if (response.data.latitudeLongitude!==null){\n                        setCoordinates(response.data.latitudeLongitude.coordinates);\n                    }\n\n                    axios.get(`https://localhost:33123/items/fetchByUser/${id}`).then((res)=>{\n                        const available = res.data.filter((value)=>{\n                            return (value.state==='AVAILABLE' );\n                        });\n                        setMyItems(available);\n        \n                    }).catch((error) => {\n                        console.log(error);\n                        navigate('/');\n                    });\n                }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Profile.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 93, "end_line": 110, "language": "js", "text": "        if (authState.username===\"admin\"){\n\n                var approvedl = [];\n                approvedl.push(userInfo.id);\n                const head={ headers:{\n                        accessToken: localStorage.getItem(\"accessToken\")\n                    }\n                }\n                axios.put(\"https://localhost:33123/auth/approve\", approvedl, head).then((res)=>{\n                    if (res.data.error){\n                        alert(\"There was an error!\");\n                    }\n                });\n\n                // Change to approved so the changes are shown in the ui as well dynamically\n                setUserInfo({...userInfo, approved: true});\n\n        }"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Users.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 47, "end_line": 107, "language": "js", "text": "\n// Displaying the Users to the admin and their information\nfunction Users() {\n\n  let navigate = useNavigate();\n\n  // The three required lists so that it can be updated dynamically\n  const [userList, setUserList] = useState([]);\n  const [notApprovedList, setNotApprovedList] = useState([]);\n  const [approvedList, setApprovedList] = useState([]);\n\n  useEffect(()=>{\n\n    const head = { headers: {\n        accessToken: localStorage.getItem(\"accessToken\")\n      }\n    }\n\n    axios.get(\"https://localhost:33123/auth\", head).then((res)=>{\n        setUserList(res.data);\n    });\n\n    axios.get(\"https://localhost:33123/auth/approve\", head).then((res)=>{\n      setNotApprovedList(res.data);\n    });\n  \n  }, [approvedList]);\n\n  const handleApprove =()=>{\n\n    if (approvedList.length!==0) {\n\n      const head={ headers:{\n              accessToken: localStorage.getItem(\"accessToken\")\n          }\n      }\n      \n      // Send the approve in the backend\n      axios.put(\"https://localhost:33123/auth/approve\", approvedList, head).then((res)=>{\n\n        if (res.data.error){\n          setErrorMessage(res.data.error)\n          handleClickAlertError();\n        }\n        else{\n          handleClickAlert();\n        }\n      });\n\n      // Make the changes here as well\n      setApprovedList([]);\n      setUserList([]);\n\n    }\n    setOpen(false);\n  }\n\n  // Pagination Information\n  const [pageNumber, setPageNumber] = useState(0);\n  const usersPerPage = 9;\n  const visitedPages = pageNumber * usersPerPage;"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Users.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 106, "end_line": 108, "language": "js", "text": "  const usersPerPage = 9;\n  const visitedPages = pageNumber * usersPerPage;\n  const pageCount = Math.ceil(userList.length / usersPerPage);"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Users.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 107, "end_line": 108, "language": "js", "text": "  const visitedPages = pageNumber * usersPerPage;\n  const pageCount = Math.ceil(userList.length / usersPerPage);"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Users.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 108, "end_line": 108, "language": "js", "text": "  const pageCount = Math.ceil(userList.length / usersPerPage);"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Users.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 107, "end_line": 152, "language": "js", "text": "  const visitedPages = pageNumber * usersPerPage;\n  const pageCount = Math.ceil(userList.length / usersPerPage);\n  const changePage = ({selected}) => {\n    setPageNumber(selected);\n  };\n\n  // Displaying the users of this particular page in the pagination\n  const displayUsers = userList.slice( visitedPages, visitedPages + usersPerPage ).map((value, key)=>{\n\n    return (\n      <div className='item' onClick={()=>{navigate(`/profile/${value.id}`)}}>\n        <div className='name'> {value.username} </div>\n        <div className='body'><UserCard userinfo={value} /></div>\n        <div className='footer gradient-custom'>\n          <div > {value.location}, {value.country} </div> \n          { value.approved ?\n            <><CheckCircleIcon style={{ color: 'teal' }}/></>\n            :\n            <><NotInterestedIcon style={{ color: 'teal' }}/></>\n          }\n        </div>\n      </div>\n    );\n    \n  });\n    \n  // For the alerts\n  const [openAlert, setOpenAlert] = React.useState(false);\n  const [errorMessage, setErrorMessage ]= React.useState(\"\");\n  const handleClickAlert = () => {\n    setOpenAlert(true);\n  };\n  const handleCloseAlertR = (event, reason) => {\n    setOpenAlert(false);\n    window.location.reload();\n  };\n\n  // For the error alerts\n  const [openAlertError, setOpenAlertError] = React.useState(false);\n  const handleClickAlertError = () => {\n    setOpenAlertError(true);\n  };\n  const handleCloseAlertError = (event, reason) => {\n    setOpenAlertError(false);\n  };\n"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Users.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 151, "end_line": 203, "language": "js", "text": "  };\n\n  // These are for the Modal\n  const [open, setOpen] = React.useState(false);\n  const handleOpen = () => setOpen(true);\n  const handleClose = () => {\n      setOpen(false);\n  }\n\n  return (\n    <>\n\n      <div className=\"container\"> \n        <Title title=\"Users\" />\n      </div>\n      <div className=\"container\">\n        <Header text=\"Click on a user profile for more details\" />\n      </div>\n\n      <div className=\"container\">\n        <button className='buttonito' onClick={handleOpen}>Check Applications</button>\n        <div className=\"container\">\n          \n          {/* The users in icons format */}\n          {displayUsers}\n\n          {/* The pagination */}\n          <ReactPaginate \n              previousLabel={\"<\"}\n              nextLabel={\">\"}\n              pageCount={pageCount}\n              onPageChange={changePage}\n              containerClassName={\"paginationButtons\"}\n              previousLinkClassName={\"previousButton\"}\n              nextLinkClassName={\"nextButton\"}\n              disabledClassName={\"paginationDisabled\"}\n              activeClassName={\"paginationActive\"}\n          />\n        \n        </div>\n\n      {/* Displaying in a modal the applications  */}\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n\n        <Box sx={style}>\n          <div className='headerito'>\n            <headerito>Users Awaiting Confirmation</headerito>\n          </div>"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Users.js", "chunk_id": 0, "subchunk_id": 6, "start_line": 202, "end_line": 238, "language": "js", "text": "            <headerito>Users Awaiting Confirmation</headerito>\n          </div>\n          <div style={{ height: 369, width: 1100 }}>\n            <DataGrid \n              sx={{ m: 2 ,\"& .MuiDataGrid-row:hover\": { backgroundColor: \"skyblue\" },}}\n              rows={notApprovedList}\n              columns={columns}\n              pageSize={5}\n              rowsPerPageOptions={[5]}\n              checkboxSelection\n              onSelectionModelChange={(data)=>{ setApprovedList(data); }}\n            />\n          </div>\n          <button className='buttonito' onClick={handleApprove}>Approve Selected</button>\n        </Box>\n\n       </Modal>\n\n        {/* Message alert */}\n        <Snackbar open={openAlert} autoHideDuration={6000} onClose={handleCloseAlertR}>\n          <Alert onClose={handleCloseAlertR} severity=\"success\" sx={{ width: '100%' }}>\n            Users succesfully approved!\n          </Alert>\n        </Snackbar>\n\n        {/* Error message alert */}\n        <Snackbar open={openAlertError} autoHideDuration={6000} onClose={handleCloseAlertError}>\n          <Alert onClose={handleCloseAlertError} severity=\"warning\" sx={{ width: '100%' }}>\n            {errorMessage}\n          </Alert>\n        </Snackbar>\n      \n      </div>\n    </>\n  );\n\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Users.js", "chunk_id": 0, "subchunk_id": 7, "start_line": 237, "end_line": 238, "language": "js", "text": "\n}"}
{"repo_name": "Auction-Website", "file_path": "Auction-Website\\code\\front\\src\\pages\\Users.js", "chunk_id": 0, "subchunk_id": 8, "start_line": 238, "end_line": 238, "language": "js", "text": "}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\amplify\\AmplifyModels.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 13, "language": "swift", "text": "  \n  public func registerModels(registry: ModelRegistry.Type) {\n    \n  }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\amplify\\Location+Schema.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 28, "language": "swift", "text": "  // MARK: - CodingKeys \n   public enum CodingKeys: String, ModelKey {\n    case latitude\n    case longitude\n    case name\n  }\n  \n  public static let keys = CodingKeys.self\n  //  MARK: - ModelSchema \n  \n  public static let schema = defineSchema { model in\n    let location = Location.keys\n    \n    model.listPluralName = \"Locations\"\n    model.syncPluralName = \"Locations\"\n    \n    model.fields(\n      .field(location.latitude, is: .required, ofType: .double),\n      .field(location.longitude, is: .required, ofType: .double),\n      .field(location.name, is: .required, ofType: .string)\n    )\n    }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\amplify\\Location.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 9, "language": "swift", "text": "// swiftlint:disable all\nimport Amplify\nimport Foundation\n\npublic struct Location: Embeddable {\n  var latitude: Double\n  var longitude: Double\n  var name: String\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\amplify\\Message+Schema.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 30, "language": "swift", "text": "  // MARK: - CodingKeys \n   public enum CodingKeys: String, ModelKey {\n    case id\n    case recipient\n    case text\n    case timestamp\n  }\n  \n  public static let keys = CodingKeys.self\n  //  MARK: - ModelSchema \n  \n  public static let schema = defineSchema { model in\n    let message = Message.keys\n    \n    model.listPluralName = \"Messages\"\n    model.syncPluralName = \"Messages\"\n    \n    model.fields(\n      .field(message.id, is: .required, ofType: .string),\n      .field(message.recipient, is: .required, ofType: .string),\n      .field(message.text, is: .required, ofType: .string),\n      .field(message.timestamp, is: .required, ofType: .dateTime)\n    )\n    }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\amplify\\Message.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 20, "language": "swift", "text": "// swiftlint:disable all\nimport Amplify\nimport Foundation\n\npublic struct Message: Model {\n  public let id: String\n  public var recipient: String\n  public var timestamp: Temporal.DateTime\n  public var text: String\n  \n  public init(id: String = UUID().uuidString,\n      recipient: String,\n      timestamp: Temporal.DateTime,\n      text: String) {\n      self.id = id\n      self.recipient = recipient\n      self.timestamp = timestamp\n      self.text = text\n  }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\amplify\\Place+Schema.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 32, "language": "swift", "text": "  // MARK: - CodingKeys \n   public enum CodingKeys: String, ModelKey {\n    case address\n    case latitude\n    case longitude\n    case name\n    case placeType\n  }\n  \n  public static let keys = CodingKeys.self\n  //  MARK: - ModelSchema \n  \n  public static let schema = defineSchema { model in\n    let place = Place.keys\n    \n    model.listPluralName = \"Places\"\n    model.syncPluralName = \"Places\"\n    \n    model.fields(\n      .field(place.address, is: .required, ofType: .string),\n      .field(place.latitude, is: .required, ofType: .double),\n      .field(place.longitude, is: .required, ofType: .double),\n      .field(place.name, is: .required, ofType: .string),\n      .field(place.placeType, is: .required, ofType: .enum(type: PlaceType.self))\n    )\n    }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\amplify\\Place.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 11, "language": "swift", "text": "// swiftlint:disable all\nimport Amplify\nimport Foundation\n\npublic struct Place: Embeddable {\n  var address: String\n  var latitude: Double\n  var longitude: Double\n  var name: String\n  var placeType: PlaceType\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\amplify\\PlaceType.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 9, "language": "swift", "text": "\npublic enum PlaceType: String, EnumPersistable {\n  case coffee\n  case food\n  case fuel\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\amplify\\Weather+Schema.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 30, "language": "swift", "text": "  // MARK: - CodingKeys \n   public enum CodingKeys: String, ModelKey {\n    case aqIndex\n    case latitude\n    case longitude\n    case temperature\n  }\n  \n  public static let keys = CodingKeys.self\n  //  MARK: - ModelSchema \n  \n  public static let schema = defineSchema { model in\n    let weather = Weather.keys\n    \n    model.listPluralName = \"Weathers\"\n    model.syncPluralName = \"Weathers\"\n    \n    model.fields(\n      .field(weather.aqIndex, is: .required, ofType: .double),\n      .field(weather.latitude, is: .required, ofType: .double),\n      .field(weather.longitude, is: .required, ofType: .double),\n      .field(weather.temperature, is: .required, ofType: .double)\n    )\n    }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\amplify\\Weather.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 10, "language": "swift", "text": "// swiftlint:disable all\nimport Amplify\nimport Foundation\n\npublic struct Weather: Embeddable {\n  var aqIndex: Double\n  var latitude: Double\n  var longitude: Double\n  var temperature: Double\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\CarPlaySceneDelegate.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 43, "language": "swift", "text": "\nclass CarPlaySceneDelegate: UIResponder, CPTemplateApplicationSceneDelegate {\n\n    var carWindow: CPWindow?\n    var interfaceController: CPInterfaceController?\n    \n    // services to receive location and messages\n    var locationService: LocationService?\n    var vehicleMessageService: VehicleMessageService?\n    \n    // templates for each screen type\n    var mapTemplate: CPMapTemplate?\n    var coffeeTemplate: CPListTemplate?\n    var fuelTemplate: CPListTemplate?\n    var foodTemplate: CPListTemplate?\n    var weatherTemplate: CPInformationTemplate?\n    \n    var vehicleMessageDisplayed = false\n    \n    func templateApplicationScene(_ templateApplicationScene: CPTemplateApplicationScene, didConnect interfaceController: CPInterfaceController, to window: CPWindow) {\n        \n        print(\"Connected to CarPlay.\")\n        \n        self.interfaceController = interfaceController\n        self.carWindow = window\n\n        // initialize the templates that display each screen\n        initTemplates()\n        \n        window.rootViewController = CarPlayMapView()\n        interfaceController.setRootTemplate(mapTemplate!, animated: true, completion: nil)\n\n        // initiate the services that provide data\n        self.locationService = LocationService()\n        self.locationService?.delegate = self\n        \n        self.vehicleMessageService = VehicleMessageService()\n        self.vehicleMessageService?.delegate = self\n    }\n    \n    func getMapBarButtons() -> [CPBarButton] {\n        "}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\CarPlaySceneDelegate.swift", "chunk_id": 0, "subchunk_id": 1, "start_line": 42, "end_line": 68, "language": "swift", "text": "    func getMapBarButtons() -> [CPBarButton] {\n        \n        // buttons for Weather and Places in the app main navbar\n        var buttons: [CPBarButton] = [CPBarButton]()\n        \n        buttons.append(CPBarButton(image: UIImage(systemName: \"mappin.circle.fill\")!, handler: { item in\n            print(\"places clicked\")\n            self.interfaceController?.pushTemplate(self.getPlacesGridTemplate(), animated: true, completion: nil)\n        }))\n\n        buttons.append(CPBarButton(image: UIImage(systemName: \"cloud.fill\")!, handler: { item in\n            print(\"weather clicked\")\n            self.interfaceController?.pushTemplate(self.weatherTemplate!, animated: true, completion: nil)\n        }))\n        \n        return buttons\n    }\n    \n    func getPlacesGridTemplate() -> CPGridTemplate {\n        \n        // buttons and actions displayed when user selects the Places icon in the main navbar\n        var gridButtons: [CPGridButton] = [CPGridButton]()\n        \n        gridButtons.append(CPGridButton(titleVariants: [\"Coffee\"], image: UIImage(named: \"poi\", in: Bundle.main, compatibleWith: self.carWindow?.rootViewController?.traitCollection)!, handler: { item in\n            self.interfaceController?.pushTemplate(self.coffeeTemplate!, animated: true, completion: nil)\n        }))\n        "}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\CarPlaySceneDelegate.swift", "chunk_id": 0, "subchunk_id": 2, "start_line": 67, "end_line": 95, "language": "swift", "text": "        }))\n        \n        gridButtons.append(CPGridButton(titleVariants: [\"Food\"], image: UIImage(named: \"poi\", in: Bundle.main, compatibleWith: self.carWindow?.rootViewController?.traitCollection)!, handler: { item in\n            self.interfaceController?.pushTemplate(self.foodTemplate!, animated: true, completion: nil)\n        }))\n        \n        gridButtons.append(CPGridButton(titleVariants: [\"Fuel\"], image: UIImage(named: \"poi\", in: Bundle.main, compatibleWith: self.carWindow?.rootViewController?.traitCollection)!, handler: { item in\n            self.interfaceController?.pushTemplate(self.fuelTemplate!, animated: true, completion: nil)\n        }))\n        \n        return CPGridTemplate(title: \"Places\", gridButtons: gridButtons)\n    }\n    \n    \n    func templateApplicationScene(_ templateApplicationScene: CPTemplateApplicationScene, didDisconnect interfaceController: CPInterfaceController, from window: CPWindow) {\n\n        print(\"Disconnected from CarPlay.\")\n        self.vehicleMessageService?.cancelSubscription()\n        self.interfaceController = nil\n    }\n    \n    func initTemplates() {\n        \n        // initialize the templates with their title and empty data\n        self.mapTemplate = CPMapTemplate()\n        self.mapTemplate?.trailingNavigationBarButtons.append(contentsOf: getMapBarButtons())\n        \n        self.coffeeTemplate = CPListTemplate(title: \"Coffee\", sections: [CPListSection(items: [])])\n        "}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\CarPlaySceneDelegate.swift", "chunk_id": 0, "subchunk_id": 3, "start_line": 94, "end_line": 122, "language": "swift", "text": "        self.coffeeTemplate = CPListTemplate(title: \"Coffee\", sections: [CPListSection(items: [])])\n        \n        self.fuelTemplate = CPListTemplate(title: \"Fuel\", sections: [CPListSection(items: [])])\n        \n        self.foodTemplate = CPListTemplate(title: \"Food\", sections: [CPListSection(items: [])])\n        \n        self.weatherTemplate = CPInformationTemplate(title: \"Weather\", layout: CPInformationTemplateLayout.twoColumn, items: [], actions: [])\n        \n    }\n    \n    func getPlaces (template: CPListTemplate, latitude: Double, longitude: Double, placeType: PlaceType) async {\n        \n        // call the Data Service to retrieve the requested PlaceTypes for the user's current location\n        // and update the provided places template\n        \n        var listItems: [CPListItem] = [CPListItem]()\n        \n        Task {\n            // call the Data Service to retrieve the weather for the user's current location and update the weatherTemplate\n            do {\n                let places = try await DataService().getPlaces(placeType: placeType, latitude: latitude, longitude: longitude, maxResults: 3)\n                \n                for place in places {\n                    let item = CPListItem(text: place.name, detailText: place.address)\n\n                    item.handler = { item, completion in\n                        self.interfaceController?.popToRootTemplate(animated: true) {_, _ in\n\n                            // display an alert to select this destination"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\CarPlaySceneDelegate.swift", "chunk_id": 0, "subchunk_id": 4, "start_line": 121, "end_line": 152, "language": "swift", "text": "\n                            // display an alert to select this destination\n                            // future functionality would be to initiate navigation directions\n                            let alert = CPNavigationAlert(\n                                titleVariants: [place.name],\n                                subtitleVariants: [place.address],\n                                image: nil,\n                                primaryAction: CPAlertAction(title: \"Go\", style: CPAlertAction.Style.default, handler: {_ in }),\n                                secondaryAction: nil,\n                                duration: TimeInterval(20))\n\n                            self.mapTemplate?.present(navigationAlert: alert, animated: true)\n                        }\n                    }\n\n                    listItems.append(item)\n                }\n                \n                template.updateSections([CPListSection(items: listItems)])\n            } catch {\n                print(\"Error fetching places: \\(error)\")\n            }\n        }\n    }\n    \n    func getWeather (template: CPInformationTemplate, latitude: Double, longitude: Double, city: String) async {\n        \n        Task {\n            // call the Data Service to retrieve the weather for the user's current location and update the weatherTemplate\n            do {\n                let result = try await DataService().getWeather(latitude: latitude, longitude: longitude)\n                template.items.removeAll()"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\CarPlaySceneDelegate.swift", "chunk_id": 0, "subchunk_id": 5, "start_line": 151, "end_line": 179, "language": "swift", "text": "                let result = try await DataService().getWeather(latitude: latitude, longitude: longitude)\n                template.items.removeAll()\n                template.items.append(CPInformationItem(title: \"City\", detail: city))\n                template.items.append(CPInformationItem(title: \"Temperature\", detail: String(result.temperature)))\n                template.items.append(CPInformationItem(title: \"Air Quality Index\", detail: String(result.aqIndex)))\n            } catch {\n                print(\"Error fetching weather: \\(error)\")\n            }\n        }\n    }\n}\n\nextension CarPlaySceneDelegate: LocationServiceDelegate {\n    \n    // event fired from the location service every time the user's location changes by 1/2 mile\n    // update template content based on the user's new location\n    \n    func locationService(latitude: Double, longitude: Double, city: String) {\n        Task {\n            await getWeather(template: self.weatherTemplate!, latitude: latitude, longitude: longitude, city: city)\n            await getPlaces(template: self.coffeeTemplate!, latitude: latitude, longitude: longitude, placeType: PlaceType.coffee)\n            await getPlaces(template: self.fuelTemplate!, latitude: latitude, longitude: longitude, placeType: PlaceType.fuel)\n            await getPlaces(template: self.foodTemplate!, latitude: latitude, longitude: longitude, placeType: PlaceType.food)\n        }\n    }\n}\n\nextension CarPlaySceneDelegate: VehicleMessageServiceDelegate {\n    "}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\CarPlaySceneDelegate.swift", "chunk_id": 0, "subchunk_id": 6, "start_line": 178, "end_line": 203, "language": "swift", "text": "extension CarPlaySceneDelegate: VehicleMessageServiceDelegate {\n    \n    // event fired when a new message is received from the vehicle message subscription\n    // display the message as an Alert template\n    \n    func vehicleMessageService(message: String) {\n        \n        print(\"CarPlay received message from Cloud: \\(message)\")\n        \n        if (!self.vehicleMessageDisplayed){\n            \n            let okAction = CPAlertAction(title: \"OK\", style: CPAlertAction.Style.default, handler: {item in\n                print(\"OK button pressed\")\n                self.interfaceController?.dismissTemplate(animated: true, completion: nil)\n                self.vehicleMessageDisplayed = false\n            })\n            \n            let actionTemplate = CPActionSheetTemplate(title: \"New Message\", message: message, actions: [okAction])\n\n            self.interfaceController?.presentTemplate(actionTemplate,animated: true, completion: nil)\n            \n            self.vehicleMessageDisplayed = true\n        }\n    }\n}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\CarPlaySceneDelegate.swift", "chunk_id": 0, "subchunk_id": 7, "start_line": 202, "end_line": 203, "language": "swift", "text": "}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\mobileApp.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 30, "language": "swift", "text": "import SwiftUI\nimport Amplify\nimport AWSAPIPlugin\n\n@main\nstruct mobileApp: App {\n    \n    init() {\n        configureAmplify()\n    }\n    \n    var body: some Scene {\n        WindowGroup {\n            ContentView()\n        }\n    }\n}\n\nfunc configureAmplify() {\n\n    do {\n        try Amplify.add(plugin: AWSAPIPlugin(modelRegistration: AmplifyModels()))\n        try Amplify.configure()\n        print(\"Initialized Amplify\");\n    } catch {\n        // simplified error handling for the tutorial\n        print(\"Could not initialize Amplify: \\(error)\")\n    }\n}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\DataService.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 43, "language": "swift", "text": "\n// functions that interact with the AppSync cloud api\nclass DataService {\n \n    // function to call Appsync API to retrieve current location based on provided latitude and longitude\n    func getCity(latitude: Double, longitude: Double) async throws-> Location  {\n\n        do {\n            let result = try await Amplify.API.query(request: .getCity(latitude: latitude, longitude: longitude))\n\n            switch result {\n            case .success(let item):\n                return item\n            case .failure(let error):\n                throw error\n            }\n            \n        } catch {\n            throw error\n        }\n    }\n    \n    // function to call AppSync API and retrieve the weather based on provided latitude and longitude\n    func getWeather(latitude: Double, longitude: Double) async throws -> Weather  {\n        \n        do {\n            let result = try await Amplify.API.query(request: .getWeather(latitude: latitude, longitude: longitude))\n\n            switch result {\n            case .success(let item):\n                return item\n            case .failure(let error):\n                throw error\n            }\n            \n        } catch {\n            throw error\n        }\n    }\n\n    // function to call Appsync API to retrieve points of interest for a PlaceType based on provided latitude and longitude\n    // passing in a PlaceType of city will return the current city based on provided latitude and longitude"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\DataService.swift", "chunk_id": 0, "subchunk_id": 1, "start_line": 42, "end_line": 60, "language": "swift", "text": "    // function to call Appsync API to retrieve points of interest for a PlaceType based on provided latitude and longitude\n    // passing in a PlaceType of city will return the current city based on provided latitude and longitude\n    func getPlaces(placeType: PlaceType, latitude: Double, longitude: Double, maxResults: Int) async throws-> [Place]  {\n\n        do {\n            let result = try await Amplify.API.query(request: .getPlaces(placeType: placeType, latitude: latitude, longitude: longitude, maxResults: maxResults))\n\n            switch result {\n            case .success(let item):\n                return item\n            case .failure(let error):\n                throw error\n            }\n            \n        } catch {\n            throw error\n        }\n    }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\DataService.swift", "chunk_id": 0, "subchunk_id": 2, "start_line": 59, "end_line": 60, "language": "swift", "text": "    }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\DataService.swift", "chunk_id": 0, "subchunk_id": 3, "start_line": 60, "end_line": 60, "language": "swift", "text": "}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\LocationService.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 16, "language": "swift", "text": "\n// the Location service utilizes CoreLocation to monitor the movement of the user\n// updates are published every 1/2 mile (800 meters)\nclass LocationService: NSObject, ObservableObject {\n    \n    weak var delegate:LocationServiceDelegate?\n    "}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\LocationService.swift", "chunk_id": 1, "subchunk_id": 0, "start_line": 16, "end_line": 67, "language": "swift", "text": "    \n    override init() {\n        super.init()\n        self.locationManager.delegate = self\n        self.locationManager.desiredAccuracy = kCLLocationAccuracyBest\n        self.locationManager.distanceFilter = 800\n        self.locationManager.requestWhenInUseAuthorization()\n        self.locationManager.startUpdatingLocation()\n    }\n\n    // variables the LocationManager publishes top consumers\n    @Published var locationStatus: CLAuthorizationStatus? {\n        willSet {\n            objectWillChange.send()\n        }\n    }\n\n    @Published var lastLocation: CLLocation? {\n        willSet {\n            objectWillChange.send()\n        }\n    }\n    \n    @Published var latitude: Double = 0\n    @Published var longitude: Double = 0\n    @Published var city = \"\"\n    \n    var statusString: String {\n        guard let status = locationStatus else {\n            return \"unknown\"\n        }\n\n        switch status {\n            case .notDetermined: return \"notDetermined\"\n            case .authorizedWhenInUse: return \"authorizedWhenInUse\"\n            case .authorizedAlways: return \"authorizedAlways\"\n            case .restricted: return \"restricted\"\n            case .denied: return \"denied\"\n            default: return \"unknown\"\n        }\n\n    }\n    \n    let objectWillChange = PassthroughSubject<Void, Never>()\n\n    private let locationManager = CLLocationManager()\n    \n    func stopUpdatingLocation(){\n        self.locationManager.stopUpdatingLocation()\n    }\n}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\LocationService.swift", "chunk_id": 1, "subchunk_id": 1, "start_line": 66, "end_line": 95, "language": "swift", "text": "}\n\n// delegate to handle events fired by CoreLocation\nextension LocationService: CLLocationManagerDelegate {\n\n    // event received when the user's Location authorization status changes\n    func locationManager(_ manager: CLLocationManager, didChangeAuthorization status: CLAuthorizationStatus){\n        self.locationStatus = status\n    }\n\n    // event received when the user's Location changes\n    func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) {\n        guard let location = locations.last else { return }\n        \n        self.lastLocation = location\n        self.latitude = location.coordinate.latitude\n        self.longitude = location.coordinate.longitude\n        \n        Task {\n            do {\n                let result = try await DataService().getCity(latitude: self.latitude, longitude: self.longitude)\n                self.city = result.name\n                self.delegate?.locationService(latitude: self.latitude, longitude: self.longitude, city: self.city)\n            } catch {\n                print(\"Error fetching location: \\(error)\")\n            }\n        }\n    }\n}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\LocationService.swift", "chunk_id": 1, "subchunk_id": 2, "start_line": 94, "end_line": 95, "language": "swift", "text": "}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\Message+Extensions.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "swift", "text": "// extension to the VehicleMessage to make it Identifiable and bindable to a view List\nextension Message: Identifiable {\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\PlaceType+Extensions.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 10, "language": "swift", "text": "extension PlaceType: Identifiable {\n    \n    public var id: String {\n        return self.rawValue\n    }\n    \n    public static var poiPlaces: [PlaceType] {\n        return [.fuel, .coffee, .food]\n    }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\Queries.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 23, "language": "swift", "text": "\n    static func getCity(latitude: Double, longitude: Double) -> GraphQLRequest<Location> {\n        let operationName = \"getCity\"\n        let document = \"\"\"\n        query \\(operationName) {\n          \\(operationName)(latitude: \\(latitude), longitude: \\(longitude)) {\n            name\n            latitude\n            longitude\n          }\n        }\n        \"\"\"\n        \n        return GraphQLRequest<Location>(\n            document: document,\n            responseType: Location.self,\n            decodePath: operationName)\n    }\n    "}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\Queries.swift", "chunk_id": 1, "subchunk_id": 0, "start_line": 23, "end_line": 42, "language": "swift", "text": "    \n    static func getWeather(latitude: Double, longitude: Double) -> GraphQLRequest<Weather> {\n        let operationName = \"getWeather\"\n        let document = \"\"\"\n        query \\(operationName) {\n          \\(operationName)(latitude: \\(latitude), longitude: \\(longitude)) {\n            aqIndex\n            temperature\n            latitude\n            longitude\n          }\n        }\n        \"\"\"\n        \n        return GraphQLRequest<Weather>(\n            document: document,\n            responseType: Weather.self,\n            decodePath: operationName)\n    }\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\Queries.swift", "chunk_id": 2, "subchunk_id": 0, "start_line": 42, "end_line": 62, "language": "swift", "text": "\n    static func getPlaces(placeType: PlaceType, latitude: Double, longitude: Double, maxResults: Int) -> GraphQLRequest<[Place]> {\n        let operationName = \"getPlaces\"\n        let document = \"\"\"\n        query \\(operationName) {\n          \\(operationName)(placeType: \\(placeType), latitude: \\(latitude), longitude: \\(longitude), maxResults: \\(maxResults)) {\n            placeType\n            name\n            address\n            latitude\n            longitude\n          }\n        }\n        \"\"\"\n        \n        return GraphQLRequest<[Place]>(\n            document: document,\n            responseType: [Place].self,\n            decodePath: operationName)\n    }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\Subscriptions.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 25, "language": "swift", "text": "    \n    static func onCreateMessage(recipient: String) -> GraphQLRequest<Message> {\n        let operationName = \"onCreateMessage\"\n        let document = \"\"\"\n        subscription \\(operationName) {\n          \\(operationName)(recipient: \"\\(recipient)\") {\n            id\n            text\n            recipient\n            timestamp\n          }\n        }\n        \"\"\"\n        \n        return GraphQLRequest<Message>(\n            document: document,\n            responseType: Message.self,\n            decodePath: operationName)\n    }\n}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\VehicleMessageService.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 19, "language": "swift", "text": "\nclass VehicleMessageService: NSObject, ObservableObject {\n    \n    // in a production app this will come from the authenticated username or vehicle registration\n    // for this sample we will hard code the vehicle identifier\n    let recipient = \"Vehicle1\"\n    \n    weak var delegate:VehicleMessageServiceDelegate?\n    var subscription: AmplifyAsyncThrowingSequence<GraphQLSubscriptionEvent<Message>> = AmplifyAsyncThrowingSequence<GraphQLSubscriptionEvent<Message>>()\n    "}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\VehicleMessageService.swift", "chunk_id": 1, "subchunk_id": 0, "start_line": 19, "end_line": 53, "language": "swift", "text": "    \n    override init() {\n        super.init()\n        startSubscription()\n    }\n    \n    // ObservedObject for iOS views to subscribe to for new messages as they are received from the Cloud\n    // messages is an array of all messages received from the subscription\n    @Published var messages: [Message] = [Message]()\n    \n    func startSubscription() {\n        subscription = Amplify.API.subscribe(request: .onCreateMessage(recipient: recipient))\n        Task {\n            do {\n                for try await subscriptionEvent in subscription {\n                    switch subscriptionEvent {\n                    case .connection(let subscriptionConnectionState):\n                        print(\"Subscription connect state is \\(subscriptionConnectionState)\")\n                    case .data(.success(let createdItem)):\n                        print(\"Successfully received message from subscription\")\n                        DispatchQueue.main.async {\n                            self.messages.append(createdItem)\n                            self.delegate?.vehicleMessageService(message: createdItem.text)\n                        }\n                    case .data(.failure(let error)):\n                        print(\"Failed subscription result with \\(error.errorDescription)\")\n                    }\n                }\n            } catch {\n                print(\"Subscription has terminated with \\(error)\")\n            }\n        }\n    }\n    \n    func cancelSubscription() {"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\VehicleMessageService.swift", "chunk_id": 1, "subchunk_id": 1, "start_line": 52, "end_line": 58, "language": "swift", "text": "    \n    func cancelSubscription() {\n        print(\"Cancelling subscription\")\n        subscription.cancel();\n    }\n}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Services\\VehicleMessageService.swift", "chunk_id": 1, "subchunk_id": 2, "start_line": 57, "end_line": 58, "language": "swift", "text": "}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\CarPlayMapView.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 5, "language": "swift", "text": "\nclass CarPlayMapView: UIViewController {\n    var mapView: MKMapView?\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\CarPlayMapView.swift", "chunk_id": 1, "subchunk_id": 0, "start_line": 5, "end_line": 30, "language": "swift", "text": "\n    override func viewDidLoad() {\n        super.viewDidLoad()\n\n        print(\"loading the carplay mapview\")\n\n        let region = MKCoordinateRegion(\n            center: CLLocationCoordinate2D(latitude: 0, longitude: 0),\n            span: MKCoordinateSpan(latitudeDelta: 0.5, longitudeDelta: 0.5)\n        )\n        \n        self.mapView = MKMapView(frame: view.bounds)\n        self.mapView!.setRegion(region, animated: true)\n        self.mapView!.showsUserLocation = true\n        self.mapView!.setUserTrackingMode(.follow, animated: true)\n        self.mapView!.overrideUserInterfaceStyle = .light\n        \n        self.mapView!.translatesAutoresizingMaskIntoConstraints = false\n        self.view.addSubview(self.mapView!)\n\n        self.mapView!.topAnchor.constraint(equalTo: view.topAnchor).isActive = true\n        self.mapView!.rightAnchor.constraint(equalTo: view.rightAnchor).isActive = true\n        self.mapView!.bottomAnchor.constraint(equalTo: view.bottomAnchor).isActive = true\n        self.mapView!.leftAnchor.constraint(equalTo: view.leftAnchor).isActive = true\n    }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\ContentView.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 11, "language": "swift", "text": "import SwiftUI\n\nstruct ContentView: View {\n    var body: some View {\n        MapView()\n    }\n}\n\n#Preview {\n    ContentView()\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\FormButton.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 21, "language": "swift", "text": "import SwiftUI\n\n// button object for the modal sheets\nstruct FormButton: View {\n\n    var label: String\n    var action: () -> Void\n\n    var body: some View {\n            Button(action: action) {\n                Text(label)\n                    .font(.custom(\"button\", fixedSize: 16))\n                    .padding()\n                    .background(Color.blue)\n                    .cornerRadius(10)\n                    .foregroundColor(.white)\n                    .padding(2)\n            }\n    }\n}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\LoadingView.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 18, "language": "swift", "text": "import SwiftUI\n\n// activity indicator with a label to display while an api call is waiting for results\nstruct LoadingView: View {\n    \n    var label = \"Loading...\"\n    var fontSize: CGFloat = 24\n    \n    var body: some View {\n        VStack(alignment: .center, spacing: 20) {\n            Text(label)\n                .padding(.top, 75)\n                .font(Font.system(size:fontSize))\n            ProgressView()\n        }\n    }\n}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\MapButton.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 19, "language": "swift", "text": "import SwiftUI\n\n// buttons with system images displayed on the MapView\nstruct MapButton: View {\n\n    var image: String\n    var action: () -> Void\n\n    var body: some View {\n            Button(action: action) {\n            Image(systemName: image)\n                .font(.title)\n                .frame(width: 60, height: 60, alignment: .center)\n                .background(Color.gray)\n                .clipShape(Circle())\n                .foregroundColor(.white)\n            }\n    }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\MapView.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 38, "language": "swift", "text": "import SwiftUI\nimport MapKit\n\n// the main iOS view that displays the Map, the user's current location and action buttons\nstruct MapView: View {\n    \n    // set the initial map region to user location\n    @State private var position: MapCameraPosition = .userLocation(fallback: .automatic)\n\n    // subscribe to the user's current location\n    @ObservedObject var locationService = LocationService()\n\n    // subscribe to vehicle messages from the Cloud\n    @ObservedObject var vehicleMessageService = VehicleMessageService()\n\n    // state variables to control the visibility of modal sheets\n    @State private var showWeatherView = false\n    @State private var showPOIView = false\n    @State private var showMessagesView = false\n    \n    var body: some View {\n        ZStack {\n            Map(position: $position){\n            }\n            VStack {\n                Spacer()\n                Text(locationService.city)\n                    .font(.title)\n                    .padding(.bottom, 20)\n                HStack {\n                    MapButton(image: \"cloud.fill\", action: {showWeatherView.toggle()})\n                        .sheet(isPresented: $showWeatherView) {\n                            WeatherView(\n                                showView: $showWeatherView,\n                                latitude: locationService.latitude,\n                                longitude: locationService.longitude,\n                                city: locationService.city\n                            )"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\MapView.swift", "chunk_id": 0, "subchunk_id": 1, "start_line": 37, "end_line": 62, "language": "swift", "text": "                                city: locationService.city\n                            )\n                        }\n                    MapButton(image: \"mappin.circle\", action: {showPOIView.toggle()})\n                        .sheet(isPresented: $showPOIView) {\n                            PlacesView(\n                                showView: $showPOIView,\n                                latitude: locationService.latitude,\n                                longitude: locationService.longitude\n                            )\n                        }\n                    MapButton(image: \"text.bubble\", action: {showMessagesView.toggle()})\n                        .sheet(isPresented: $showMessagesView) {\n                            MessagesView(\n                                showView: $showMessagesView,\n                                messages: $vehicleMessageService.messages\n                            )\n                        }\n                }\n                .onDisappear {\n                    vehicleMessageService.cancelSubscription()\n                }\n            }\n        }\n    }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\MapView.swift", "chunk_id": 0, "subchunk_id": 2, "start_line": 61, "end_line": 62, "language": "swift", "text": "    }\n}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\MapView.swift", "chunk_id": 0, "subchunk_id": 3, "start_line": 62, "end_line": 62, "language": "swift", "text": "}"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\MessagesView.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 36, "language": "swift", "text": "import SwiftUI\n\n// sheet view that displays cloud subscription messages received from the AppSync API\nstruct MessagesView: View {\n    \n    @Binding var showView: Bool\n    @Binding var messages: [Message]\n    \n    var body: some View {\n        Text(\"Messages\")\n            .padding(20)\n            .font(.title)\n            .frame(maxWidth: .infinity, alignment: .leading)\n        VStack(alignment: .center, spacing: 20) {\n            if messages.isEmpty {\n                Text(\"You have no messages\")\n                    .padding(.top, 100)\n                    .font(Font.system(size:20))\n            } else {\n                List {\n                    ForEach (messages) { item in\n                        Text(item.text)\n                    }\n                }\n            }\n            Spacer()\n            HStack {\n                FormButton(label: \"Dismiss\", action: {showView.toggle()})\n                if !messages.isEmpty  {\n                    FormButton(label: \"Clear\", action: {messages.removeAll()})\n                }\n            }\n        }\n    }\n}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\PlacesView.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 46, "language": "swift", "text": "import SwiftUI\n\n// sheet view that displays local points of interest based on the user's current location\nstruct PlacesView: View {\n    \n    struct PlaceItem: Identifiable {\n        let id = UUID()\n        let name: String\n        let address: String\n    }\n    \n    @Binding var showView: Bool\n    var latitude: Double\n    var longitude: Double\n    \n    @State private var places: [PlaceItem] = []\n    @State private var selectedPlaceType: PlaceType = PlaceType.fuel\n    @State private var isFetching = true\n    \n    var body: some View {\n        Text(\"Places\")\n            .padding(20)\n            .font(.title)\n            .frame(maxWidth: .infinity, alignment: .leading)\n        \n        VStack(alignment: .center, spacing: 20) {\n            HStack (spacing: 20){\n                ForEach(PlaceType.poiPlaces) { type in\n                    let label = type.rawValue.capitalized\n                    \n                    if selectedPlaceType == type {\n                        PlaceTypeText(label: label)\n                    } else {\n                        Button(label, action: {\n                            Task {\n                                await fetch(placeType: type)\n                            }\n                        })\n                    }\n                }\n            }\n            if isFetching {\n                LoadingView(label: \"Searching nearby places\", fontSize: 18)\n            } else {\n                List {\n                    ForEach (places) { item in"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\PlacesView.swift", "chunk_id": 0, "subchunk_id": 1, "start_line": 45, "end_line": 80, "language": "swift", "text": "                List {\n                    ForEach (places) { item in\n                        VStack(alignment: .leading) {\n                            Text(item.name)\n                            Text(item.address)\n                                .font(Font.system(size:14))\n                        }\n                    }\n                }\n            }\n            Spacer()\n            FormButton(label: \"Dismiss\", action: {showView.toggle()}\n            ).onAppear {\n                Task {\n                    await fetch(placeType: selectedPlaceType)\n                }\n            }\n        }\n    }\n        \n    // view to display the selected place type\n    struct PlaceTypeText: View {\n\n        var label: String\n\n        var body: some View {\n            Text(label)\n               .font(.custom(\"button\", fixedSize: 16))\n               .padding(10)\n               .background(Color.blue)\n               .cornerRadius(10)\n               .foregroundColor(.white)\n        }\n    }\n        \n    // function to call the Data Service and retrieve the closest places based on the requested PlaceType and the user's location"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\PlacesView.swift", "chunk_id": 0, "subchunk_id": 2, "start_line": 79, "end_line": 80, "language": "swift", "text": "        \n    // function to call the Data Service and retrieve the closest places based on the requested PlaceType and the user's location"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\PlacesView.swift", "chunk_id": 0, "subchunk_id": 3, "start_line": 80, "end_line": 80, "language": "swift", "text": "    // function to call the Data Service and retrieve the closest places based on the requested PlaceType and the user's location"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\PlacesView.swift", "chunk_id": 1, "subchunk_id": 0, "start_line": 79, "end_line": 103, "language": "swift", "text": "        \n    // function to call the Data Service and retrieve the closest places based on the requested PlaceType and the user's location\n    func fetch(placeType: PlaceType) async {\n        \n        self.selectedPlaceType = placeType\n        \n        places.removeAll()\n        \n        isFetching = true\n        \n        do {\n            let result = try await DataService().getPlaces(placeType: placeType, latitude: latitude, longitude: longitude, maxResults: 5)\n            for p in result {\n                places.append(PlaceItem(name: p.name, address: p.address))\n            }\n        } catch {\n            print(\"Error fetching places: \\(error)\")\n        }\n        \n        isFetching = false\n    }\n}\n\n\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\WeatherView.swift", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 50, "language": "swift", "text": "import SwiftUI\n\n// sheet view that displays the weather based on the user's current location\nstruct WeatherView: View {\n    \n    @Binding var showView: Bool\n    \n    var latitude: Double\n    var longitude: Double\n    var city: String\n    \n    @State var aqIndex: Double = 0\n    @State var temperature: Double = 0\n    @State var isFetching: Bool = true\n    \n    var body: some View {\n        Text(\"Weather\")\n            .padding(20)\n            .font(.title)\n            .frame(maxWidth: .infinity, alignment: .leading)\n        VStack(alignment: .center, spacing: 20) {\n            if (isFetching) {\n                LoadingView(label: \"Determining the weather\")\n            } else {\n                Text(city)\n                    .font(.largeTitle)\n                    .padding(.top, 75)\n                Text(\"Temperature\")\n                    .font(.title)\n                    .padding(.top, 50)\n                Text(String(temperature))\n                    .font(.title)\n                Text(\"Air Quality Index\")\n                    .font(.title)\n                    .padding(.top, 10)\n                Text(String(aqIndex))\n                    .font(.title)\n            }\n            Spacer()\n            FormButton(label: \"Dismiss\", action: {showView.toggle()})\n        }\n        .onAppear {\n            Task {\n                await fetch()\n            }\n        }\n    }\n    \n    // function to call the Data Service and retrieve the weather for the user's current location\n    func fetch() async {"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\WeatherView.swift", "chunk_id": 0, "subchunk_id": 1, "start_line": 49, "end_line": 65, "language": "swift", "text": "    // function to call the Data Service and retrieve the weather for the user's current location\n    func fetch() async {\n        \n        isFetching = true\n        \n        do {\n            let result = try await DataService().getWeather(latitude: latitude, longitude: longitude)\n            aqIndex = result.aqIndex\n            temperature = result.temperature\n        } catch {\n            print(\"Error fetching weather: \\(error)\")\n        }\n\n        isFetching = false\n    }\n}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\mobile\\Views\\WeatherView.swift", "chunk_id": 0, "subchunk_id": 2, "start_line": 64, "end_line": 65, "language": "swift", "text": "}\n"}
{"repo_name": "aws-serverless-fullstack-swift-apple-carplay-example", "file_path": "aws-serverless-fullstack-swift-apple-carplay-example\\code\\mobile\\scripts\\amplify-config.sh", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 23, "language": "sh", "text": "ENDPOINT=$1\nAPI_KEY=$2\nREGION=$3\n\ncat << EOF > amplify/amplifyconfiguration.json \n{\n    \"UserAgent\": \"aws-amplify-cli/2.0\",\n    \"Version\": \"1.0\",\n    \"api\": {\n        \"plugins\": {\n            \"awsAPIPlugin\": {\n                \"swiftcarplaylocation\": {\n                    \"endpointType\": \"GraphQL\",\n                    \"endpoint\": \"$ENDPOINT\",\n                    \"region\": \"$REGION\",\n                    \"authorizationType\": \"API_KEY\",\n                    \"apiKey\": \"$API_KEY\"\n                }\n            }\n        }\n    }\n}\nEOF"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\config_backend.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "py", "text": "debug = True"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\flask_frontend.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 23, "end_line": 33, "language": "py", "text": "def log_error(*args):\n    s = \"[\" + time.strftime(\"%d-%m %H:%M:%S\") + \" IST]   \"\n    for arg in args:\n        s += str(arg) + \" \"\n    s += \"\\n\\n\"\n\n    if debug:\n        print(s)\n    else:\n        with open(os.path.join(os.getcwd(), \"error_logs\", \"flask.log\"), \"a+\") as f:\n            f.write(s)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\flask_frontend.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 34, "end_line": 42, "language": "py", "text": "\n# function to join all the websites\n\n\ndef ans_len(lst):\n    length = 0\n    for s in ans_len:\n        length += len(s)\n    return length"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\flask_frontend.py", "chunk_id": 2, "subchunk_id": 0, "start_line": 64, "end_line": 65, "language": "py", "text": "def main():\n    return render_template(\"index.html\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\flask_frontend.py", "chunk_id": 3, "subchunk_id": 0, "start_line": 69, "end_line": 81, "language": "py", "text": "def get_question():\n    try:\n        img = request.get_json()\n\n        question = OCR.text_from_image(img['img'])\n        # question = \"brainly man running\"\n\n        print(f\"\\n\\n\\n\\n, [QUESTION]: {question}\\n\\n\\n\")\n\n        return jsonify({'question': question})\n    except Exception as e:\n        log_error(e)\n        abort(500)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\flask_frontend.py", "chunk_id": 4, "subchunk_id": 0, "start_line": 85, "end_line": 128, "language": "py", "text": "def get_answer():\n    try:\n  \n\n        current_dict = {}\n        question = request.get_json()\n        _id = int(time.time())\n        db.add_question(question[\"question\"], _id)\n\n        question[\"question\"] = question[\"question\"].replace(\" \", \"+\").replace(\n            \"\\\\n\", \"+\").replace(\"\\\\t\", \"+\").replace(\"\\n\", \"+\").replace(\"(\", \"+\").replace(\")\", \"+\")\n        print(\n            f'scrapy crawl spider -a question={question[\"question\"]} -a subject=revisionNotes  -a _id={_id}')\n        os.system(\n            f'scrapy crawl spider -a question={question[\"question\"]} -a subject=revisionNotes  -a _id={_id}')\n\n        success = True\n\n        while db.get_status(_id) != 1:\n            if db.get_status(_id) == -1:\n                success = False\n                break\n\n        # print(\"\\n\\n\\n\")\n        # db.prt()\n        # print(\"\\n\\n\\n\")\n\n        ans = db.get_answer(_id)\n\n        # print(\"\\n\\n\\n\" + str(ans) + \" - \" + str(type(ans)) + \"\\n\\n\\n\")\n\n        if ans[\"success\"] and success:\n            current_dict[\"question\"] = question[\"question\"]\n            current_dict[\"answers\"] = sorted(ans[\"answer\"], key=ans_len, reverse=True)\n            current_dict[\"websites\"] = ans[\"domain\"]\n        else:\n            current_dict[\"question\"] = question[\"question\"]\n            current_dict[\"answers\"] = \"ERROR\"\n            current_dict[\"websites\"] = \"NOT FOUND\"\n\n        return jsonify(current_dict)\n    except Exception as e:\n        log_error(e)\n        abort(500)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\flask_frontend.py", "chunk_id": 5, "subchunk_id": 0, "start_line": 131, "end_line": 137, "language": "py", "text": "def sw():\n    a = send_from_directory(\"static/react\", \"service-worker.js\")\n    print(\"SERVICE\", a)\n    res = make_response(a)\n    res.headers[\"Service-Worker-Allowed\"] = \"/\"\n\n    return res"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\flask_frontend.py", "chunk_id": 6, "subchunk_id": 0, "start_line": 140, "end_line": 141, "language": "py", "text": "def error404(error):\n    return redirect(\"/Unknown\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\reset_db.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 4, "language": "py", "text": "#! /usr/bin/python3\nimport database.db_func as db\n\ndb.delete(all=True)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\test.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 16, "end_line": 27, "language": "py", "text": "\n\ndef join(lst, sep):\n    print(\"[LIST] \", str(lst))\n\n    s = ''\n    for i in range(len(lst) - 1):\n        s += lst[i] + sep\n\n    s += lst[-1]\n\n    return s"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\database\\db_func.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 11, "language": "py", "text": "\n\ndef connect():\n    conn = sqlite3.connect(os.path.join(\n        os.getcwd(), 'database', 'requests.db'))\n    c = conn.cursor()\n    return conn, c"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\database\\db_func.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 16, "language": "py", "text": "\n\ndef disconnect(conn, c):\n    c.close()\n    conn.close()"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\database\\db_func.py", "chunk_id": 2, "subchunk_id": 0, "start_line": 17, "end_line": 24, "language": "py", "text": "\n\ndef create_table():\n    conn, c = connect()\n    c.execute(\n        \"CREATE TABLE IF NOT EXISTS queue (id INT, qjson TEXT, ajson TEXT, status INT)\")\n    conn.commit()\n    disconnect(conn, c)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\database\\db_func.py", "chunk_id": 3, "subchunk_id": 0, "start_line": 25, "end_line": 33, "language": "py", "text": "\n\ndef add_question(question, _id):\n    conn, c = connect()\n    insertion = (question, _id, 0)\n\n    c.execute(\"INSERT INTO queue (qjson, id, status) VALUES (?, ?, ?)\", insertion)\n    conn.commit()\n    disconnect(conn, c)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\database\\db_func.py", "chunk_id": 4, "subchunk_id": 0, "start_line": 34, "end_line": 43, "language": "py", "text": "\n\ndef add_answer(answer, status, _id):\n    conn, c = connect()\n    insertion = (answer, status, _id)\n\n    c.execute(\n        \"UPDATE queue SET (ajson) = (?), (status) = (?) WHERE id = (?)\", insertion)\n    conn.commit()\n    disconnect(conn, c)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\database\\db_func.py", "chunk_id": 5, "subchunk_id": 0, "start_line": 44, "end_line": 53, "language": "py", "text": "\n\ndef get_answer(_id):\n    conn, c = connect()\n    c.execute(\"SELECT ajson FROM queue WHERE id = (?)\", (_id,))\n\n    a = c.fetchone()[0]\n\n    disconnect(conn, c)\n    return parse(a)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\database\\db_func.py", "chunk_id": 6, "subchunk_id": 0, "start_line": 54, "end_line": 62, "language": "py", "text": "\n\ndef get_status(_id):\n    conn, c = connect()\n    c.execute(\"SELECT status FROM queue WHERE id = (?)\", (_id,))\n\n    a = c.fetchone()[0]\n    disconnect(conn, c)\n    return a"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\database\\db_func.py", "chunk_id": 7, "subchunk_id": 0, "start_line": 63, "end_line": 73, "language": "py", "text": "\n\ndef delete(*args, all=False):\n    conn, c = connect()\n    if all:\n        c.execute(\"DELETE FROM queue\")\n    else:\n        for _id in args:\n            c.execute(\"DELETE FROM queue WHERE id = (?)\", (_id,))\n    conn.commit()\n    disconnect(conn, c)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\database\\db_func.py", "chunk_id": 8, "subchunk_id": 0, "start_line": 74, "end_line": 79, "language": "py", "text": "\n\ndef prt():\n    conn, c = connect()\n    print(pandas.read_sql_query(\"SELECT * FROM queue\", conn))\n    disconnect(conn, c)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\config.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 12, "end_line": 16, "language": "py", "text": "\n\ndef fileLog(*vals):\n    with open('OCR_progress_log.txt', 'a+') as f:\n        f.write(''.join(str(elem) for elem in vals) + '\\n')"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\config.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 17, "end_line": 28, "language": "py", "text": "\n\ndef log_error(*args):\n    s = \"[\" + time.strftime(\"%d-%m %H:%M:%S\") + \" IST]   \"\n    for arg in args:\n        s += str(arg) + \" \"\n    s += \"\\n\\n\"\n    if TESTING:\n        print(s)\n    else:\n        with open(os.path.join(os.getcwd(), \"error_logs\", \"ocr.log\"), \"a+\") as f:\n            f.write(s)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\config.py", "chunk_id": 2, "subchunk_id": 0, "start_line": 35, "end_line": 38, "language": "py", "text": "\n\ndef initLog():\n    open('OCR_progress_log.txt', 'w').close()"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 42, "language": "py", "text": "\n#\n# rects are rectangles encoded as [x, y, w, h] and used predominately by openCV\n# boxes are rectangles encoded as [ulx, uly, lrx, lry]\n#\n#\n#\n# returns:\n#   rects -- an array of [x, y, w, h] that describe rectangles\n#   confidences -- an array of floats correstponding to each rectangle in rects\n#   baggage -- an array of dictionaries that contain info about each rect including its offset and angle\n#\ndef decode(scores, geometry, confidenceThreshold):\n    \n    # grab the number of rows and columns from the scores volume, then\n    # initialize our set of bounding box rectangles and corresponding confidence scores\n    (numRows, numCols) = scores.shape[2:4]\n    confidences = []    \n    rects = [] #(x,y,w,h)\n    baggage =[]\n\n    # loop over the number of rows\n    for y in range(0, numRows):\n        # extract the scores (probabilities), followed by the geometrical\n        # data used to derive potential bounding box coordinates that\n        # surround text\n        scoresData = scores[0, 0, y]\n        dTop =          geometry[0, 0, y]\n        dRight =        geometry[0, 1, y]\n        dBottom =       geometry[0, 2, y]\n        dLeft =         geometry[0, 3, y]\n        anglesData =    geometry[0, 4, y]\n            \n        # loop over the number of columns\n        for x in range(0, numCols):\n        \n            # if our score does not have sufficient probability, ignore it\n            if scoresData[x] < confidenceThreshold:\n                continue\n    "}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 0, "subchunk_id": 1, "start_line": 41, "end_line": 51, "language": "py", "text": "                continue\n    \n            confidences.append(float(scoresData[x]))\n    \n            # compute the offset factor as our resulting feature maps will\n            # be 4x smaller than the input image\n            (offsetX, offsetY) = (x * 4.0, y * 4.0)\n                \n            # extract the rotation angle for the prediction and then\n            angle = anglesData[x]\n                                        "}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 0, "subchunk_id": 2, "start_line": 50, "end_line": 51, "language": "py", "text": "            angle = anglesData[x]\n                                        "}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 0, "subchunk_id": 4, "start_line": 50, "end_line": 79, "language": "py", "text": "            angle = anglesData[x]\n                                        \n            # offsetX|Y is where the dTop, dRight, dBottom and dLeft are measured from\n            # calc the rect corners\n            upperRight = (offsetX + dRight[x], offsetY - dTop[x])\n            lowerRight = (offsetX + dRight[x], offsetY + dBottom[x])\n            upperLeft = (offsetX - dLeft[x], offsetY - dTop[x])\n            lowerLeft = (offsetX - dLeft[x], offsetY + dBottom[x])\n\n            rects.append([\n                int(upperLeft[0]), # x\n                int(upperLeft[1]),  # y\n                int(lowerRight[0]-upperLeft[0]), # w\n                int(lowerRight[1]-upperLeft[1]) # h\n            ])\n            \n            baggage.append({\n                \"offset\": (offsetX, offsetY),\n                \"angle\": anglesData[x],\n                \"upperRight\": upperRight,\n                \"lowerRight\": lowerRight,\n                \"upperLeft\": upperLeft,\n                \"lowerLeft\": lowerLeft,\n                \"dTop\": dTop[x],\n                \"dRight\": dRight[x],\n                \"dBottom\": dBottom[x],\n                \"dLeft\": dLeft[x]\n            })\n    \n    return (rects, confidences, baggage)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 0, "subchunk_id": 5, "start_line": 78, "end_line": 79, "language": "py", "text": "    \n    return (rects, confidences, baggage)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 0, "subchunk_id": 6, "start_line": 79, "end_line": 79, "language": "py", "text": "    return (rects, confidences, baggage)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 80, "end_line": 121, "language": "py", "text": "                 \n\n#\n# returns:\n#   boxes - an array of rects defined by (ulx, uly, lrx, lry)\n#   confidences - an array of floats associated with each rect\n#\ndef decodeBoundingBoxes(scores, geometry, confidenceThreshold):\n    \n    from geom import rotatePoints\n\n    (numRows, numCols) = scores.shape[2:4]\n    boxes = []\n    confidences = []\n    \n    for y in range(0, numRows):\n        # extract the scores (probabilities), followed by the geometrical\n        # data used to derive potential bounding box coordinates that\n        # surround text\n        scoresData = scores[0, 0, y]\n        dTop = geometry[0, 0, y]\n        dRight = geometry[0, 1, y]\n        dBottom = geometry[0, 2, y]\n        dLeft = geometry[0, 3, y]\n        anglesData = geometry[0, 4, y]\n        \n        # loop over the columns\n        for x in range(0, numCols):\n            # if our score does not have sufficient probability, ignore it\n            if scoresData[x] < confidenceThreshold:\n                continue\n    \n            confidences.append(float(scoresData[x]))\n            \n            # compute the offset factor as our resulting feature maps will\n            # be 4x smaller than the input image\n            (offsetX, offsetY) = (x * 4.0, y * 4.0)\n                \n            # extract the rotation angle for the prediction and then\n            theta = anglesData[x]\n            \n            # using the offsets and distances, calculate the corners of the rect"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 1, "subchunk_id": 1, "start_line": 120, "end_line": 124, "language": "py", "text": "            \n            # using the offsets and distances, calculate the corners of the rect\n            upperRight = (offsetX + dRight[x], offsetY - dTop[x])\n            lowerRight = (offsetX + dRight[x], offsetY + dBottom[x])\n            upperLeft = (offsetX - dLeft[x], offsetY - dTop[x])"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 1, "subchunk_id": 2, "start_line": 123, "end_line": 124, "language": "py", "text": "            lowerRight = (offsetX + dRight[x], offsetY + dBottom[x])\n            upperLeft = (offsetX - dLeft[x], offsetY - dTop[x])"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 1, "subchunk_id": 3, "start_line": 124, "end_line": 124, "language": "py", "text": "            upperLeft = (offsetX - dLeft[x], offsetY - dTop[x])"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 1, "subchunk_id": 4, "start_line": 123, "end_line": 141, "language": "py", "text": "            lowerRight = (offsetX + dRight[x], offsetY + dBottom[x])\n            upperLeft = (offsetX - dLeft[x], offsetY - dTop[x])\n            lowerLeft = (offsetX - dLeft[x], offsetY + dBottom[x])\n            \n            points = [upperRight, lowerRight, upperLeft, lowerLeft]\n            \n            rotatedPoints = rotatePoints(points, theta, (offsetX, offsetY))\n            \n            boundingRect = cv2.boundingRect(np.array(rotatedPoints, dtype=np.float32))\n            \n            # boundingRect is x, y, w, h, convert to upperLeft and lowerRight\n            boxes.append([\n                int(boundingRect[0]),\n                int(boundingRect[1]), \n                int(boundingRect[0]+boundingRect[2]), \n                int(boundingRect[1]+boundingRect[3])\n            ])\n            \n    return boxes, confidences"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 1, "subchunk_id": 5, "start_line": 140, "end_line": 141, "language": "py", "text": "            \n    return boxes, confidences"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 1, "subchunk_id": 6, "start_line": 141, "end_line": 141, "language": "py", "text": "    return boxes, confidences"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 2, "subchunk_id": 0, "start_line": 142, "end_line": 182, "language": "py", "text": "\n        \n#\n# returns:\n#   boxes - an array of rects defined by (upperLeftX, upperLeftY, lowerLeftX, lowerLeftY)\n#   confidences - an array of confidences associated with each rect in rects\n#   baggage -- an array of dictionaries that contain info about each rect including its offset and angle\n#             \ndef pisDecode(scores, geometry, confidenceThreshold):\n    \n    (numRows, numCols) = scores.shape[2:4]\n    boxes = []\n    confidences = []    \n    baggage =[]\n    \n    # loop over the number of rows\n    for y in range(0, numRows):\n        # extract the scores (probabilities), followed by the geometrical\n        # data used to derive potential bounding box coordinates that\n        # surround text\n        scoresData = scores[0, 0, y]\n        dTop = geometry[0, 0, y]\n        dRight = geometry[0, 1, y]\n        dBottom = geometry[0, 2, y]\n        dLeft = geometry[0, 3, y]\n        anglesData = geometry[0, 4, y]\n            \n        # loop over the number of columns\n        for x in range(0, numCols):\n        \n            # if our score does not have sufficient probability, ignore it\n            if scoresData[x] < confidenceThreshold:\n                continue\n    \n            confidences.append(float(scoresData[x]))\n    \n            # compute the offset factor as our resulting feature maps will\n            # be 4x smaller than the input image\n            (offsetX, offsetY) = (x * 4.0, y * 4.0)\n                \n            # extract the rotation angle for the prediction and then"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 2, "subchunk_id": 1, "start_line": 181, "end_line": 190, "language": "py", "text": "                \n            # extract the rotation angle for the prediction and then\n            # compute the sin and cosine\n            angle = anglesData[x]\n            cos = np.cos(angle)\n            sin = np.sin(angle)\n                            \n            # use the geometry volume to derive the width and height of\n            # the bounding box\n            h = dTop[x] + dBottom[x]"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 2, "subchunk_id": 2, "start_line": 189, "end_line": 190, "language": "py", "text": "            # the bounding box\n            h = dTop[x] + dBottom[x]"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 2, "subchunk_id": 3, "start_line": 190, "end_line": 190, "language": "py", "text": "            h = dTop[x] + dBottom[x]"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 2, "subchunk_id": 4, "start_line": 189, "end_line": 217, "language": "py", "text": "            # the bounding box\n            h = dTop[x] + dBottom[x]\n            w = dRight[x] + dLeft[x]\n    \n            # compute both the starting and ending (x, y)-coordinates for\n            # the text prediction bounding box\n            endX = int(offsetX + (cos * dRight[x]) + (sin * dBottom[x]))\n            endY = int(offsetY - (sin * dRight[x]) + (cos * dBottom[x]))\n            startX = int(endX - w)\n            startY = int(endY - h)\n            \n            # add the bounding box coordinates and probability score to\n            # our respective lists\n            boxes.append((startX, startY, endX, endY))\n            \n            baggage.append({\n                \"offset\": (offsetX, offsetY),\n                \"angle\": anglesData[x],\n                \"upperRight\": (offsetX + dRight[x], offsetY - dTop[x]),\n                \"lowerRight\": (offsetX + dRight[x], offsetY + dBottom[x]),\n                \"upperLeft\": (offsetX - dLeft[x], offsetY - dTop[x]),\n                \"lowerLeft\": (offsetX - dLeft[x], offsetY + dBottom[x]),\n                \"dTop\": dTop[x],\n                \"dRight\": dRight[x],\n                \"dBottom\": dBottom[x],\n                \"dLeft\": dLeft[x]\n            })\n                 \n    return (boxes, confidences, baggage)     "}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 2, "subchunk_id": 5, "start_line": 216, "end_line": 217, "language": "py", "text": "                 \n    return (boxes, confidences, baggage)     "}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\decode.py", "chunk_id": 2, "subchunk_id": 6, "start_line": 217, "end_line": 217, "language": "py", "text": "    return (boxes, confidences, baggage)     "}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\draw.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 9, "language": "py", "text": "\ndef drawPolygons(drawOn, polygons, ratioWidth, ratioHeight, color=(0, 0, 255), width=1):\n    for polygon in polygons:\n        pts = np.array(polygon, np.int32)\n        pts = pts.reshape((-1, 1, 2))\n        # draw the polygon\n        cv2.polylines(drawOn, [pts], True, color, width)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\draw.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 10, "end_line": 21, "language": "py", "text": "\n\ndef drawBoxes(drawOn, boxes, ratioWidth, ratioHeight, color=(0, 255, 0), width=1):\n\n    for(x,y,w,h) in boxes:\n        startX = int(x*ratioWidth)\n        startY = int(y*ratioHeight)\n        endX = int((x+w)*ratioWidth)\n        endY = int((y+h)*ratioHeight)\n\n        # draw the bounding box on the image\n        cv2.rectangle(drawOn, (startX, startY), (endX, endY), color, width)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\test.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 22, "language": "py", "text": "import argparse\nimport os\nimport time\n\nimport cv2 as cv;\nfrom nms import nms;\nfrom math import degrees, sin, cos\nfrom matplotlib import pyplot as plt\nimport numpy as np\n\nfrom config import *\nfrom text_from_im import text_from_image_path\n\ninitLog()\nfor i in range(1, 100):\n    try:\n        log(f'[{i}]')\n        image_path = str(i)+'.png'\n        text_from_image_path(os.path.join(os.getcwd(), 'images/'+image_path))\n    except Exception as e:\n        print(e)\n        break"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\test_tesseract_windows.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 17, "language": "py", "text": "from PIL import Image\nimport pytesseract\nimport argparse\nimport cv2\nimport os\n\n\nimage = cv2.imread(\"2.jpg\")\ngray = cv2.cvtColor(image, cv2.COLOR_BGR2GRAY)\n\ngray = cv2.threshold(gray, 0, 255, cv2.THRESH_BINARY | cv2.THRESH_OTSU)[1]\n \n\ngray = cv2.medianBlur(gray, 3)\npytesseract.pytesseract.tesseract_cmd = r\"C:\\Users\\Student\\AppData\\Local\\Tesseract-OCR\\tesseract.exe\"\ntext = pytesseract.image_to_string(Image.open(os.path.join(os.getcwd(), \"2.jpg\")))\nprint(text)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 22, "end_line": 25, "language": "py", "text": "\n    if TESTING:\n        cv.imshow('INPUT', image)\n        cv.waitKey(0)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 0, "subchunk_id": 1, "start_line": 49, "end_line": 51, "language": "py", "text": "    for b in baggage:\n        offsets.append(b['offset'])\n        thetas.append(b['angle'])"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 0, "subchunk_id": 2, "start_line": 57, "end_line": 59, "language": "py", "text": "    if incl.size == 0:\n        log('[ERROR] No theta found in included', thetas)\n        return None"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 0, "subchunk_id": 3, "start_line": 65, "end_line": 66, "language": "py", "text": "    if degrees(theta) < theta_thresh:\n        theta = 0"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 0, "subchunk_id": 4, "start_line": 68, "end_line": 70, "language": "py", "text": "    if TESTING:\n        plt.plot(incl)\n        plt.show()"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 0, "subchunk_id": 5, "start_line": 79, "end_line": 81, "language": "py", "text": "    if TESTING:\n        cv.imshow('TEST', res)\n        cv.waitKey(0)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 0, "subchunk_id": 6, "start_line": 94, "end_line": 96, "language": "py", "text": "    if TESTING:\n        cv.imshow('DRAW', drawOn)\n        cv.waitKey(0)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 0, "subchunk_id": 7, "start_line": 121, "end_line": 123, "language": "py", "text": "    if TESTING:\n        cv.imshow('DRAWON AFTER ROTATION', drawOn)\n        cv.waitKey(0)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 0, "subchunk_id": 8, "start_line": 141, "end_line": 143, "language": "py", "text": "    if text_box.size == 0:\n        log('[ERROR] Textbox not found')\n        return None"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 0, "subchunk_id": 9, "start_line": 145, "end_line": 147, "language": "py", "text": "    if TESTING:\n        cv.imshow(\"Final Cropping\", text_box)\n        cv.waitKey(0)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 150, "end_line": 161, "language": "py", "text": "# !SECTION \n\n# SECTION Helper Code\n\ndef text_detection_command():\n    # construct the argument parser and parse the arguments\n    ap = argparse.ArgumentParser()\n    ap.add_argument(\"-i\", \"--image\", type=str,\n                    help=\"path to input image\")\n    args = vars(ap.parse_args())\n\n    get_cropped_image(cv.imread(args[\"image\"]))"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 2, "subchunk_id": 0, "start_line": 162, "end_line": 164, "language": "py", "text": "\ndef N(u, s, x):\n    return np.exp(-(x-u)**2/s**2)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 3, "subchunk_id": 0, "start_line": 165, "end_line": 171, "language": "py", "text": "\ndef removeExtremes(drawrects):\n    y = drawrects[:, 1]\n    log('[DATA] Bounding boxes Before: ', len(drawrects))\n    drawrects = drawrects[N(np.mean(y), np.std(y), y) > p_thresh]\n    log('[DATA] Bounding boxes After: ', len(drawrects))\n    return drawrects"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 4, "subchunk_id": 0, "start_line": 172, "end_line": 189, "language": "py", "text": "\ndef rotate_image(mat, angle):\n\n    height, width = mat.shape[:2]\n    image_center = (width/2, height/2)\n    rotation_mat = np.array([[cos(angle), -sin(angle), 0], [sin(angle), cos(angle), 0]])\n\n    abs_cos = abs(rotation_mat[0,0])\n    abs_sin = abs(rotation_mat[0,1])\n\n    bound_w = int(height * abs_sin + width * abs_cos)\n    bound_h = int(height * abs_cos + width * abs_sin)\n\n    rotation_mat[0, 2] += bound_w/2 - image_center[0]\n    rotation_mat[1, 2] += bound_h/2 - image_center[1]\n\n    rotated_mat = cv.warpAffine(mat, rotation_mat, (bound_w, bound_h))\n    return rotated_mat"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 5, "subchunk_id": 0, "start_line": 190, "end_line": 201, "language": "py", "text": "\ndef normalizeImageSize(image):\n    h, w = image.shape[:2]\n    if h*w < 512*512:\n        k = ((512*512)/(h*w))**0.5\n    else:\n        k = 1\n    rH, rW = (32*round(k*h/32), 32*round(k*w/32))\n\n    image = cv.resize(image, (rW, rH), interpolation=cv.INTER_CUBIC)\n\n    return image"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_cropping.py", "chunk_id": 6, "subchunk_id": 0, "start_line": 202, "end_line": 235, "language": "py", "text": "\n\ndef get_scores(image, east='frozen_east_text_detection.pb', min_confidence=0.5, width=320, height=320):\n\n    if TESTING:\n        cv.imshow('SCORES INPUT', image)\n\n    (imageHeight, imageWidth) = image.shape[:2]\n\n    layerNames = [\n        \"feature_fusion/Conv_7/Sigmoid\",\n        \"feature_fusion/concat_3\"]\n\n    # load the pre-trained EAST text detector\n    log(\"[INFO] loading EAST text detector...\")\n\n    log('east:',east)\n    net = cv.dnn.readNetFromTensorflow(east)\n\n    blob = cv.dnn.blobFromImage(\n        image, 1.0, (imageWidth, imageHeight), (123.68, 116.78, 103.94), swapRB=True, crop=False)\n\n    start = time.time()\n    net.setInput(blob)\n\n    (scores, geometry) = net.forward(layerNames)\n\n    end = time.time()\n\n    log(\"[INFO] text detection took {:.6f} seconds\".format(end - start))\n\n    confidenceThreshold = min_confidence\n\n    return decode(scores, geometry, confidenceThreshold)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_from_im.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 23, "language": "py", "text": "\n\ndef main():\n    try:\n        # construct the argument parser and parse the arguments\n        ap = argparse.ArgumentParser()\n        ap.add_argument(\"-i\", \"--path\", type=str,\n                        help=\"path to input image\")\n        args = vars(ap.parse_args())\n\n        # get_cropped_image(image=args[\"image\"])\n        text_from_image_path(args['path'])\n    except Exception as e:\n        log_error(e)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_from_im.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 24, "end_line": 29, "language": "py", "text": "\ndef base64_to_cv2_img(uri):\n    encoded_data = uri.split(',')[1]\n    nparr = np.fromstring(base64.b64decode(encoded_data), np.uint8)\n    img = cv.imdecode(nparr, cv.IMREAD_COLOR)\n    return img"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_from_im.py", "chunk_id": 2, "subchunk_id": 0, "start_line": 30, "end_line": 53, "language": "py", "text": "\ndef text_from_image_path(image_path):\n\n    im = cv.imread(image_path)\n\n    text_box = text_cropping.get_cropped_image(im)\n\n    if text_box is None:\n        return 'TEXT NOT FOUND'\n        \n    else:\n        text_box = cv.cvtColor(text_box, cv.COLOR_BGR2GRAY)\n\n        _, text_box = cv.threshold(text_box, 0, 255, cv.THRESH_OTSU + cv.THRESH_BINARY)\n        # text_box = cv.adaptiveThreshold(text_box, 255, cv.ADAPTIVE_THRESH_MEAN_C, cv.THRESH_BINARY, min(text_box.shape[:2]), 0)\n\n        if TESTING:\n            cv.imshow('TB', text_box)\n            cv.waitKey(0)\n\n        config = (\"-l eng --oem 1 --psm 4\")\n        text = pytesseract.image_to_string(text_box, config=config)\n        log(text)\n        return text"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\text_from_im.py", "chunk_id": 3, "subchunk_id": 0, "start_line": 54, "end_line": 85, "language": "py", "text": "\ndef text_from_image(image):\n    try:\n        initLog()\n\n        im = base64_to_cv2_img(image)\n\n        text_box = text_cropping.get_cropped_image(im)\n\n        if text_box is None:\n            return 'TEXT NOT FOUND'\n            \n        else:\n            text_box = cv.cvtColor(text_box, cv.COLOR_BGR2GRAY)\n\n            _, text_box = cv.threshold(\n                text_box, 0, 255, cv.THRESH_OTSU+cv.THRESH_BINARY)\n\n            if TESTING:\n                cv.imshow('TB', text_box)\n                cv.waitKey(0)\n            # in order to apply Tesseract v4 to OCR text we must supply\n            # (1) a language, (2) an OEM flag of 4, indicating that the we\n            # wish to use the LSTM neural net model for OCR, and finally\n            # (3) an OEM value, in this case, 7 which implies that we are\n            # treating the ROI as a single line of text\n            config = (\"-l eng --oem 1 --psm 4\")\n            text = pytesseract.image_to_string(text_box, config=config)\n            log(text)\n            return text\n    except Exception as e:\n        log_error(e)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\utils.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 40, "language": "py", "text": "\n\ndef rects2polys(rects, thetas, origins, ratioWidth=1, ratioHeight=1):\n    \"\"\"Convert rectangles (x,y, w, h) into polygons [(x0,y0), (x1, y1), (x2, y2), (x3, y3])\n\n    :param rects: a list of rectangles, each specified as (x, y, w, h)\n    :type rects: tuple\n    :param thetas: the angle of rotation for each rectangle in radians\n    :type theta: list of float\n    :param origin: the point to rotate each rectangle around\n    :type origin: list of tuple\n    :param ratioWidth: optional width scaling factor, default 1.0\n    :type ratioWidth: float\n    :param ratioHeight: optional height scaling factor, default 1.0\n    :type ratioHeight: float\n    :return: a list of polygons, each specified by its (x,y) verticies\n    :rtype: list\n    \"\"\"\n    polygons = []\n    for i, box in enumerate(rects):\n        upperLeftX = box[0]\n        upperLeftY = box[1]\n        lowerRightX = box[0] + box[2]\n        lowerRightY = box[1] + box[3]\n\n        # scale the bounding box coordinates based on the respective ratios\n        upperLeftX = int(upperLeftX * ratioWidth)\n        upperLeftY = int(upperLeftY * ratioHeight)\n        lowerRightX = int(lowerRightX * ratioWidth)\n        lowerRightY = int(lowerRightY * ratioHeight)\n\n        # create an array of the rectangle's verticies\n        points = [\n            (upperLeftX, upperLeftY),\n            (lowerRightX, upperLeftY),\n            (lowerRightX, lowerRightY),\n            (upperLeftX, lowerRightY)\n        ]\n"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\utils.py", "chunk_id": 0, "subchunk_id": 1, "start_line": 39, "end_line": 46, "language": "py", "text": "        ]\n\n        # the offset is the point at which the rectangle is rotated\n        rotationPoint = (int(origins[i][0] * ratioWidth), int(origins[i][1] * ratioHeight))\n\n        polygons.append(rotatePoints(points, thetas[i], rotationPoint))\n\n    return polygons"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\utils.py", "chunk_id": 0, "subchunk_id": 2, "start_line": 45, "end_line": 46, "language": "py", "text": "\n    return polygons"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\utils.py", "chunk_id": 0, "subchunk_id": 3, "start_line": 46, "end_line": 46, "language": "py", "text": "    return polygons"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\utils.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 47, "end_line": 65, "language": "py", "text": "\n\ndef rotatePoints(points, theta, origin):\n    \"\"\"Rotate the list of points theta radians around origin\n\n    :param points: list of points, each given as (x,y)\n    :type points:  tuple\n    :param theta: the angle to rotate the points in radians\n    :type theta: float\n    :param origin: the point about which the points are to be rotated\n    :type origin: tuple\n    :return: list of rotated points\n    :rtype: list\n    \"\"\"\n    rotated = []\n    for xy in points:\n        rotated.append(rotate_around_point(xy, theta, origin))\n\n    return rotated"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\utils.py", "chunk_id": 2, "subchunk_id": 0, "start_line": 66, "end_line": 89, "language": "py", "text": "\n\ndef rotate_around_point(xy, radians, origin=(0, 0)):\n    \"\"\"Rotate a point around a given point.\n\n    Adapted from `LyleScott/rotate_2d_point.py` <https://gist.github.com/LyleScott/e36e08bfb23b1f87af68c9051f985302>`_\n\n    :param xy: the (x,y) point to rotate\n    :type xy: tuple\n    :param radians: the angle in radians to rotate\n    :type radians: float\n    :param origin: the point to rotate around, defaults to (0,0)\n    :returns: the rotated point\n    \"\"\"\n    x, y = xy\n    offset_x, offset_y = origin\n    adjusted_x = (x - offset_x)\n    adjusted_y = (y - offset_y)\n    cos_rad = math.cos(radians)\n    sin_rad = math.sin(radians)\n    qx = offset_x + cos_rad * adjusted_x + sin_rad * adjusted_y\n    qy = offset_y + -sin_rad * adjusted_x + cos_rad * adjusted_y\n\n    return qx, qy"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\OCR\\__init__.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "py", "text": "name = \"opencv-text-detection\""}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\items.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 14, "language": "py", "text": "\n\nclass CiscoProjectItem(scrapy.Item):\n    domain = scrapy.Field()\n    answer = scrapy.Field()\n    pass"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\middlewares.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 17, "end_line": 21, "language": "py", "text": "    def from_crawler(cls, crawler):\n        # This method is used by Scrapy to create your spiders.\n        s = cls()\n        crawler.signals.connect(s.spider_opened, signal=signals.spider_opened)\n        return s"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\middlewares.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 22, "end_line": 28, "language": "py", "text": "\n    def process_spider_input(self, response, spider):\n        # Called for each response that goes through the spider\n        # middleware and into the spider.\n\n        # Should return None or raise an exception.\n        return None"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\middlewares.py", "chunk_id": 2, "subchunk_id": 0, "start_line": 29, "end_line": 36, "language": "py", "text": "\n    def process_spider_output(self, response, result, spider):\n        # Called with the results returned from the Spider, after\n        # it has processed the response.\n\n        # Must return an iterable of Request, dict or Item objects.\n        for i in result:\n            yield i"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\middlewares.py", "chunk_id": 3, "subchunk_id": 0, "start_line": 37, "end_line": 44, "language": "py", "text": "\n    def process_spider_exception(self, response, exception, spider):\n        # Called when a spider or process_spider_input() method\n        # (from other spider middleware) raises an exception.\n\n        # Should return either None or an iterable of Request, dict\n        # or Item objects.\n        pass"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\middlewares.py", "chunk_id": 4, "subchunk_id": 0, "start_line": 45, "end_line": 53, "language": "py", "text": "\n    def process_start_requests(self, start_requests, spider):\n        # Called with the start requests of the spider, and works\n        # similarly to the process_spider_output() method, except\n        # that it doesnt have a response associated.\n\n        # Must return only requests (not items).\n        for r in start_requests:\n            yield r"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\middlewares.py", "chunk_id": 5, "subchunk_id": 0, "start_line": 54, "end_line": 56, "language": "py", "text": "\n    def spider_opened(self, spider):\n        spider.logger.info('Spider opened: %s' % spider.name)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\middlewares.py", "chunk_id": 6, "subchunk_id": 0, "start_line": 57, "end_line": 61, "language": "py", "text": "\n    def spider_closed(self, spider, reason):\n\n        spider.logger.info(\"fkdg,jfdgsdafsdafskdfgsd\")\n        # spider.writetheanswer(bool(len(spider.answer[\"answer\"]), \"[NO ANSWERS]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\middlewares.py", "chunk_id": 7, "subchunk_id": 0, "start_line": 70, "end_line": 74, "language": "py", "text": "    def from_crawler(cls, crawler):\n        # This method is used by Scrapy to create your spiders.\n        s = cls()\n        crawler.signals.connect(s.spider_opened, signal=signals.spider_opened)\n        return s"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\middlewares.py", "chunk_id": 8, "subchunk_id": 0, "start_line": 75, "end_line": 86, "language": "py", "text": "\n    def process_request(self, request, spider):\n        # Called for each request that goes through the downloader\n        # middleware.\n\n        # Must either:\n        # - return None: continue processing this request\n        # - or return a Response object\n        # - or return a Request object\n        # - or raise IgnoreRequest: process_exception() methods of\n        #   installed downloader middleware will be called\n        return None"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\middlewares.py", "chunk_id": 9, "subchunk_id": 0, "start_line": 87, "end_line": 95, "language": "py", "text": "\n    def process_response(self, request, response, spider):\n        # Called with the response returned from the downloader.\n\n        # Must either;\n        # - return a Response object\n        # - return a Request object\n        # - or raise IgnoreRequest\n        return response"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\middlewares.py", "chunk_id": 10, "subchunk_id": 0, "start_line": 96, "end_line": 105, "language": "py", "text": "\n    def process_exception(self, request, exception, spider):\n        # Called when a download handler or a process_request()\n        # (from other downloader middleware) raises an exception.\n\n        # Must either:\n        # - return None: continue processing this exception\n        # - return a Response object: stops process_exception() chain\n        # - return a Request object: stops process_exception() chain\n        pass"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\middlewares.py", "chunk_id": 11, "subchunk_id": 0, "start_line": 106, "end_line": 108, "language": "py", "text": "\n    def spider_opened(self, spider):\n        spider.logger.info('Spider opened: %s' % spider.name)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\middlewares.py", "chunk_id": 12, "subchunk_id": 0, "start_line": 109, "end_line": 113, "language": "py", "text": "\n    def spider_closed(self, spider, reason):\n\n        spider.logger.info(\"fkdg,jfdgsdafsdafskdfgsd\")\n        # spider.writetheanswer(bool(len(spider.answer[\"answer\"]), \"[NO ANSWERS]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\pipelines.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 11, "language": "py", "text": "    def process_item(self, item, spider):\n        return item"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\settings.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 44, "language": "py", "text": "# -*- coding: utf-8 -*-\n\n# Scrapy settings for scrapy_project project\n#\n# For simplicity, this file contains only settings considered important or\n# commonly used. You can find more settings consulting the documentation:\n#\n#     https://docs.scrapy.org/en/latest/topics/settings.html\n#     https://docs.scrapy.org/en/latest/topics/downloader-middleware.html\n#     https://docs.scrapy.org/en/latest/topics/spider-middleware.html\n\nBOT_NAME = 'scrapy_project'\n\nSPIDER_MODULES = ['scrapy_project.spiders']\nNEWSPIDER_MODULE = 'scrapy_project.spiders'\n\n# LOG_LEVEL = False\n\n# Crawl responsibly by identifying yourself (and your website) on the user-agent\n#USER_AGENT = 'scrapy_project (+http://www.yourdomain.com)'\n\n# Obey robots.txt rules\nROBOTSTXT_OBEY = True\n\n# Configure maximum concurrent requests performed by Scrapy (default: 16)\n#CONCURRENT_REQUESTS = 32\n\n# Configure a delay for requests for the same website (default: 0)\n# See https://docs.scrapy.org/en/latest/topics/settings.html#download-delay\n# See also autothrottle settings and docs\n#DOWNLOAD_DELAY = 3\n# The download delay setting will honor only one of:\n#CONCURRENT_REQUESTS_PER_DOMAIN = 16\n#CONCURRENT_REQUESTS_PER_IP = 16\n\n# Disable cookies (enabled by default)\n#COOKIES_ENABLED = False\n\n# Disable Telnet Console (enabled by default)\n#TELNETCONSOLE_ENABLED = False\n\n# Override the default request headers:\n#DEFAULT_REQUEST_HEADERS = {\n#   'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\settings.py", "chunk_id": 0, "subchunk_id": 1, "start_line": 43, "end_line": 80, "language": "py", "text": "#DEFAULT_REQUEST_HEADERS = {\n#   'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n#   'Accept-Language': 'en',\n#}\n\n# Enable or disable spider middlewares\n# See https://docs.scrapy.org/en/latest/topics/spider-middleware.html\n#SPIDER_MIDDLEWARES = {\n#    'scrapy_project.middlewares.ScrapyProjectSpiderMiddleware': 543,\n#}\n\n# Enable or disable downloader middlewares\n# See https://docs.scrapy.org/en/latest/topics/downloader-middleware.html\n#DOWNLOADER_MIDDLEWARES = {\n#    'scrapy_project.middlewares.ScrapyProjectDownloaderMiddleware': 543,\n#}\n\n# Enable or disable extensions\n# See https://docs.scrapy.org/en/latest/topics/extensions.html\n#EXTENSIONS = {\n#    'scrapy.extensions.telnet.TelnetConsole': None,\n#}\n\n# Configure item pipelines\n# See https://docs.scrapy.org/en/latest/topics/item-pipeline.html\n#ITEM_PIPELINES = {\n#    'scrapy_project.pipelines.ScrapyProjectPipeline': 300,\n#}\n\n# Enable and configure the AutoThrottle extension (disabled by default)\n# See https://docs.scrapy.org/en/latest/topics/autothrottle.html\n#AUTOTHROTTLE_ENABLED = True\n# The initial download delay\n#AUTOTHROTTLE_START_DELAY = 5\n# The maximum download delay to be set in case of high latencies\n#AUTOTHROTTLE_MAX_DELAY = 60\n# The average number of requests Scrapy should be sending in parallel to\n# each remote server"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\settings.py", "chunk_id": 0, "subchunk_id": 2, "start_line": 79, "end_line": 80, "language": "py", "text": "# The average number of requests Scrapy should be sending in parallel to\n# each remote server"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\settings.py", "chunk_id": 0, "subchunk_id": 3, "start_line": 80, "end_line": 80, "language": "py", "text": "# each remote server"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\settings.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 24, "end_line": 68, "language": "py", "text": "\n# Configure maximum concurrent requests performed by Scrapy (default: 16)\n#CONCURRENT_REQUESTS = 32\n\n# Configure a delay for requests for the same website (default: 0)\n# See https://docs.scrapy.org/en/latest/topics/settings.html#download-delay\n# See also autothrottle settings and docs\n#DOWNLOAD_DELAY = 3\n# The download delay setting will honor only one of:\n#CONCURRENT_REQUESTS_PER_DOMAIN = 16\n#CONCURRENT_REQUESTS_PER_IP = 16\n\n# Disable cookies (enabled by default)\n#COOKIES_ENABLED = False\n\n# Disable Telnet Console (enabled by default)\n#TELNETCONSOLE_ENABLED = False\n\n# Override the default request headers:\n#DEFAULT_REQUEST_HEADERS = {\n#   'Accept': 'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8',\n#   'Accept-Language': 'en',\n#}\n\n# Enable or disable spider middlewares\n# See https://docs.scrapy.org/en/latest/topics/spider-middleware.html\n#SPIDER_MIDDLEWARES = {\n#    'scrapy_project.middlewares.ScrapyProjectSpiderMiddleware': 543,\n#}\n\n# Enable or disable downloader middlewares\n# See https://docs.scrapy.org/en/latest/topics/downloader-middleware.html\n#DOWNLOADER_MIDDLEWARES = {\n#    'scrapy_project.middlewares.ScrapyProjectDownloaderMiddleware': 543,\n#}\n\n# Enable or disable extensions\n# See https://docs.scrapy.org/en/latest/topics/extensions.html\n#EXTENSIONS = {\n#    'scrapy.extensions.telnet.TelnetConsole': None,\n#}\n\n# Configure item pipelines\n# See https://docs.scrapy.org/en/latest/topics/item-pipeline.html\n#ITEM_PIPELINES = {"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\settings.py", "chunk_id": 1, "subchunk_id": 1, "start_line": 67, "end_line": 91, "language": "py", "text": "# See https://docs.scrapy.org/en/latest/topics/item-pipeline.html\n#ITEM_PIPELINES = {\n#    'scrapy_project.pipelines.ScrapyProjectPipeline': 300,\n#}\n\n# Enable and configure the AutoThrottle extension (disabled by default)\n# See https://docs.scrapy.org/en/latest/topics/autothrottle.html\n#AUTOTHROTTLE_ENABLED = True\n# The initial download delay\n#AUTOTHROTTLE_START_DELAY = 5\n# The maximum download delay to be set in case of high latencies\n#AUTOTHROTTLE_MAX_DELAY = 60\n# The average number of requests Scrapy should be sending in parallel to\n# each remote server\n#AUTOTHROTTLE_TARGET_CONCURRENCY = 1.0\n# Enable showing throttling stats for every response received:\n#AUTOTHROTTLE_DEBUG = False\n\n# Enable and configure HTTP caching (disabled by default)\n# See https://docs.scrapy.org/en/latest/topics/downloader-middleware.html#httpcache-middleware-settings\n#HTTPCACHE_ENABLED = True\n#HTTPCACHE_EXPIRATION_SECS = 0\n#HTTPCACHE_DIR = 'httpcache'\n#HTTPCACHE_IGNORE_HTTP_CODES = []\n#HTTPCACHE_STORAGE = 'scrapy.extensions.httpcache.FilesystemCacheStorage'"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\settings.py", "chunk_id": 1, "subchunk_id": 2, "start_line": 90, "end_line": 91, "language": "py", "text": "#HTTPCACHE_IGNORE_HTTP_CODES = []\n#HTTPCACHE_STORAGE = 'scrapy.extensions.httpcache.FilesystemCacheStorage'"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\settings.py", "chunk_id": 1, "subchunk_id": 3, "start_line": 91, "end_line": 91, "language": "py", "text": "#HTTPCACHE_STORAGE = 'scrapy.extensions.httpcache.FilesystemCacheStorage'"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 20, "end_line": 29, "language": "py", "text": "\n    def __init__(self, question=\"\", subject=\"Physics\", _id=0, *args, **kwargs):\n        super(QuotesSpider, self).__init__(*args, **kwargs)\n\n        self.question = question\n        self.id = _id\n        self.debug = debug\n        self.subject = subject\n\n        self.answer = {\"answer\": [], \"domain\": [], \"success\": 1}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 30, "end_line": 32, "language": "py", "text": "\n    def closed(self, reason):\n        self.writetheanswer(bool(len(self.answer[\"answer\"])), \"[NO ANSWERS]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 2, "subchunk_id": 0, "start_line": 33, "end_line": 44, "language": "py", "text": "\n    def log_error(self, location, *args):\n        error = format_exc()\n\n        s = \"[\" + time.strftime(\"%d-%m %H:%M:%S\") + \" IST]   \"\n        s += \"[ERRORS]   \" + location + \" \\n\" + error + \"\\n\\n\"\n\n        if self.debug:\n            self.log(s)\n        else:\n            with open(os.path.join(os.getcwd(), \"error_logs\", \"scrapy.log\"), \"a+\") as f:\n                f.write(s)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 3, "subchunk_id": 0, "start_line": 45, "end_line": 74, "language": "py", "text": "\n    def start_requests(self): \n        try:\n            self.log(\"[STARTED REQUESTS]\")\n            q = self.question\n            if \"notes\" not in self.subject.lower() :\n                self.urls = self.return_links(q, True)[\"link\"][:5]\n            else:\n                self.urls = self.return_links(q, False)[\"link\"][:5]\n\n            self.log(\"[URLS]  \" + str(self.urls) +\n                    \" ----- [LEN]  \" + str(len(self.urls)))\n\n            if len(self.urls) != 0:\n                for url in self.urls:\n                    website = tldextract.extract(url).domain\n                    self.log_error(self.subject)\n                    # if website == 'brainly':\n                    #     yield scrapy.Request(url=url, callback=self.parsebrainly)\n                    if website == 'askiitians' and self.isQuestion:\n                        yield scrapy.Request(url=url, callback=self.parseaskiitians)\n                    elif website == 'askiitians' and (not self.isQuestion) :\n                        yield scrapy.Request(url=url, callback=self.parseaskiitiansnotes)\n                    elif website == 'doubtnut':\n                        yield scrapy.Request(url=url, callback=self.parsedoubtnut)\n                    elif website == 'stackexchange':\n                        yield scrapy.Request(url=url, callback=self.parsestackexchange)\n                    elif website == 'sarthaks':\n                        yield scrapy.Request(url=url, callback=self.parsesarthaks)\n"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 3, "subchunk_id": 1, "start_line": 73, "end_line": 81, "language": "py", "text": "                        yield scrapy.Request(url=url, callback=self.parsesarthaks)\n\n                # print(stringify(self.answer, indent=2))\n                # self.writetheanswer(bool(len(self.answer[\"answer\"])), \"[NO ANSWERS]\")\n            else:\n                self.answer[\"success\"] = 0\n                self.writetheanswer(False, \"[NO LINKS FOUND]\")\n        except Exception as e:\n            self.writetheanswer(False, f\"[START_REQUESTS]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 3, "subchunk_id": 2, "start_line": 80, "end_line": 81, "language": "py", "text": "        except Exception as e:\n            self.writetheanswer(False, f\"[START_REQUESTS]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 3, "subchunk_id": 3, "start_line": 81, "end_line": 81, "language": "py", "text": "            self.writetheanswer(False, f\"[START_REQUESTS]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 4, "subchunk_id": 0, "start_line": 82, "end_line": 114, "language": "py", "text": "\n    def return_links(self, user_query, isQuestion):\n        try:\n            self.link_to_be_parsed = {}\n            self.isQuestion = isQuestion\n            self.user_query = user_query\n            websites = [\"doubtnut.com\", \n                                   \"askiitians.com\", \"stackexchange.com\", \"sarthaks.com\"]\n            self.useful_domains = [\"doubtnut\",\n                                   \"askiitians\", \"stackexchange\", \"sarthaks\"]\n            user_query = user_query.replace(\"++\", \"+\")\n            list_user_query = user_query.split(\"+\")[:13]\n           \n#\n#           sorted_list_user_query = list(list_user_query)\n#\n#            sorted_list_user_query.sort(key=lambda x: len(x), reverse=True)\n#            sorted_list_user_query = sorted_list_user_query[:13]\n#            \n#            i=0\n#            while i < len(list_user_query) :\n#               if list_user_query[i] not in sorted_list_user_query:\n#                   list_user_query.pop(i)\n#                i+=1\n            \n            user_query = '+'.join(list_user_query)+ \"+site%3A\" + \"+OR+site%3A\".join(websites)\n            \n#            self.log(f\"[USER QUERY] {user_query} \\n[ SORTED LIST USER QUERY]{sorted_list_user_query}\")\n\n            self.log(\"\\n\" + \"-\" * 50 + \"\\n[USER_QUERY]  \" + str(user_query))\n            if isQuestion:\n                google_search = \"https://www.google.com/search?q=\" + user_query\n                self.log(\"[GOOGLE_SEARCH]   \" +"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 4, "subchunk_id": 1, "start_line": 113, "end_line": 147, "language": "py", "text": "                google_search = \"https://www.google.com/search?q=\" + user_query\n                self.log(\"[GOOGLE_SEARCH]   \" +\n                         str(google_search) + \"\\nIS_QUESTION\")\n            else:\n                google_search = \"https://www.google.com/search?q=\" + \\\n                    user_query + \"+askiitians+revision+notes\"\n                self.log(\"[GOOGLE_SEARCH]   \" +\n                         str(google_search) + \"\\nNOT_QUESTION\")\n            self.rq = requests.get(google_search).text\n\n            self.urls = re.findall(r'href=[\\'\"]?([^\\'\" >]+)', self.rq)\n\n            self.default_username = \"fax\"\n\n            self.link_to_be_parsed[\"username\"] = self.default_username\n            self.link_to_be_parsed[\"link\"] = []\n            self.link_to_be_parsed[\"domain\"] = []\n\n            # self.log(stringify(self.urls, indent=2))\n\n\n            for url in self.urls:\n                # self.log(f\"[RETURN LINKS URL] {url}\")\n\n                self.urlx = url[7:url.find(';') - 4]\n\n                if tldextract.extract(self.urlx).domain in self.useful_domains:\n                    self.link_to_be_parsed[\"link\"].append(str(self.urlx))\n                    self.link_to_be_parsed[\"domain\"].append(\n                        str(tldextract.extract(self.urlx).domain))\n                # self.log(\"[RETURNED LINKS]\")\n            self.log(f\"[RETURNED LINKS] : {stringify(self.link_to_be_parsed, indent =  2)}\")\n\n            return self.link_to_be_parsed\n        except Exception as e:"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 4, "subchunk_id": 2, "start_line": 146, "end_line": 150, "language": "py", "text": "            return self.link_to_be_parsed\n        except Exception as e:\n            self.writetheanswer(False, f\"[RETURN_LINKS]\")\n            \n            return self.link_to_be_parsed"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 4, "subchunk_id": 3, "start_line": 149, "end_line": 150, "language": "py", "text": "            \n            return self.link_to_be_parsed"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 4, "subchunk_id": 4, "start_line": 150, "end_line": 150, "language": "py", "text": "            return self.link_to_be_parsed"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 5, "subchunk_id": 0, "start_line": 151, "end_line": 193, "language": "py", "text": "\n    # def parsebrainly(self, response):\n    #     try:\n    #         ans = response.xpath(\n    #             \"//div[@class='sg-text js-answer-content brn-rich-content']\").extract()\n\n    #         imgsrc = self.convertLinks(response.xpath(\n    #             \"//section[@id='answers']//img[@title='Attachment']/@src\").extract(), response.request.url)\n\n    #         ans = self.janitor(ans)\n\n    #         self.answer[\"domain\"].append([\"brainly\", response.request.url])\n    #         self.answer[\"success\"] = 1\n    #         if imgsrc:\n    #             self.answer[\"answer\"].append([*ans, *imgsrc])\n    #         else:\n    #             self.answer[\"answer\"].append([*ans])\n    #     except Exception as e:\n\n    #         self.log_error(\"[BRAINLY]\")\n\n    def parseaskiitiansnotes(self, response):\n        self.log(\"[ASKNOTES CALLED]\")\n        try:\n\n            l = response.xpath('//div[@id=\"content\"]/pre/*').extract()\n            l = self.janitor(l)\n\n            img = self.convertLinks(response.xpath(\n                '//div[@id=\"content\"]//p//img/@src').extract(), response.request.url)\n\n            self.answer[\"domain\"].append([\"askiitans\", response.request.url])\n            self.answer[\"success\"] = 1\n\n            if type(img) != list:\n                img = [img]\n\n            if img:\n                self.answer[\"answer\"].append([*l, *img])\n            else:\n                self.answer[\"answer\"].append([*l])\n        except Exception as e:\n            self.log_error(\"[ASK_IITIANS_NOTES]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 6, "subchunk_id": 0, "start_line": 194, "end_line": 223, "language": "py", "text": "\n    def parseaskiitians(self, response: dict) -> None:\n        self.log(\"[ASK IITIANS CALLED]\")\n        try:\n\n            l = response.xpath(\n                '//*[@id=\"rptAnswers_ctl01_pnlAnswer\"]').extract()\n            l = self.janitor(l)\n\n            img = self.convertLinks(response.xpath(\n                '//div[@id=\"rptAnswers_ctl01_pnlAnswer\"]//img/@src').extract(), response.request.url)\n\n            self.answer[\"domain\"].append([\"askiitans\", response.request.url])\n            self.answer[\"success\"] = 1\n\n            if type(img) != list:\n                img = [img]\n\n            if img:\n                self.answer[\"answer\"].append([*l, *img])\n            else:\n                self.answer[\"answer\"].append([*l])\n\n        except scrapy.exceptions.NotSupported:\n            self.answer[\"answer\"].append([\"Please click the link below:\", response.url])\n            self.answer[\"domain\"].append(\n                [\"ASK_IITIANS\", response.request.url])\n            self.answer[\"success\"] = 1\n        except Exception:\n            self.log_error(\"[ASK_IITIANS]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 7, "subchunk_id": 0, "start_line": 224, "end_line": 240, "language": "py", "text": "\n\n    def parsestackexchange(self, response):\n        try:\n            answer = response.xpath(\n                \"//div[@class='post-text']/p/text()\").extract()\n            links = self.convertLinks(response.xpath(\n                \"//div[@class='post-text']//a/@href\").extract(), response.request.url)\n            for i in range(len(answer)):\n                answer[i] = answer[i].replace(\"$$\", \"$\")\n\n            self.answer[\"answer\"].append([*answer, *links])\n            self.answer[\"domain\"].append(\n                [\"Stack Exchange\", response.request.url])\n            self.answer[\"success\"] = 1\n        except Exception as e:\n            self.log_error(\"[STACK_EXCHANGE]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 8, "subchunk_id": 0, "start_line": 241, "end_line": 260, "language": "py", "text": "\n    def parsedoubtnut(self, response):\n        try:\n\n            htmls = str(response.text)\n            i_ans_text = htmls.find(\"Answer Text\")\n\n            htmls = htmls[i_ans_text:]\n\n            p_indexes = [m.start() for m in re.finditer('</p>', htmls)][2]\n            half_almost_answer = htmls[:p_indexes]\n            ind_almost_answer = half_almost_answer[::-1].find('>')\n            answer = half_almost_answer[-ind_almost_answer:]\n            answer = self.janitor(answer)\n            self.answer[\"success\"] = 1\n\n            self.answer[\"domain\"].append([\"doubtnut\", response.request.url])\n            self.answer[\"answer\"].append([*answer])\n        except Exception as e:\n            self.log_error(\"[DOUBTNUT]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 9, "subchunk_id": 0, "start_line": 261, "end_line": 294, "language": "py", "text": "\n    def parsesarthaks(self, response):\n        try:\n            ans = response.xpath(\n                '//div[@class=\"qa-a-item-content qa-post-content\"]/div[@itemprop=\"text\"]/*').extract()\n\n            # links = response.xpath(\n            #     '//div[@class=\"qa-a-item-content qa-post-content\"]/div[@itemprop=\"text\"]/p//span/img/@src').extract()\n\n\n\n            for i in range(len(ans)):\n                regexSearchResult = re.search(\"src=[\\\"'](.*?)[\\\"']\", ans[i])\n                if regexSearchResult:\n                    ans[i] = \"link\" + \\\n                        unescapeHTML(regexSearchResult.group()[5:-1])\n\n            ans = self.janitor(ans)\n\n            i = 0\n\n            while i < len(ans):\n                if ans[i] == \"\":\n                    ans.pop(i)\n                else:\n                    i += 1\n\n            self.answer[\"domain\"].append([\"Sarthaks\", response.request.url])\n            if len(ans) > 0:\n                self.answer[\"answer\"].append(ans)\n                self.answer[\"success\"] = 1\n\n        except Exception as e:\n            self.log_error(\"[SARTHAKS]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 10, "subchunk_id": 0, "start_line": 295, "end_line": 337, "language": "py", "text": "\n    def janitor(self, html_list):\n        try:\n\n            if type(html_list) != list:\n                html_list = [html_list]\n\n            ans_list = []\n\n            for raw_html in html_list:\n                split_str = '##SPLIT##'\n\n                cleantext = re.sub('<br/?>', split_str, raw_html)\n                cleantext = re.sub('&lt;br&gt;', split_str, cleantext)\n                cleantext = re.sub('<p.*?>', split_str, cleantext)\n                cleantext = re.sub('<.*?>', ' ', cleantext)\n                cleantext = re.sub('\\\\\\\\xa0', ' ', cleantext)\n\n                cleantext = re.sub('\\\\\\\\[A-Za-z]', ' ', cleantext)\n                cleantext = re.sub(\"\\\\n\", split_str, cleantext)\n\n                cleantext = str(cleantext).rstrip(\" []'\")\n                cleantext = str(cleantext).lstrip(\"[] '\")\n\n                cleantext = unescapeHTML(cleantext)\n\n                i = 0\n                while i < len(cleantext) - 1:\n                    if cleantext[i] == '$' and cleantext[i+1] != \"$\":\n                        cleantext = cleantext[:i] + \"$$\" + cleantext[i+1:]\n                        i += 2\n\n                    i += 1\n\n                i = 0\n                spaceFound = False\n                while i < len(cleantext):\n\n                    if cleantext[i] == \" \" and spaceFound == False:\n                        temp = i\n                        spaceFound = True\n                    if cleantext[i] != \" \" and spaceFound == True:\n                        spaceFound = False"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 10, "subchunk_id": 1, "start_line": 336, "end_line": 354, "language": "py", "text": "                    if cleantext[i] != \" \" and spaceFound == True:\n                        spaceFound = False\n                        cleantext = cleantext[:temp] + \" \" + cleantext[i:]\n                    i += 1\n\n                l = cleantext.split(split_str)\n\n                i = 0\n\n                while i < len(l):\n                    if l[i] == ' ' or l[i] == '':\n                        l.pop(i)\n                    i += 1\n\n                ans_list += l\n\n            return ans_list\n        except Exception as e:\n            self.log_error(\"[JANITOR]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 10, "subchunk_id": 2, "start_line": 353, "end_line": 354, "language": "py", "text": "        except Exception as e:\n            self.log_error(\"[JANITOR]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 10, "subchunk_id": 3, "start_line": 354, "end_line": 354, "language": "py", "text": "            self.log_error(\"[JANITOR]\")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 11, "subchunk_id": 0, "start_line": 355, "end_line": 373, "language": "py", "text": "\n    def convertLinks(self, links, url):\n        try:\n            url = url[:9] + url[9:].split(\"/\")[0]\n\n            if type(links) != list:\n                links = links.split(\",\")\n            newLinks = []\n\n            for i in range(len(links)):\n                links.extend(links.pop(0).split(','))\n\n            for link in links:\n                if link[0] == \"/\":\n                    link = url + link\n                newLinks.append(\"link\"+link)\n            return newLinks\n        except Exception as e:\n            self.writetheanswer(False, f\"[CONVERT_LINKS]: \")"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\somecrawler.py", "chunk_id": 12, "subchunk_id": 0, "start_line": 374, "end_line": 386, "language": "py", "text": "\n    def writetheanswer(self, works, error=\"[NO ERROR]\"):\n        if works:\n            add_answer(stringify(self.answer), 1, self.id)\n        else:\n            self.log_error(f\"[WRITE_THE_ANSWER]  {error}\")\n\n            self.answer = {\n                \"answer\": ['Couldn\\'t fetch answer, please try again'],\n                \"domain\": ['Error'],\n                \"success\": 0\n            }\n            add_answer(stringify(self.answer), -1, self.id)"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\scrapy_project\\spiders\\__init__.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 4, "language": "py", "text": "# This package will contain the spiders of your Scrapy project\n#\n# Please refer to the documentation for information on how to create and manage\n# your spiders."}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\static\\react\\precache-manifest.7402659bbe9414c9f8a0a04c9f37ba30.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 51, "language": "js", "text": "self.__precacheManifest = (self.__precacheManifest || []).concat([\n  {\n    \"revision\": \"5304f7cbab20ad29b64f0593550c6dec\",\n    \"url\": \"/static/react/../../templates/index.html\"\n  },\n  {\n    \"revision\": \"e42f8c61dbff282ba743\",\n    \"url\": \"/static/react/css/main.964b942e.chunk.css\"\n  },\n  {\n    \"revision\": \"7b868783f82b12c9fc45\",\n    \"url\": \"/static/react/js/2.11bff117.chunk.js\"\n  },\n  {\n    \"revision\": \"06846736985b484b7c04efce0ebea69c\",\n    \"url\": \"/static/react/js/2.11bff117.chunk.js.LICENSE\"\n  },\n  {\n    \"revision\": \"e42f8c61dbff282ba743\",\n    \"url\": \"/static/react/js/main.66be6618.chunk.js\"\n  },\n  {\n    \"revision\": \"8224bb54fa897954e806\",\n    \"url\": \"/static/react/js/runtime-main.81967064.js\"\n  },\n  {\n    \"revision\": \"1eae7a3b9b82d52d8412322fc7525b23\",\n    \"url\": \"/static/react/media/404.1eae7a3b.png\"\n  },\n  {\n    \"revision\": \"7865f30b9204c772a3e1aa967976a0bf\",\n    \"url\": \"/static/react/media/back.7865f30b.png\"\n  },\n  {\n    \"revision\": \"62690901197ed3745203b8a7308033ec\",\n    \"url\": \"/static/react/media/calvin-error.62690901.png\"\n  },\n  {\n    \"revision\": \"6a341ef5ca34e6b2080c7fa50476329a\",\n    \"url\": \"/static/react/media/chrome.6a341ef5.png\"\n  },\n  {\n    \"revision\": \"5aefd4537a0f3eddf05c295f127f8b75\",\n    \"url\": \"/static/react/media/chrome1.5aefd453.jpg\"\n  },\n  {\n    \"revision\": \"37e41271c749df5d5b555295a4abc34e\",\n    \"url\": \"/static/react/media/chrome2.37e41271.jpg\"\n  },\n  {\n    \"revision\": \"8dac28b4f18836c7f17cb31a4bde7709\","}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\static\\react\\precache-manifest.7402659bbe9414c9f8a0a04c9f37ba30.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 50, "end_line": 80, "language": "js", "text": "  {\n    \"revision\": \"8dac28b4f18836c7f17cb31a4bde7709\",\n    \"url\": \"/static/react/media/chrome3.8dac28b4.jpg\"\n  },\n  {\n    \"revision\": \"dce4348ffb12775546789ef290d2f5d1\",\n    \"url\": \"/static/react/media/error-icon.dce4348f.png\"\n  },\n  {\n    \"revision\": \"49be05137b20ad8a80b7a14ccfc62130\",\n    \"url\": \"/static/react/media/error.49be0513.png\"\n  },\n  {\n    \"revision\": \"9f6c16a354b76ed76cfd06fc881ec29a\",\n    \"url\": \"/static/react/media/firefox1.9f6c16a3.jpg\"\n  },\n  {\n    \"revision\": \"649f926ec6bfcdd1efd007b04fefb2b9\",\n    \"url\": \"/static/react/media/firefox2.649f926e.jpg\"\n  },\n  {\n    \"revision\": \"ef0036393c3e9da1c4aa4c5ae4a22e8b\",\n    \"url\": \"/static/react/media/logo512.ef003639.png\"\n  },\n  {\n    \"revision\": \"a64f5d7fa3930da5f70703eb258247a6\",\n    \"url\": \"/static/react/media/safari.a64f5d7f.png\"\n  },\n  {\n    \"revision\": \"2a3eaaa6ce7de205c5d7e76ea19c9b10\",\n    \"url\": \"/static/react/media/safari1.2a3eaaa6.jpg\""}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\static\\react\\precache-manifest.7402659bbe9414c9f8a0a04c9f37ba30.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 79, "end_line": 80, "language": "js", "text": "    \"revision\": \"2a3eaaa6ce7de205c5d7e76ea19c9b10\",\n    \"url\": \"/static/react/media/safari1.2a3eaaa6.jpg\""}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\static\\react\\precache-manifest.7402659bbe9414c9f8a0a04c9f37ba30.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 80, "end_line": 80, "language": "js", "text": "    \"url\": \"/static/react/media/safari1.2a3eaaa6.jpg\""}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\static\\react\\precache-manifest.7402659bbe9414c9f8a0a04c9f37ba30.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 81, "end_line": 94, "language": "js", "text": "  },\n  {\n    \"revision\": \"2d039f679dd724888b16e2644ae63551\",\n    \"url\": \"/static/react/media/safari2.2d039f67.jpg\"\n  },\n  {\n    \"revision\": \"88a2743bdba0c7683e27c62231d93f7b\",\n    \"url\": \"/static/react/media/safari3.88a2743b.jpg\"\n  },\n  {\n    \"revision\": \"371bf30157dedf8a6ffccd65d5f2f713\",\n    \"url\": \"/static/react/media/settings.371bf301.png\"\n  }\n]);"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Backend\\static\\react\\service-worker.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 19, "end_line": 24, "language": "js", "text": "\nself.addEventListener('message', (event) => {\n  if (event.data && event.data.type === 'SKIP_WAITING') {\n    self.skipWaiting();\n  }\n});"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\env.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 27, "end_line": 41, "language": "js", "text": "\n// Load environment variables from .env* files. Suppress warnings using silent\n// if this file is missing. dotenv will never modify any environment variables\n// that have already been set.  Variable expansion is supported in .env files.\n// https://github.com/motdotla/dotenv\n// https://github.com/motdotla/dotenv-expand\ndotenvFiles.forEach(dotenvFile => {\n  if (fs.existsSync(dotenvFile)) {\n    require('dotenv-expand')(\n      require('dotenv').config({\n        path: dotenvFile,\n      })\n    );\n  }\n});"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\env.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 53, "end_line": 57, "language": "js", "text": "process.env.NODE_PATH = (process.env.NODE_PATH || '')\n  .split(path.delimiter)\n  .filter(folder => folder && !path.isAbsolute(folder))\n  .map(folder => path.resolve(appDirectory, folder))\n  .join(path.delimiter);"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\env.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 62, "end_line": 91, "language": "js", "text": "\nfunction getClientEnvironment(publicUrl) {\n  const raw = Object.keys(process.env)\n    .filter(key => REACT_APP.test(key))\n    .reduce(\n      (env, key) => {\n        env[key] = process.env[key];\n        return env;\n      },\n      {\n        // Useful for determining whether were running in production mode.\n        // Most importantly, it switches React into the correct mode.\n        NODE_ENV: process.env.NODE_ENV || 'development',\n        // Useful for resolving the correct path to static assets in `public`.\n        // For example, <img src={process.env.PUBLIC_URL + '/img/logo.png'} />.\n        // This should only be used as an escape hatch. Normally you would put\n        // images into the `src` and `import` them in code to get their paths.\n        PUBLIC_URL: publicUrl,\n      }\n    );\n  // Stringify all values so we can feed into Webpack DefinePlugin\n  const stringified = {\n    'process.env': Object.keys(raw).reduce((env, key) => {\n      env[key] = JSON.stringify(raw[key]);\n      return env;\n    }, {}),\n  };\n\n  return { raw, stringified };\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\modules.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 14, "end_line": 48, "language": "js", "text": "function getAdditionalModulePaths(options = {}) {\n  const baseUrl = options.baseUrl;\n\n  // We need to explicitly check for null and undefined (and not a falsy value) because\n  // TypeScript treats an empty string as `.`.\n  if (baseUrl == null) {\n    // If there's no baseUrl set we respect NODE_PATH\n    // Note that NODE_PATH is deprecated and will be removed\n    // in the next major release of create-react-app.\n\n    const nodePath = process.env.NODE_PATH || '';\n    return nodePath.split(path.delimiter).filter(Boolean);\n  }\n\n  const baseUrlResolved = path.resolve(paths.appPath, baseUrl);\n\n  // We don't need to do anything if `baseUrl` is set to `node_modules`. This is\n  // the default behavior.\n  if (path.relative(paths.appNodeModules, baseUrlResolved) === '') {\n    return null;\n  }\n\n  // Allow the user set the `baseUrl` to `appSrc`.\n  if (path.relative(paths.appSrc, baseUrlResolved) === '') {\n    return [paths.appSrc];\n  }\n\n  // Otherwise, throw an error.\n  throw new Error(\n    chalk.red.bold(\n      \"Your project's `baseUrl` can only be set to `src` or `node_modules`.\" +\n        ' Create React App does not support other values at this time.'\n    )\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\modules.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 49, "end_line": 86, "language": "js", "text": "\nfunction getModules() {\n  // Check if TypeScript is setup\n  const hasTsConfig = fs.existsSync(paths.appTsConfig);\n  const hasJsConfig = fs.existsSync(paths.appJsConfig);\n\n  if (hasTsConfig && hasJsConfig) {\n    throw new Error(\n      'You have both a tsconfig.json and a jsconfig.json. If you are using TypeScript please remove your jsconfig.json file.'\n    );\n  }\n\n  let config;\n\n  // If there's a tsconfig.json we assume it's a\n  // TypeScript project and set up the config\n  // based on tsconfig.json\n  if (hasTsConfig) {\n    const ts = require(resolve.sync('typescript', {\n      basedir: paths.appNodeModules,\n    }));\n    config = ts.readConfigFile(paths.appTsConfig, ts.sys.readFile).config;\n    // Otherwise we'll check if there is jsconfig.json\n    // for non TS projects.\n  } else if (hasJsConfig) {\n    config = require(paths.appJsConfig);\n  }\n\n  config = config || {};\n  const options = config.compilerOptions || {};\n\n  const additionalModulePaths = getAdditionalModulePaths(options);\n\n  return {\n    additionalModulePaths: additionalModulePaths,\n    hasTsConfig,\n  };\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\paths.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 10, "language": "js", "text": "const resolveApp = relativePath => path.resolve(appDirectory, relativePath);"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\paths.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 23, "language": "js", "text": "\nfunction ensureSlash(inputPath, needsSlash) {\n  const hasSlash = inputPath.endsWith('/');\n  if (hasSlash && !needsSlash) {\n    return inputPath.substr(0, inputPath.length - 1);\n  } else if (!hasSlash && needsSlash) {\n    return `${inputPath}/`;\n  } else {\n    return inputPath;\n  }\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\paths.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 24, "end_line": 26, "language": "js", "text": "\nconst getPublicUrl = appPackageJson =>\n  envPublicUrl || require(appPackageJson).homepage;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\paths.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 27, "end_line": 39, "language": "js", "text": "\n// We use `PUBLIC_URL` environment variable or \"homepage\" field to infer\n// \"public path\" at which the app is served.\n// Webpack needs to know it to put the right <script> hrefs into HTML even in\n// single-page apps that may serve index.html for nested URLs like /todos/42.\n// We can't use a relative path in HTML because we don't want to load something\n// like /todos/42/static/js/bundle.7289d.js. We have to know the root.\nfunction getServedPath(appPackageJson) {\n  const publicUrl = getPublicUrl(appPackageJson);\n  const servedUrl =\n    envPublicUrl || (publicUrl ? url.parse(publicUrl).pathname : '/');\n  return ensureSlash(servedUrl, true);\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\paths.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 54, "end_line": 66, "language": "js", "text": "\n// Resolve file paths in the same order as webpack\nconst resolveModule = (resolveFn, filePath) => {\n  const extension = moduleFileExtensions.find(extension =>\n    fs.existsSync(resolveFn(`${filePath}.${extension}`))\n  );\n\n  if (extension) {\n    return resolveFn(`${filePath}.${extension}`);\n  }\n\n  return resolveFn(`${filePath}.js`);\n};"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\pnpTs.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 19, "language": "js", "text": "\nexports.resolveModuleName = (\n  typescript,\n  moduleName,\n  containingFile,\n  compilerOptions,\n  resolutionHost\n) => {\n  return resolveModuleName(\n    moduleName,\n    containingFile,\n    compilerOptions,\n    resolutionHost,\n    typescript.resolveModuleName\n  );\n};"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\pnpTs.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 20, "end_line": 35, "language": "js", "text": "\nexports.resolveTypeReferenceDirective = (\n  typescript,\n  moduleName,\n  containingFile,\n  compilerOptions,\n  resolutionHost\n) => {\n  return resolveModuleName(\n    moduleName,\n    containingFile,\n    compilerOptions,\n    resolutionHost,\n    typescript.resolveTypeReferenceDirective\n  );\n};"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 52, "end_line": 82, "language": "js", "text": "\n// This is the production and development configuration.\n// It is focused on developer experience, fast rebuilds, and a minimal bundle.\nmodule.exports = function(webpackEnv) {\n  const isEnvDevelopment = webpackEnv === 'development';\n  const isEnvProduction = webpackEnv === 'production';\n\n  // Webpack uses `publicPath` to determine where the app is being served from.\n  // It requires a trailing slash, or the file assets will get an incorrect path.\n  // In development, we always serve from the root. This makes config easier.\n  const publicPath = isEnvProduction\n    ? paths.servedPath\n    : isEnvDevelopment && '/';\n  // Some apps do not use client-side routing with pushState.\n  // For these, \"homepage\" can be set to \".\" to enable relative asset paths.\n  const shouldUseRelativeAssetPaths = publicPath === './';\n\n  // `publicUrl` is just like `publicPath`, but we will provide it to our app\n  // as %PUBLIC_URL% in `index.html` and `process.env.PUBLIC_URL` in JavaScript.\n  // Omit trailing slash as %PUBLIC_URL%/xyz looks better than %PUBLIC_URL%xyz.\n  const publicUrl = isEnvProduction\n    ? publicPath.slice(0, -1)\n    : isEnvDevelopment && '';\n  // Get environment variables to inject into our app.\n  const env = getClientEnvironment(publicUrl);\n\n  // common function to get style loaders\n  const getStyleLoaders = (cssOptions, preProcessor) => {\n    const loaders = [\n      isEnvDevelopment && require.resolve('style-loader'),\n      isEnvProduction && {"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 81, "end_line": 86, "language": "js", "text": "      isEnvDevelopment && require.resolve('style-loader'),\n      isEnvProduction && {\n        loader: MiniCssExtractPlugin.loader,\n        options: shouldUseRelativeAssetPaths ? { publicPath: '../../' } : {},\n      },\n      {"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 85, "end_line": 86, "language": "js", "text": "      },\n      {"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 86, "end_line": 86, "language": "js", "text": "      {"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 85, "end_line": 131, "language": "js", "text": "      },\n      {\n        loader: require.resolve('css-loader'),\n        options: cssOptions,\n      },\n      {\n        // Options for PostCSS as we reference these options twice\n        // Adds vendor prefixing based on your specified browser support in\n        // package.json\n        loader: require.resolve('postcss-loader'),\n        options: {\n          // Necessary for external CSS imports to work\n          // https://github.com/facebook/create-react-app/issues/2677\n          ident: 'postcss',\n          plugins: () => [\n            require('postcss-flexbugs-fixes'),\n            require('postcss-preset-env')({\n              autoprefixer: {\n                flexbox: 'no-2009',\n              },\n              stage: 3,\n            }),\n            // Adds PostCSS Normalize as the reset css with default options,\n            // so that it honors browserslist config in package.json\n            // which in turn let's users customize the target behavior as per their needs.\n            postcssNormalize(),\n          ],\n          sourceMap: isEnvProduction && shouldUseSourceMap,\n        },\n      },\n    ].filter(Boolean);\n    if (preProcessor) {\n      loaders.push(\n        {\n          loader: require.resolve('resolve-url-loader'),\n          options: {\n            sourceMap: isEnvProduction && shouldUseSourceMap,\n          },\n        },\n        {\n          loader: require.resolve(preProcessor),\n          options: {\n            sourceMap: true,\n          },\n        }\n      );\n    }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 130, "end_line": 161, "language": "js", "text": "      );\n    }\n    return loaders;\n  };\n\n  return {\n    mode: isEnvProduction ? 'production' : isEnvDevelopment && 'development',\n    // Stop compilation early in production\n    bail: isEnvProduction,\n    devtool: isEnvProduction\n      ? shouldUseSourceMap\n        ? 'source-map'\n        : false\n      : isEnvDevelopment && 'cheap-module-source-map',\n    // These are the \"entry points\" to our application.\n    // This means they will be the \"root\" imports that are included in JS bundle.\n    entry: [\n      // Include an alternative client for WebpackDevServer. A client's job is to\n      // connect to WebpackDevServer by a socket and get notified about changes.\n      // When you save a file, the client will either apply hot updates (in case\n      // of CSS changes), or refresh the page (in case of JS changes). When you\n      // make a syntax error, this client will display a syntax error overlay.\n      // Note: instead of the default WebpackDevServer client, we use a custom one\n      // to bring better experience for Create React App users. You can replace\n      // the line below with these two lines if you prefer the stock client:\n      // require.resolve('webpack-dev-server/client') + '?/',\n      // require.resolve('webpack/hot/dev-server'),\n      isEnvDevelopment &&\n        require.resolve('react-dev-utils/webpackHotDevClient'),\n      // Finally, this is your app's code:\n      paths.appIndexJs,\n      // We include the app code last so that if there is a runtime error during"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 6, "start_line": 160, "end_line": 190, "language": "js", "text": "      paths.appIndexJs,\n      // We include the app code last so that if there is a runtime error during\n      // initialization, it doesn't blow up the WebpackDevServer client, and\n      // changing JS code would still trigger a refresh.\n    ].filter(Boolean),\n    output: {\n      // The build folder.\n      path: isEnvProduction ? paths.appBuild : undefined,\n      // Add /* filename */ comments to generated require()s in the output.\n      pathinfo: isEnvDevelopment,\n      // There will be one main bundle, and one file per asynchronous chunk.\n      // In development, it does not produce real files.\n      filename: isEnvProduction\n        ? 'js/[name].[contenthash:8].js'\n        : isEnvDevelopment && 'js/bundle.js',\n      // TODO: remove this when upgrading to webpack 5\n      futureEmitAssets: true,\n      // There are also additional JS chunk files if you use code splitting.\n      chunkFilename: isEnvProduction\n        ? 'js/[name].[contenthash:8].chunk.js'\n        : isEnvDevelopment && 'js/[name].chunk.js',\n      // We inferred the \"public path\" (such as / or /my-project) from homepage.\n      // We use \"/\" in development.\n      publicPath: publicPath,\n      // Point sourcemap entries to original disk location (format as URL on Windows)\n      devtoolModuleFilenameTemplate: isEnvProduction\n        ? info =>\n            path\n              .relative(paths.appSrc, info.absoluteResourcePath)\n              .replace(/\\\\/g, '/')\n        : isEnvDevelopment &&"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 7, "start_line": 189, "end_line": 219, "language": "js", "text": "              .replace(/\\\\/g, '/')\n        : isEnvDevelopment &&\n          (info => path.resolve(info.absoluteResourcePath).replace(/\\\\/g, '/')),\n      // Prevents conflicts when multiple Webpack runtimes (from different apps)\n      // are used on the same page.\n      jsonpFunction: `webpackJsonp${appPackageJson.name}`,\n    },\n    optimization: {\n      minimize: isEnvProduction,\n      minimizer: [\n        // This is only used in production mode\n        new TerserPlugin({\n          terserOptions: {\n            parse: {\n              // We want terser to parse ecma 8 code. However, we don't want it\n              // to apply any minification steps that turns valid ecma 5 code\n              // into invalid ecma 5 code. This is why the 'compress' and 'output'\n              // sections only apply transformations that are ecma 5 safe\n              // https://github.com/facebook/create-react-app/pull/4234\n              ecma: 8,\n            },\n            compress: {\n              ecma: 5,\n              warnings: false,\n              // Disabled because of an issue with Uglify breaking seemingly valid code:\n              // https://github.com/facebook/create-react-app/issues/2376\n              // Pending further investigation:\n              // https://github.com/mishoo/UglifyJS2/issues/2011\n              comparisons: false,\n              // Disabled because of an issue with Terser breaking valid code:\n              // https://github.com/facebook/create-react-app/issues/5250"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 8, "start_line": 218, "end_line": 252, "language": "js", "text": "              // Disabled because of an issue with Terser breaking valid code:\n              // https://github.com/facebook/create-react-app/issues/5250\n              // Pending further investigation:\n              // https://github.com/terser-js/terser/issues/120\n              inline: 2,\n            },\n            mangle: {\n              safari10: true,\n            },\n            output: {\n              ecma: 5,\n              comments: false,\n              // Turned on because emoji and regex is not minified properly using default\n              // https://github.com/facebook/create-react-app/issues/2488\n              ascii_only: true,\n            },\n          },\n          // Use multi-process parallel running to improve the build speed\n          // Default number of concurrent runs: os.cpus().length - 1\n          // Disabled on WSL (Windows Subsystem for Linux) due to an issue with Terser\n          // https://github.com/webpack-contrib/terser-webpack-plugin/issues/21\n          parallel: !isWsl,\n          // Enable file caching\n          cache: true,\n          sourceMap: shouldUseSourceMap,\n        }),\n        // This is only used in production mode\n        new OptimizeCSSAssetsPlugin({\n          cssProcessorOptions: {\n            parser: safePostCssParser,\n            map: shouldUseSourceMap\n              ? {\n                  // `inline: false` forces the sourcemap to be output into a\n                  // separate file\n                  inline: false,"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 9, "start_line": 251, "end_line": 283, "language": "js", "text": "                  // separate file\n                  inline: false,\n                  // `annotation: true` appends the sourceMappingURL to the end of\n                  // the css file, helping the browser find the sourcemap\n                  annotation: true,\n                }\n              : false,\n          },\n        }),\n      ],\n      // Automatically split vendor and commons\n      // https://twitter.com/wSokra/status/969633336732905474\n      // https://medium.com/webpack/webpack-4-code-splitting-chunk-graph-and-the-splitchunks-optimization-be739a861366\n      splitChunks: {\n        chunks: 'all',\n        name: false,\n      },\n      // Keep the runtime chunk separated to enable long term caching\n      // https://twitter.com/wSokra/status/969679223278505985\n      // https://github.com/facebook/create-react-app/issues/5358\n      runtimeChunk: {\n        name: entrypoint => `runtime-${entrypoint.name}`,\n      },\n    },\n    resolve: {\n      // This allows you to set a fallback for where Webpack should look for modules.\n      // We placed these paths second because we want `node_modules` to \"win\"\n      // if there are any conflicts. This matches Node resolution mechanism.\n      // https://github.com/facebook/create-react-app/issues/253\n      modules: ['node_modules', paths.appNodeModules].concat(\n        modules.additionalModulePaths || []\n      ),\n      // These are the reasonable defaults supported by the Node ecosystem."}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 10, "start_line": 282, "end_line": 308, "language": "js", "text": "      ),\n      // These are the reasonable defaults supported by the Node ecosystem.\n      // We also include JSX as a common component filename extension to support\n      // some tools, although we do not recommend using it, see:\n      // https://github.com/facebook/create-react-app/issues/290\n      // `web` extension prefixes have been added for better support\n      // for React Native Web.\n      extensions: paths.moduleFileExtensions\n        .map(ext => `.${ext}`)\n        .filter(ext => useTypeScript || !ext.includes('ts')),\n      alias: {\n        // Support React Native Web\n        // https://www.smashingmagazine.com/2016/08/a-glimpse-into-the-future-with-react-native-for-web/\n        'react-native': 'react-native-web',\n      },\n      plugins: [\n        // Adds support for installing with Plug'n'Play, leading to faster installs and adding\n        // guards against forgotten dependencies and such.\n        PnpWebpackPlugin,\n        // Prevents users from importing files from outside of src/ (or node_modules/).\n        // This often causes confusion because we only process files within src/ with babel.\n        // To fix this, we prevent you from importing files out of src/ -- if you'd like to,\n        // please link the files into your node_modules/ and let module-resolution kick in.\n        // Make sure your source files are compiled, as they will not be processed in any way.\n        new ModuleScopePlugin(paths.appSrc, [paths.appPackageJson]),\n      ],\n    },"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 11, "start_line": 307, "end_line": 347, "language": "js", "text": "      ],\n    },\n    resolveLoader: {\n      plugins: [\n        // Also related to Plug'n'Play, but this time it tells Webpack to load its loaders\n        // from the current package.\n        PnpWebpackPlugin.moduleLoader(module),\n      ],\n    },\n    module: {\n      strictExportPresence: true,\n      rules: [\n        // Disable require.ensure as it's not a standard language feature.\n        { parser: { requireEnsure: false } },\n\n        // First, run the linter.\n        // It's important to do this before Babel processes the JS.\n        {\n          test: /\\.(js|mjs|jsx|ts|tsx)$/,\n          enforce: 'pre',\n          use: [\n            {\n              options: {\n                cache: true,\n                formatter: require.resolve('react-dev-utils/eslintFormatter'),\n                eslintPath: require.resolve('eslint'),\n                resolvePluginsRelativeTo: __dirname,\n                \n              },\n              loader: require.resolve('eslint-loader'),\n            },\n          ],\n          include: paths.appSrc,\n        },\n        {\n          // \"oneOf\" will traverse all following loaders until one will\n          // match the requirements. When no loader matches it will fall\n          // back to the \"file\" loader at the end of the loader list.\n          oneOf: [\n            // \"url\" loader works like \"file\" loader except that it embeds assets\n            // smaller than specified limit in bytes as data URLs to avoid requests."}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 12, "start_line": 346, "end_line": 381, "language": "js", "text": "            // \"url\" loader works like \"file\" loader except that it embeds assets\n            // smaller than specified limit in bytes as data URLs to avoid requests.\n            // A missing `test` is equivalent to a match.\n            {\n              test: [/\\.bmp$/, /\\.gif$/, /\\.jpe?g$/, /\\.png$/],\n              loader: require.resolve('url-loader'),\n              options: {\n                limit: imageInlineSizeLimit,\n                name: 'media/[name].[hash:8].[ext]',\n              },\n            },\n            // Process application JS with Babel.\n            // The preset includes JSX, Flow, TypeScript, and some ESnext features.\n            {\n              test: /\\.(js|mjs|jsx|ts|tsx)$/,\n              include: paths.appSrc,\n              loader: require.resolve('babel-loader'),\n              options: {\n                customize: require.resolve(\n                  'babel-preset-react-app/webpack-overrides'\n                ),\n                \n                plugins: [\n                  [\n                    require.resolve('babel-plugin-named-asset-import'),\n                    {\n                      loaderMap: {\n                        svg: {\n                          ReactComponent:\n                            '@svgr/webpack?-svgo,+titleProp,+ref![path]',\n                        },\n                      },\n                    },\n                  ],\n                ],\n                // This is a feature of `babel-loader` for webpack (not Babel itself)."}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 13, "start_line": 380, "end_line": 412, "language": "js", "text": "                ],\n                // This is a feature of `babel-loader` for webpack (not Babel itself).\n                // It enables caching results in ./node_modules/.cache/babel-loader/\n                // directory for faster rebuilds.\n                cacheDirectory: true,\n                // See #6846 for context on why cacheCompression is disabled\n                cacheCompression: false,\n                compact: isEnvProduction,\n              },\n            },\n            // Process any JS outside of the app with Babel.\n            // Unlike the application JS, we only compile the standard ES features.\n            {\n              test: /\\.(js|mjs)$/,\n              exclude: /@babel(?:\\/|\\\\{1,2})runtime/,\n              loader: require.resolve('babel-loader'),\n              options: {\n                babelrc: false,\n                configFile: false,\n                compact: false,\n                presets: [\n                  [\n                    require.resolve('babel-preset-react-app/dependencies'),\n                    { helpers: true },\n                  ],\n                ],\n                cacheDirectory: true,\n                // See #6846 for context on why cacheCompression is disabled\n                cacheCompression: false,\n                \n                // If an error happens in a package, it's possible to be\n                // because it was compiled. Thus, we don't want the browser\n                // debugger to show the original code. Instead, the code"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 14, "start_line": 411, "end_line": 439, "language": "js", "text": "                // because it was compiled. Thus, we don't want the browser\n                // debugger to show the original code. Instead, the code\n                // being evaluated would be much more helpful.\n                sourceMaps: false,\n              },\n            },\n            // \"postcss\" loader applies autoprefixer to our CSS.\n            // \"css\" loader resolves paths in CSS and adds assets as dependencies.\n            // \"style\" loader turns CSS into JS modules that inject <style> tags.\n            // In production, we use MiniCSSExtractPlugin to extract that CSS\n            // to a file, but in development \"style\" loader enables hot editing\n            // of CSS.\n            // By default we support CSS Modules with the extension .module.css\n            {\n              test: cssRegex,\n              exclude: cssModuleRegex,\n              use: getStyleLoaders({\n                importLoaders: 1,\n                sourceMap: isEnvProduction && shouldUseSourceMap,\n              }),\n              // Don't consider CSS imports dead code even if the\n              // containing package claims to have no side effects.\n              // Remove this when webpack adds a warning or an error for this.\n              // See https://github.com/webpack/webpack/issues/6571\n              sideEffects: true,\n            },\n            // Adds support for CSS Modules (https://github.com/css-modules/css-modules)\n            // using the extension .module.css\n            {"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 15, "start_line": 438, "end_line": 473, "language": "js", "text": "            // using the extension .module.css\n            {\n              test: cssModuleRegex,\n              use: getStyleLoaders({\n                importLoaders: 1,\n                sourceMap: isEnvProduction && shouldUseSourceMap,\n                modules: true,\n                getLocalIdent: getCSSModuleLocalIdent,\n              }),\n            },\n            // Opt-in support for SASS (using .scss or .sass extensions).\n            // By default we support SASS Modules with the\n            // extensions .module.scss or .module.sass\n            {\n              test: sassRegex,\n              exclude: sassModuleRegex,\n              use: getStyleLoaders(\n                {\n                  importLoaders: 2,\n                  sourceMap: isEnvProduction && shouldUseSourceMap,\n                },\n                'sass-loader'\n              ),\n              // Don't consider CSS imports dead code even if the\n              // containing package claims to have no side effects.\n              // Remove this when webpack adds a warning or an error for this.\n              // See https://github.com/webpack/webpack/issues/6571\n              sideEffects: true,\n            },\n            // Adds support for CSS Modules, but using SASS\n            // using the extension .module.scss or .module.sass\n            {\n              test: sassModuleRegex,\n              use: getStyleLoaders(\n                {\n                  importLoaders: 2,"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 16, "start_line": 472, "end_line": 505, "language": "js", "text": "                {\n                  importLoaders: 2,\n                  sourceMap: isEnvProduction && shouldUseSourceMap,\n                  modules: true,\n                  getLocalIdent: getCSSModuleLocalIdent,\n                },\n                'sass-loader'\n              ),\n            },\n            // \"file\" loader makes sure those assets get served by WebpackDevServer.\n            // When you `import` an asset, you get its (virtual) filename.\n            // In production, they would get copied to the `build` folder.\n            // This loader doesn't use a \"test\" so it will catch all modules\n            // that fall through the other loaders.\n            {\n              loader: require.resolve('file-loader'),\n              // Exclude `js` files to keep \"css\" loader working as it injects\n              // its runtime that would otherwise be processed through \"file\" loader.\n              // Also exclude `html` and `json` extensions so they get processed\n              // by webpacks internal loaders.\n              exclude: [/\\.(js|mjs|jsx|ts|tsx)$/, /\\.html$/, /\\.json$/],\n              options: {\n                name: 'media/[name].[hash:8].[ext]',\n              },\n            },\n            // ** STOP ** Are you adding a new loader?\n            // Make sure to add the new loader(s) before the \"file\" loader.\n          ],\n        },\n      ],\n    },\n    plugins: [\n      // Generates an `index.html` file with the <script> injected.\n      new HtmlWebpackPlugin("}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 17, "start_line": 504, "end_line": 540, "language": "js", "text": "      // Generates an `index.html` file with the <script> injected.\n      new HtmlWebpackPlugin(\n        Object.assign(\n          {},\n          {\n            inject: true,\n            template: paths.appHtml,\n            filename: \"../../templates/index.html\"\n          },\n          isEnvProduction\n            ? {\n                minify: {\n                  removeComments: true,\n                  collapseWhitespace: true,\n                  removeRedundantAttributes: true,\n                  useShortDoctype: true,\n                  removeEmptyAttributes: true,\n                  removeStyleLinkTypeAttributes: true,\n                  keepClosingSlash: true,\n                  minifyJS: true,\n                  minifyCSS: true,\n                  minifyURLs: true,\n                },\n              }\n            : undefined\n        )\n      ),\n      // Inlines the webpack runtime script. This script is too small to warrant\n      // a network request.\n      // https://github.com/facebook/create-react-app/issues/5358\n      isEnvProduction &&\n        shouldInlineRuntimeChunk &&\n        new InlineChunkHtmlPlugin(HtmlWebpackPlugin, [/runtime-.+[.]js/]),\n      // Makes some environment variables available in index.html.\n      // The public URL is available as %PUBLIC_URL% in index.html, e.g.:\n      // <link rel=\"shortcut icon\" href=\"%PUBLIC_URL%/favicon.ico\">\n      // In production, it will be an empty string unless you specify \"homepage\""}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 18, "start_line": 539, "end_line": 560, "language": "js", "text": "      // <link rel=\"shortcut icon\" href=\"%PUBLIC_URL%/favicon.ico\">\n      // In production, it will be an empty string unless you specify \"homepage\"\n      // in `package.json`, in which case it will be the pathname of that URL.\n      // In development, this will be an empty string.\n      new InterpolateHtmlPlugin(HtmlWebpackPlugin, env.raw),\n      // This gives some necessary context to module not found errors, such as\n      // the requesting resource.\n      new ModuleNotFoundPlugin(paths.appPath),\n      // Makes some environment variables available to the JS code, for example:\n      // if (process.env.NODE_ENV === 'production') { ... }. See `./env.js`.\n      // It is absolutely essential that NODE_ENV is set to production\n      // during a production build.\n      // Otherwise React will be compiled in the very slow development mode.\n      new webpack.DefinePlugin(env.stringified),\n      // This is necessary to emit hot updates (currently CSS only):\n      isEnvDevelopment && new webpack.HotModuleReplacementPlugin(),\n      // Watcher doesn't work well if you mistype casing in a path so we use\n      // a plugin that prints an error when you attempt to do this.\n      // See https://github.com/facebook/create-react-app/issues/240\n      isEnvDevelopment && new CaseSensitivePathsPlugin(),\n      // If you require a missing module and then `npm install` it, you still have\n      // to restart the development server for Webpack to discover it. This plugin"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 19, "start_line": 559, "end_line": 590, "language": "js", "text": "      // If you require a missing module and then `npm install` it, you still have\n      // to restart the development server for Webpack to discover it. This plugin\n      // makes the discovery automatic so you don't have to restart.\n      // See https://github.com/facebook/create-react-app/issues/186\n      isEnvDevelopment &&\n        new WatchMissingNodeModulesPlugin(paths.appNodeModules),\n      isEnvProduction &&\n        new MiniCssExtractPlugin({\n          // Options similar to the same options in webpackOptions.output\n          // both options are optional\n          filename: 'css/[name].[contenthash:8].css',\n          chunkFilename: 'css/[name].[contenthash:8].chunk.css',\n        }),\n      // Generate a manifest file which contains a mapping of all asset filenames\n      // to their corresponding output file so that tools can pick it up without\n      // having to parse `index.html`.\n      new ManifestPlugin({\n        fileName: 'asset-manifest.json',\n        publicPath: publicPath,\n        generate: (seed, files) => {\n          const manifestFiles = files.reduce(function(manifest, file) {\n            manifest[file.name] = file.path;\n            return manifest;\n          }, seed);\n\n          return {\n            files: manifestFiles,\n          };\n        },\n      }),\n      // Moment.js is an extremely popular library that bundles large locale files\n      // by default due to how Webpack interprets its code. This is a practical"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 20, "start_line": 589, "end_line": 616, "language": "js", "text": "      // Moment.js is an extremely popular library that bundles large locale files\n      // by default due to how Webpack interprets its code. This is a practical\n      // solution that requires the user to opt into importing specific locales.\n      // https://github.com/jmblog/how-to-optimize-momentjs-with-webpack\n      // You can remove this if you don't use Moment.js:\n      new webpack.IgnorePlugin(/^\\.\\/locale$/, /moment$/),\n      // Generate a service worker script that will precache, and keep up to date,\n      // the HTML & assets that are part of the Webpack build.\n      isEnvProduction &&\n        new WorkboxWebpackPlugin.GenerateSW({\n          clientsClaim: true,\n          exclude: [/\\.map$/, /asset-manifest\\.json$/],\n          importWorkboxFrom: 'cdn',\n          navigateFallback: publicUrl + '/index.html',\n          navigateFallbackBlacklist: [\n            // Exclude URLs starting with /_, as they're likely an API call\n            new RegExp('^/_'),\n            // Exclude any URLs whose last part seems to be a file extension\n            // as they're likely a resource and not a SPA route.\n            // URLs containing a \"?\" character won't be blacklisted as they're likely\n            // a route with query params (e.g. auth callbacks).\n            new RegExp('/[^/?]+\\\\.[^/]+$'),\n          ],\n        }),\n      // TypeScript type checking\n      useTypeScript &&\n        new ForkTsCheckerWebpackPlugin({\n          typescript: resolve.sync('typescript', {"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 21, "start_line": 615, "end_line": 657, "language": "js", "text": "        new ForkTsCheckerWebpackPlugin({\n          typescript: resolve.sync('typescript', {\n            basedir: paths.appNodeModules,\n          }),\n          async: isEnvDevelopment,\n          useTypescriptIncrementalApi: true,\n          checkSyntacticErrors: true,\n          resolveModuleNameModule: process.versions.pnp\n            ? `${__dirname}/pnpTs.js`\n            : undefined,\n          resolveTypeReferenceDirectiveModule: process.versions.pnp\n            ? `${__dirname}/pnpTs.js`\n            : undefined,\n          tsconfig: paths.appTsConfig,\n          reportFiles: [\n            '**',\n            '!**/__tests__/**',\n            '!**/?(*.)(spec|test).*',\n            '!**/src/setupProxy.*',\n            '!**/src/setupTests.*',\n          ],\n          silent: true,\n          // The formatter is invoked directly in WebpackDevServerUtils during development\n          formatter: isEnvProduction ? typescriptFormatter : undefined,\n        }),\n    ].filter(Boolean),\n    // Some libraries import Node modules but don't use them in the browser.\n    // Tell Webpack to provide empty mocks for them so importing them works.\n    node: {\n      module: 'empty',\n      dgram: 'empty',\n      dns: 'mock',\n      fs: 'empty',\n      http2: 'empty',\n      net: 'empty',\n      tls: 'empty',\n      child_process: 'empty',\n    },\n    // Turn off performance processing because we utilize\n    // our own hints via the FileSizeReporter\n    performance: false,\n  };\n};"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 22, "start_line": 656, "end_line": 657, "language": "js", "text": "  };\n};"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpack.config.js", "chunk_id": 0, "subchunk_id": 23, "start_line": 657, "end_line": 657, "language": "js", "text": "};"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\webpackDevServer.config.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 85, "end_line": 102, "language": "js", "text": "    before(app, server) {\n      if (fs.existsSync(paths.proxySetup)) {\n        // This registers user provided middleware for proxy reasons\n        require(paths.proxySetup)(app);\n      }\n\n      // This lets us fetch source contents from webpack for the error overlay\n      app.use(evalSourceMapMiddleware(server));\n      // This lets us open files from the runtime error overlay.\n      app.use(errorOverlayMiddleware());\n\n      // This service worker file is effectively a 'no-op' that will reset any\n      // previous service worker registered for the same host:port combination.\n      // We do this in development to avoid hitting the production cache if\n      // it used the same host and port.\n      // https://github.com/facebook/create-react-app/issues/2272#issuecomment-302832432\n      app.use(noopServiceWorkerMiddleware());\n    },"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\jest\\cssTransform.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 9, "language": "js", "text": "  process() {\n    return 'module.exports = {};';\n  },"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\jest\\cssTransform.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 10, "end_line": 13, "language": "js", "text": "  getCacheKey() {\n    // The output is always the same.\n    return 'cssTransform';\n  },"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\config\\jest\\fileTransform.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 39, "language": "js", "text": "  process(src, filename) {\n    const assetFilename = JSON.stringify(path.basename(filename));\n\n    if (filename.match(/\\.svg$/)) {\n      // Based on how SVGR generates a component name:\n      // https://github.com/smooth-code/svgr/blob/01b194cf967347d43d4cbe6b434404731b87cf27/packages/core/src/state.js#L6\n      const pascalCaseFileName = camelcase(path.parse(filename).name, {\n        pascalCase: true,\n      });\n      const componentName = `Svg${pascalCaseFileName}`;\n      return `const React = require('react');\n      module.exports = {\n        __esModule: true,\n        default: ${assetFilename},\n        ReactComponent: React.forwardRef(function ${componentName}(props, ref) {\n          return {\n            $$typeof: Symbol.for('react.element'),\n            type: 'svg',\n            ref: ref,\n            key: null,\n            props: Object.assign({}, props, {\n              children: ${assetFilename}\n            })\n          };\n        }),\n      };`;\n    }\n\n    return `module.exports = ${assetFilename};`;\n  },"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\build.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 12, "language": "js", "text": "\n// Makes the script crash on unhandled rejections instead of silently\n// ignoring them. In the future, promise rejections that are not handled will\n// terminate the Node.js process with a non-zero exit code.\nprocess.on('unhandledRejection', err => {\n  throw err;\n});"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\build.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 69, "end_line": 84, "language": "js", "text": "      if (warnings.length) {\n        console.log(chalk.yellow('Compiled with warnings.\\n'));\n        console.log(warnings.join('\\n\\n'));\n        console.log(\n          '\\nSearch for the ' +\n            chalk.underline(chalk.yellow('keywords')) +\n            ' to learn more about each warning.'\n        );\n        console.log(\n          'To ignore, add ' +\n            chalk.cyan('// eslint-disable-next-line') +\n            ' to the line before.\\n'\n        );\n      } else {\n        console.log(chalk.green('Compiled successfully.\\n'));\n      }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\build.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 115, "end_line": 117, "language": "js", "text": "    if (err && err.message) {\n      console.log(err.message);\n    }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\build.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 123, "end_line": 133, "language": "js", "text": "  // We used to support resolving modules according to `NODE_PATH`.\n  // This now has been deprecated in favor of jsconfig/tsconfig.json\n  // This lets you use absolute paths in imports inside large monorepos:\n  if (process.env.NODE_PATH) {\n    console.log(\n      chalk.yellow(\n        'Setting NODE_PATH to resolve modules absolutely has been deprecated in favor of setting baseUrl in jsconfig.json (or tsconfig.json if you are using TypeScript) and will be removed in a future major release of create-react-app.'\n      )\n    );\n    console.log();\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\build.js", "chunk_id": 2, "subchunk_id": 1, "start_line": 141, "end_line": 153, "language": "js", "text": "      if (err) {\n        if (!err.message) {\n          return reject(err);\n        }\n        messages = formatWebpackMessages({\n          errors: [err.message],\n          warnings: [],\n        });\n      } else {\n        messages = formatWebpackMessages(\n          stats.toJson({ all: false, warnings: true, errors: true })\n        );\n      }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\build.js", "chunk_id": 2, "subchunk_id": 2, "start_line": 154, "end_line": 161, "language": "js", "text": "      if (messages.errors.length) {\n        // Only keep the first error. Others are often indicative\n        // of the same problem, but confuse the reader with noise.\n        if (messages.errors.length > 1) {\n          messages.errors.length = 1;\n        }\n        return reject(new Error(messages.errors.join('\\n\\n')));\n      }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\build.js", "chunk_id": 2, "subchunk_id": 3, "start_line": 162, "end_line": 175, "language": "js", "text": "      if (\n        process.env.CI &&\n        (typeof process.env.CI !== 'string' ||\n          process.env.CI.toLowerCase() !== 'false') &&\n        messages.warnings.length\n      ) {\n        console.log(\n          chalk.yellow(\n            '\\nTreating warnings as errors because process.env.CI = true.\\n' +\n              'Most CI servers set it automatically.\\n'\n          )\n        );\n        return reject(new Error(messages.warnings.join('\\n\\n')));\n      }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\build.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 185, "end_line": 191, "language": "js", "text": "\nfunction copyPublicFolder() {\n  fs.copySync(paths.appPublic, paths.appBuild, {\n    dereference: true,\n    filter: file => file !== paths.appHtml,\n  });\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\start.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 12, "language": "js", "text": "\n// Makes the script crash on unhandled rejections instead of silently\n// ignoring them. In the future, promise rejections that are not handled will\n// terminate the Node.js process with a non-zero exit code.\nprocess.on('unhandledRejection', err => {\n  throw err;\n});"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\start.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 74, "end_line": 77, "language": "js", "text": "    if (port == null) {\n      // We have not found a port.\n      return;\n    }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\start.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 110, "end_line": 112, "language": "js", "text": "      if (err) {\n        return console.log(err);\n      }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\start.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 113, "end_line": 115, "language": "js", "text": "      if (isInteractive) {\n        clearConsole();\n      }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\start.js", "chunk_id": 1, "subchunk_id": 3, "start_line": 120, "end_line": 127, "language": "js", "text": "      if (process.env.NODE_PATH) {\n        console.log(\n          chalk.yellow(\n            'Setting NODE_PATH to resolve modules absolutely has been deprecated in favor of setting baseUrl in jsconfig.json (or tsconfig.json if you are using TypeScript) and will be removed in a future major release of create-react-app.'\n          )\n        );\n        console.log();\n      }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\start.js", "chunk_id": 1, "subchunk_id": 4, "start_line": 141, "end_line": 143, "language": "js", "text": "    if (err && err.message) {\n      console.log(err.message);\n    }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\test.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 13, "language": "js", "text": "\n// Makes the script crash on unhandled rejections instead of silently\n// ignoring them. In the future, promise rejections that are not handled will\n// terminate the Node.js process with a non-zero exit code.\nprocess.on('unhandledRejection', err => {\n  throw err;\n});"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\test.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 22, "end_line": 30, "language": "js", "text": "\nfunction isInGitRepository() {\n  try {\n    execSync('git rev-parse --is-inside-work-tree', { stdio: 'ignore' });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\scripts\\test.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 31, "end_line": 39, "language": "js", "text": "\nfunction isInMercurialRepository() {\n  try {\n    execSync('hg --cwd . root', { stdio: 'ignore' });\n    return true;\n  } catch (e) {\n    return false;\n  }\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\App.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 33, "end_line": 39, "language": "js", "text": "function App() {\n  return (\n    <BrowserRouter>\n      <ErrorBoundary>{typeof window.orientation !== \"undefined\" || dev ? <MobileApp /> : <CompApp />}</ErrorBoundary>\n    </BrowserRouter>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 12, "language": "js", "text": "import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\serviceWorker.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 20, "end_line": 51, "language": "js", "text": "\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\"This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA\");\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        console.log(\"Regestering ServiceWorker\");\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\serviceWorker.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 59, "end_line": 61, "language": "js", "text": "        if (installingWorker == null) {\n          return;\n        }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\serviceWorker.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 63, "end_line": 85, "language": "js", "text": "          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\"New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA.\");\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\serviceWorker.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 93, "end_line": 117, "language": "js", "text": "\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\");\n    });\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\serviceWorker.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 118, "end_line": 125, "language": "js", "text": "\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\compWebsite\\compWebsite.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 54, "language": "js", "text": "// !SECTION\n\nfunction CompApp() {\n  const [headHeight, setHeadHeight] = useState(0);\n  const [scroll, setScroll] = useState(0);\n\n  const changeHeadHeight = () => {\n    const head = document.getElementById(\"head\");\n    setHeadHeight(head.clientHeight);\n  };\n\n  useEffect(() => {\n    changeHeadHeight();\n\n    const changeScroll = () => {\n      setScroll(() => window.scrollY);\n    };\n    window.addEventListener(\"resize\", changeHeadHeight);\n    window.addEventListener(\"scroll\", changeScroll);\n    return () => {\n      window.removeEventListener(\"resize\", changeHeadHeight);\n      window.removeEventListener(\"scroll\", changeScroll);\n    };\n  }, []);\n\n  // opacity for header\n  let opacity = Math.max(Math.min(50 / scroll, 1), 0.7);\n\n  return (\n    <div className=\"App deskApp\">\n      <header className=\"deskHead\" style={{ opacity }} id=\"head\">\n        <h1>This app is not supported on Computers.</h1>\n      </header>\n      <div className=\"body\" style={{ top: headHeight }} id=\"main\">\n        {/* SECTION Main section, contains about and navlinks to tutorials */}\n        <div className=\"description\">\n          <div\n            style={{\n              fontSize: \"1.15rem\",\n              marginBottom: 30\n            }}\n          >\n            <p>\n              SnapSearch is a problem solving app, just take a picture and the app automatically scans the web to find the best answers for\n              you.\n            </p>\n            <br />\n            <p>"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\compWebsite\\compWebsite.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 53, "end_line": 82, "language": "js", "text": "            <br />\n            <p>\n              This app aims to provide instant solutions to problems in science subjects at the high school level. The user can provide an\n              image of the question or simply enter it in a prompt.\n            </p>\n            <p>SnapSearch sources answers from the internet, subject to a unique ranking system.</p>\n            <br />\n            <br />\n            <p>\n              Features of SnapSearch:\n              <br />\n              <ol>\n                <li>Gives access to quality quality answers from the best of websites.</li>\n\n                <li>Converts images to text by using and hence saves effort of typing.</li>\n\n                <li>Allows users to navigate between answers seamlessly through a simple swipe.</li>\n\n                <li>Enables users to save answers for later.</li>\n              </ol>\n            </p>\n          </div>\n          <h2>Go to your mobile phone in one of the following browsers and follow these tutorials to install it.</h2>\n        </div>\n        {/* !SECTION */}\n        <Tutorial headHeight={headHeight} />\n      </div>\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\compWebsite\\compWebsite.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 81, "end_line": 82, "language": "js", "text": "  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\compWebsite\\compWebsite.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 82, "end_line": 82, "language": "js", "text": "}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\compWebsite\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import Website from './compWebsite';\n\nexport default Website;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\functions\\backendHandling.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 13, "language": "js", "text": "\n// NOTE functions which will handle all backend calls\n\nexport function OCR(imgPath, cropJSON) {\n  let img = base64(imgPath, cropJSON);\n\n  return fetch(\"/OCR\", {\n    method: \"POST\",\n    body: JSON.stringify({ img }),\n    headers: { \"Content-Type\": \"application/json\" }\n  });\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\functions\\backendHandling.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 14, "end_line": 25, "language": "js", "text": "\nexport function scrape(question) {\n  return fetch(\"/scrapy\", {\n    method: \"POST\",\n    body: JSON.stringify({\n      question: question,\n      subject: localStorage.getItem(\"subject\"),\n      grade: localStorage.getItem(\"grade\")\n    }),\n    headers: { \"Content-Type\": \"application/json\" }\n  });\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\functions\\base64Converter.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 50, "language": "js", "text": "const base64 = (imgPath, { x, y, width, height, rotation }) => {\n  let img = new Image();\n  img.src = imgPath;\n  let htmlImg = document.getElementById(\"image\").getBoundingClientRect();\n\n  let angle = (rotation * Math.PI) / 2;\n\n  if (x < 0) {\n    x = 0;\n    y = 0;\n    width = htmlImg.width;\n    height = htmlImg.height;\n  } else {\n    x -= htmlImg.left;\n    y -= htmlImg.top;\n  }\n\n  let imgW = img.naturalWidth;\n  let imgH = img.naturalHeight;\n\n  let imgCanvas = document.createElement(\"canvas\");\n  let imgCtx = imgCanvas.getContext(\"2d\");\n  imgCanvas.height = imgH;\n  imgCanvas.width = imgW;\n  imgCtx.save();\n  imgCtx.translate(imgW / 2, imgH / 2);\n  imgCtx.rotate(angle);\n  imgCtx.drawImage(img, -imgW / 2, -imgH / 2);\n\n  let scaleX = imgW / htmlImg.width;\n  let scaleY = imgH / htmlImg.height;\n\n  x *= scaleX;\n  y *= scaleY;\n  width *= scaleX;\n  height *= scaleY;\n\n  console.log({ x, y, width, height, iw: img.width / 2, ih: img.height / 2 });\n\n  let base64Img;\n  img.crossOrigin = \"Anonymous\";\n  let canvas = document.createElement(\"canvas\");\n  let ctx = canvas.getContext(\"2d\");\n  canvas.height = height;\n  canvas.width = width;\n  ctx.drawImage(imgCanvas, -x, -y);\n  base64Img = canvas.toDataURL();\n\n  return base64Img;\n};"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\functions\\browserDetection.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 14, "end_line": 51, "language": "js", "text": "\nfunction matchItem(string, data) {\n    let i = 0,\n        j = 0,\n        regex,\n        regexv,\n        match,\n        matches,\n        version;\n    \n    for (i = 0; i < data.length; i += 1) {\n        regex = new RegExp(data[i].value, 'i');\n        match = regex.test(string);\n        if (match) {\n            regexv = new RegExp(data[i].version + '[- /:;]([._]+)', 'i');\n            matches = string.match(regexv);\n            version = '';\n            if (matches) { if (matches[1]) { matches = matches[1]; } }\n            if (matches) {\n                matches = matches.split(/[._]+/);\n                for (j = 0; j < matches.length; j += 1) {\n                    if (j === 0) {\n                        version += matches[j] + '.';\n                    } else {\n                        version += matches[j];\n                    }\n                }\n            } else {\n                version = '0';\n            }\n            return {\n                name: data[i].name,\n                version: parseFloat(version)\n            };\n        }\n    }\n    return { name: 'unknown', version: 0 };\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\functions\\localStorageHandleing.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 55, "language": "js", "text": "\nexport function init() {\n  let highlightColor = localStorage.getItem(\"highlightCol\");\n  if (highlightColor === null) {\n    localStorage.setItem(\"highlightCol\", \"rgb(50, 90, 245)\");\n    highlightColor = \"rgb(50, 90, 245)\";\n  }\n\n  let pressDelay = localStorage.getItem(\"pressDelay\");\n  if (pressDelay === null) {\n    localStorage.setItem(\"pressDelay\", \"300\");\n  }\n\n  let mode = localStorage.getItem(\"mode\");\n  if (mode === null) {\n    localStorage.setItem(\"mode\", \"dark\");\n    mode = \"dark\";\n  }\n\n  let helpMode = localStorage.getItem(\"helpMode\");\n  if (helpMode === null) {\n    localStorage.setItem(\"helpMode\", false);\n  }\n\n  let savedAnswers = localStorage.getItem(\"savedAnswers\");\n  if (savedAnswers === null) {\n    localStorage.setItem(\"savedAnswers\", JSON.stringify([]));\n  }\n\n  changeMode(mode);\n\n  let subject = localStorage.getItem(\"subject\");\n  if (subject === null) {\n    localStorage.setItem(\"subject\", \"General\");\n  }\n\n  let subjectSelector = localStorage.getItem(\"subjectSelector\");\n  if (subjectSelector === null) {\n    localStorage.setItem(\"subjectSelector\", \"Drop down on screen\");\n  }\n\n  let lastAns = localStorage.getItem(\"lastAns\");\n  if (lastAns === null) {\n    localStorage.setItem(\"lastAns\", '{\"answers\":[],\"question\":\"\",\"websites\":[]}');\n  }\n\n  style.setProperty(\"--highlightCol\", highlightColor);\n\n  document.getElementById(\"root\").style.backgroundColor = \"var(--backCol)\";\n\n  let grade = localStorage.getItem(\"grade\");\n\n  sessionStorage.setItem(\"new\", grade === null);\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\functions\\localStorageHandleing.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 56, "end_line": 66, "language": "js", "text": "\nexport function reset() {\n  localStorage.setItem(\"highlightCol\", \"rgb(50, 90, 245)\");\n  localStorage.setItem(\"pressDelay\", \"300\");\n  localStorage.setItem(\"mode\", \"dark\");\n  localStorage.setItem(\"subject\", \"General\");\n  localStorage.setItem(\"subjectSelector\", \"Drop down on screen\");\n  localStorage.setItem(\"helpMode\", false);\n  changeMode(\"dark\");\n  style.setProperty(\"--highlightCol\", \"rgb(50, 90, 245)\");\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\functions\\localStorageHandleing.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 67, "end_line": 84, "language": "js", "text": "\nexport function changeMode(mode) {\n  if (mode === \"dark\") {\n    style.setProperty(\"--backCol\", \"rgb(25, 25, 25)\");\n    style.setProperty(\"--backCol2\", \"rgb(30, 30, 30)\");\n    style.setProperty(\"--textCol\", \"white\");\n    style.setProperty(\"--midGray\", \"rgb(75, 75, 75)\");\n    style.setProperty(\"--midGray2\", \"rgb(50, 50, 50)\");\n    style.setProperty(\"--filter\", \"none\");\n  } else {\n    style.setProperty(\"--backCol\", \"white\");\n    style.setProperty(\"--backCol2\", \"rgb(230, 230, 230)\");\n    style.setProperty(\"--textCol\", \"black\");\n    style.setProperty(\"--midGray\", \"rgb(200, 200, 200)\");\n    style.setProperty(\"--midGray2\", \"rgb(220, 220, 220)\");\n    style.setProperty(\"--filter\", \"invert(1)\");\n  }\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\functions\\showHelp.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 12, "language": "js", "text": "const toShowHelp = arg => {\n    const val = +sessionStorage.getItem(\"helpSeen\");\n    if (localStorage.getItem(\"helpMode\") === \"true\") {\n        return true;\n    }\n\n    if (sessionStorage.getItem(\"new\") === \"true\") {\n        return val < arg;\n    }\n\n    return false;\n};"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import MobileApp from \"./mobileApp\";\n\nexport default MobileApp;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mobileApp.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 25, "end_line": 51, "language": "js", "text": "  constructor(props) {\n    super(props);\n\n    const details = JSON.parse(localStorage.getItem(\"lastAns\"));\n\n    this.state = {\n      question: details.question,\n      answers: details.answers,\n      websites: details.websites,\n      backToCam: false\n    };\n\n    this.screenWd =\n      window.screen.orientation.type === \"portrait-primary\" || window.screen.orientation.type === \"portrait-secondary\"\n        ? window.innerWidth\n        : window.innerHeight;\n    this.screenHt =\n      window.screen.orientation.type === \"portrait-primary\" || window.screen.orientation.type === \"portrait-secondary\"\n        ? window.innerHeight\n        : window.innerWidth;\n\n    setTimeout(() => {\n      this.started = true;\n    }, 100);\n    this.changeState = this.changeState.bind(this);\n    this.backToCamera = this.backToCamera.bind(this);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mobileApp.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 52, "end_line": 57, "language": "js", "text": "\n  // Passed to child <MainPage /> to allow it to change the Parent state to show answer\n  changeState(question, answers, websites) {\n    localStorage.setItem(\"lastAns\", JSON.stringify({ question, answers, websites }));\n    this.setState({ question, answers, websites });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mobileApp.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 58, "end_line": 66, "language": "js", "text": "\n  // Passed to child <AnswerPage /> to allow it to change the Parent state to show picture mode\n  backToCamera() {\n    this.setState({ backToCam: true });\n    setTimeout(() => {\n      this.setState({ backToCam: false });\n      this.props.history.push(\"/Picture\");\n    }, 500);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mobileApp.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 67, "end_line": 107, "language": "js", "text": "\n  render() {\n    return (\n      <div>\n        {window.innerHeight > window.innerWidth ? (\n          <>\n            <Switch>\n              <Route\n                path=\"/Answer\"\n                render={() => (\n                  <AnswerPage\n                    question={this.state.question}\n                    answers={this.state.answers}\n                    websites={this.state.websites}\n                    backClick={this.backToCamera}\n                  />\n                )}\n              />\n\n              <Route path=\"/Picture\" render={() => <MainPage changeState={this.changeState} />} />\n\n              <Route path=\"/Settings\" render={() => <SettingsPage backClick={this.backToCamera} />} />\n\n              <Route path=\"/Saved Answers\" render={() => <SavedAnswerPage backClick={this.backToCamera} />} />\n\n              <Route path=\"/GradeChoice\" component={GradeChoice} />\n\n              <Route\n                path={[\"/Tutorial\", \"/Chrome\", \"/Firefox\", \"/Safari\"]}\n                render={() => <MobileTutorial backClick={this.backToCamera} />}\n              />\n\n              <Route path=\"/BlackScreen\" render={() => <div></div>} />\n\n              <Route path=\"/Unknown\" component={Unknown} />\n\n              <Route exact path=\"/\" component={StartScreen} />\n\n              {this.started ? <Route path=\"*\" render={() => <Redirect to=\"/Unknown\" />} /> : null}\n            </Switch>\n            {!this.state.backToCam ? null : <MainPage changeState={this.changeState} backToCam={true} />}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mobileApp.js", "chunk_id": 3, "subchunk_id": 1, "start_line": 106, "end_line": 124, "language": "js", "text": "            </Switch>\n            {!this.state.backToCam ? null : <MainPage changeState={this.changeState} backToCam={true} />}\n          </>\n        ) : (\n          <div\n            style={{\n              width: this.screenHt,\n              height: this.screenWd,\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"center\"\n            }}\n          >\n            Please turn your device to potrait mode.\n          </div>\n        )}\n      </div>\n    );\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mobileApp.js", "chunk_id": 3, "subchunk_id": 2, "start_line": 123, "end_line": 124, "language": "js", "text": "    );\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mobileApp.js", "chunk_id": 3, "subchunk_id": 3, "start_line": 124, "end_line": 124, "language": "js", "text": "  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 17, "end_line": 44, "language": "js", "text": "  constructor(props) {\n    super(props);\n    this.state = {\n      num: 0,\n      lastNum: this.props.answers.length,\n      showMenu: false,\n      backToAns: false,\n      selectedArr: createArr(this.props.answers.length),\n      showHelp: toShowHelp(2)\n    };\n\n    this.maxHeight = 0;\n\n    document.body.style.overflowX = \"hidden\";\n    document.documentElement.style.setProperty(\"--popupHeight\", (this.props.websites.length * window.innerHeight) / 13 + \"px\");\n\n    // SECTION function bindings\n    this.jumpto = this.jumpto.bind(this);\n    this.backClick = this.backClick.bind(this);\n    this.nextClick = this.nextClick.bind(this);\n    this.swipeNext = this.swipeNext.bind(this);\n    this.swipeBack = this.swipeBack.bind(this);\n    this.saveAnswer = this.saveAnswer.bind(this);\n    this.handleClick = this.handleClick.bind(this);\n    this.returnToAnswer = this.returnToAnswer.bind(this);\n    this.handleMenuClick = this.handleMenuClick.bind(this);\n    // !SECTION\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 45, "end_line": 62, "language": "js", "text": "\n  /* SECTION FUNCTIONS */\n\n  saveAnswer() {\n    let savedAnswers = JSON.parse(localStorage.getItem(\"savedAnswers\"));\n    savedAnswers.push({\n      question: `${this.props.question} -${this.props.websites[this.state.num]}`,\n      answer: this.props.answers[this.state.num]\n    });\n    localStorage.setItem(\"savedAnswers\", JSON.stringify(savedAnswers));\n\n    let arr = this.state.selectedArr;\n    arr[this.state.num] = true;\n    this.setState({ selectedArr: arr });\n    setTimeout(() => {\n      this.forceUpdate();\n    }, 50);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 63, "end_line": 71, "language": "js", "text": "\n  jumpto(e) {\n    this.setState({ num: e.target.value });\n    this.returnToAnswer();\n    setTimeout(() => {\n      let websitePosition = document.getElementById(\"websitePosition\").getBoundingClientRect();\n      this.setState({ pos: { top: websitePosition.top, left: websitePosition.left } });\n    }, 250);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 72, "end_line": 75, "language": "js", "text": "\n  handleMenuClick() {\n    this.setState({ showMenu: !this.state.showMenu });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 76, "end_line": 82, "language": "js", "text": "\n  returnToAnswer() {\n    this.setState({ backToAns: true });\n    setTimeout(() => {\n      this.setState({ showMenu: false, backToAns: false });\n    }, 299);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 83, "end_line": 88, "language": "js", "text": "\n  // handles click of the Back button\n  handleClick() {\n    this.setState({ backToCam: true });\n    this.props.backClick(\"answer\");\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 89, "end_line": 97, "language": "js", "text": "\n  // goes to previous answer\n  backClick() {\n    this.setState({ num: this.state.num - 1 });\n    setTimeout(() => {\n      let websitePosition = document.getElementById(\"websitePosition\").getBoundingClientRect();\n      this.setState({ pos: { top: websitePosition.top, left: websitePosition.left } });\n    }, 250);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 98, "end_line": 106, "language": "js", "text": "\n  // goes to next answer\n  nextClick() {\n    this.setState({ num: this.state.num + 1 });\n    setTimeout(() => {\n      let websitePosition = document.getElementById(\"websitePosition\").getBoundingClientRect();\n      this.setState({ pos: { top: websitePosition.top, left: websitePosition.left } });\n    }, 250);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 107, "end_line": 113, "language": "js", "text": "\n  // SECTION swipe functions\n  swipeNext() {\n    if (this.state.num < this.state.lastNum - 1) {\n      this.nextClick();\n    }\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 9, "subchunk_id": 0, "start_line": 114, "end_line": 119, "language": "js", "text": "\n  swipeBack() {\n    if (this.state.num > 0) {\n      this.backClick();\n    }\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 10, "subchunk_id": 0, "start_line": 120, "end_line": 132, "language": "js", "text": "  // !SECTION\n\n  componentDidMount() {\n    let websitePosition = document.getElementById(\"websitePosition\").getBoundingClientRect();\n    this.setState({ pos: { top: websitePosition.top, left: websitePosition.left } });\n\n    let ansContainer = document.getElementById(\"ansContainer\").getBoundingClientRect();\n    let bot = document.getElementById(\"bot\").getBoundingClientRect();\n\n    sessionStorage.setItem(\"helpSeen\", 2);\n    this.maxHeight = window.innerHeight - ansContainer.top - bot.height;\n    this.forceUpdate();\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 11, "subchunk_id": 0, "start_line": 133, "end_line": 173, "language": "js", "text": "  /* !SECTION */\n\n  render() {\n    const back = this.state.num > 0;\n    const next = this.state.num < this.state.lastNum - 1;\n    let len = this.props.answers.length;\n    let selected = this.state.selectedArr[this.state.num];\n    return (\n      <div\n        style={{\n          minHeight: window.innerHeight,\n          position: \"absolute\",\n          width: window.innerWidth\n        }}\n        className={this.state.backToCam ? \"slideout\" : \"\"}\n      >\n        <HelpOverlay show={this.state.showHelp} handleExitClick={() => this.setState({ showHelp: false })} />\n        {/* SECTION Back Button */}\n        <header\n          className=\"top fadein\"\n          style={{\n            height: Math.round(window.innerHeight / 11),\n            gridTemplateColumns: \"2fr 7fr 3fr\"\n          }}\n          id=\"head\"\n        >\n          <Back handleClick={this.handleClick} />\n          <a style={webStyle} id=\"websitePosition\" href={this.props.websites[this.state.num][1]}>\n            {this.props.websites[this.state.num][0]}\n          </a>\n          <div style={navObj}>\n            <div\n              className=\"bookmark-holder\"\n              style={{\n                padding: ((10 / 100) * (69 / 100) * window.innerHeight) / 7,\n                backgroundColor: selected ? \"var(--highlightCol)\" : \"transparent\"\n              }}\n              onClick={this.saveAnswer}\n            >\n              <img className=\"nav-img\" src={require(\"pictures/bookmark.png\")} alt=\"bookmark\" />\n            </div>"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 11, "subchunk_id": 1, "start_line": 172, "end_line": 174, "language": "js", "text": "              <img className=\"nav-img\" src={require(\"pictures/bookmark.png\")} alt=\"bookmark\" />\n            </div>\n          </div>"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 11, "subchunk_id": 2, "start_line": 173, "end_line": 174, "language": "js", "text": "            </div>\n          </div>"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 11, "subchunk_id": 3, "start_line": 174, "end_line": 174, "language": "js", "text": "          </div>"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 11, "subchunk_id": 4, "start_line": 173, "end_line": 214, "language": "js", "text": "            </div>\n          </div>\n        </header>\n        {/* !SECTION */}\n        {/* SECTION Answer displayer */}\n        <div style={container}>\n          <div className=\"info\" style={infoStyle} id=\"question\">\n            <p style={{ margin: 0, fontWeight: 400 }}>{this.props.question}</p>\n          </div>\n          <Swipe onSwipeLeft={this.swipeNext} onSwipeRight={this.swipeBack} tolerance={100}>\n            <div\n              className=\"answerContainer fadein\"\n              style={{\n                transform: `translateX(-${this.state.num * 110}%)`,\n                height: this.maxHeight\n              }}\n              id=\"ansContainer\"\n            >\n              {this.props.answers.map((item, i) => (\n                <Answer question={this.props.question} answer={item} key={this.props.websites[i]} id={`p${i}`} />\n              ))}\n            </div>\n          </Swipe>\n        </div>\n        {/* !SECTION */}\n        {!this.state.showMenu ? null : (\n          <div>\n            <div\n              style={{\n                position: \"absolute\",\n                width: window.innerHeight,\n                height: window.innerHeight,\n                top: 0,\n                backgroundColor: \"black\",\n                opacity: 0.6,\n                animation: \"300ms fadeto06\"\n              }}\n              onClick={this.returnToAnswer}\n              className={this.state.backToAns ? \"end06\" : null}\n            ></div>\n            <ul\n              style={{"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 11, "subchunk_id": 5, "start_line": 213, "end_line": 252, "language": "js", "text": "            <ul\n              style={{\n                height: (len * window.innerHeight) / 13,\n                width: window.innerWidth / 2,\n                left: window.innerWidth / 4,\n                bottom: (7 * window.innerHeight) / 100\n              }}\n              className={`menu-ul ${this.state.backToAns ? \"end\" : null}`}\n            >\n              {this.props.websites.map((website, i) => (\n                <li\n                  key={website}\n                  value={i}\n                  style={{\n                    height: window.innerHeight / 15,\n                    bottom: (i * window.innerHeight) / 14,\n                    animation: `fadein 400ms linear ${(i * 200) / len}ms`\n                  }}\n                  className=\"menu-li\"\n                  onClick={this.jumpto}\n                >\n                  {website[0]}\n                </li>\n              ))}\n            </ul>\n          </div>\n        )}\n        {/* SECTION Bottom Navigation */}\n        <div className=\"bot fadein\" id=\"bot\">\n          {back ? (\n            <button className=\"botItem button\" style={{ ...botNavStyle, opacity: 1 }} onClick={this.backClick}>\n              {\"< Back\"}\n            </button>\n          ) : (\n            <p className=\"botItem button\" style={{ ...botNavStyle, opacity: 0.5 }}>\n              {\"< Back\"}\n            </p>\n          )}\n\n          <button className=\"botItem\" style={botNavStyle} onClick={this.handleMenuClick}>"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 11, "subchunk_id": 6, "start_line": 251, "end_line": 274, "language": "js", "text": "\n          <button className=\"botItem\" style={botNavStyle} onClick={this.handleMenuClick}>\n            <div className={`hamburger hamburger--collapse ${this.state.showMenu ? \"is-active\" : \"\"}`}>\n              <span className=\"hamburger-box\">\n                <span className=\"hamburger-inner\"></span>\n              </span>\n            </div>\n            <p style={{ margin: 0 }}>Answer {this.state.num + 1}</p>\n          </button>\n\n          {next ? (\n            <button className=\"botItem button\" style={{ ...botNavStyle, opacity: 1 }} onClick={this.nextClick}>\n              {\"Next >\"}\n            </button>\n          ) : (\n            <p className=\"botItem button\" style={{ ...botNavStyle, opacity: 0.5 }}>\n              {\"Next >\"}\n            </p>\n          )}\n        </div>\n        {/* !SECTION */}\n      </div>\n    );\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 11, "subchunk_id": 7, "start_line": 273, "end_line": 274, "language": "js", "text": "    );\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 11, "subchunk_id": 8, "start_line": 274, "end_line": 274, "language": "js", "text": "  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\AnswerPage.js", "chunk_id": 12, "subchunk_id": 0, "start_line": 278, "end_line": 285, "language": "js", "text": "\nfunction createArr(len) {\n  let arr = [];\n  for (let i = 0; i < len; i++) {\n    arr.push(false);\n  }\n  return arr;\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import AnswerPage from \"./AnswerPage\";\n\nexport default AnswerPage;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\Answer\\Answer.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 41, "language": "js", "text": "\nfunction Answer({ id, answer, width = (9 * window.innerWidth) / 10 }) {\n    let [height, setHeight] = useState(0);\n    let [imgLoaded, setImgLoaded] = useState(0);\n    let [mathLoaded, setMathLoaded] = useState(false);\n\n    useEffect(() => {\n        setTimeout(() => {\n            let pRect = document.getElementById(id).getBoundingClientRect();\n            let container = document.getElementById(\"ansContainer\").getBoundingClientRect();\n\n            setHeight(Math.min(container.height - 20, pRect.height + 2 * infoStyle.padding));\n\n            if (imgLoaded) {\n                let div = document.getElementById(id).getBoundingClientRect();\n                let img = document.getElementById(`${id}img`).getBoundingClientRect();\n                setHeight(Math.min(Math.max(img.height, div.height), container.height - 20));\n            }\n        }, 100);\n\n        // eslint-disable-next-line\n    }, [imgLoaded, mathLoaded]);\n\n    return (\n        <div className=\"info\" style={{ ...infoStyle, ...answerStyle, height, width }}>\n            <div id={id}>\n                <div>\n                    {answer.map((item, i) => (\n                        <div key={id + \"-\" + i}>\n                            {item.slice(0, 4) === \"link\" ? (\n                                isImage(item.slice(4, item.length)) ? (\n                                    <img\n                                        src={item.slice(4, item.length)}\n                                        alt={`answer-${id}-${i}`}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\Answer\\Answer.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 40, "end_line": 64, "language": "js", "text": "                                        src={item.slice(4, item.length)}\n                                        alt={`answer-${id}-${i}`}\n                                        style={{\n                                            width: \"100%\",\n                                            marginBottom: 15\n                                        }}\n                                        id={`${id}img`}\n                                        onLoad={() => setImgLoaded(imgLoaded + 1)}\n                                    />\n                                ) : (\n                                    <a className=\"link\" href={item.slice(4, item.length)}>\n                                        {item.slice(4, item.length)}\n                                    </a>\n                                )\n                            ) : (\n                                <MathJax.Context\n                                    input=\"ascii\"\n                                    onLoad={() => setMathLoaded(true)}\n                                    onError={(MathJax, error) => {\n                                        console.warn(error);\n                                        console.log(\n                                            \"Encountered a MathJax error, re-attempting a typeset!\"\n                                        );\n                                        MathJax.Hub.Queue(MathJax.Hub.Typeset());\n                                    }}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\Answer\\Answer.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 63, "end_line": 87, "language": "js", "text": "                                        MathJax.Hub.Queue(MathJax.Hub.Typeset());\n                                    }}\n                                    script=\"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=AM_HTMLorMML\"\n                                    options={{\n                                        asciimath2jax: {\n                                            useMathMLspacing: true,\n                                            delimiters: [\n                                                [\"$\", \"$\"],\n                                                [\"`\", \"`\"]\n                                            ],\n                                            preview: \"none\"\n                                        }\n                                    }}\n                                >\n                                    <MathJax.Text text={item} />\n                                </MathJax.Context>\n                            )}\n                            <p />\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\Answer\\Answer.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 86, "end_line": 87, "language": "js", "text": "    );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\Answer\\Answer.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 87, "end_line": 87, "language": "js", "text": "}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\Answer\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import Answer from \"./Answer\";\n\nexport default Answer;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\HelpOverlay\\HelpOverlay.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 40, "language": "js", "text": "\nfunction HelpOverlay({ show, handleExitClick }) {\n  let screenHt = window.innerHeight > window.innerWidth ? window.innerHeight : window.innerWidth;\n  let screenWd = window.innerHeight > window.innerWidth ? window.innerWidth : window.innerHeight;\n\n  return (\n    <div style={show ? {} : { display: \"none\" }}>\n      <div className=\"help\">\n        <div>\n          <div style={{ top: screenHt / 11, width: screenWd }}>\n            <p className=\"arrow\">&#8593;</p>\n            <p className=\"arrow-extension\">|</p>\n            <p className=\"arrow-extension\">|</p>\n            <p className=\"arrow-extension\">|</p>\n            <p className=\"arrow-extension\">|</p>\n            <p className=\"arrow-extension\">|</p>\n            <p className=\"main-p\">Website</p>\n            <p>\n              Shows where this answer was gotten from.\n              <br />\n              It is additionaly a link to the answer.\n            </p>\n          </div>\n          <div style={{ top: screenHt / 10, width: screenWd / 2.5 }}>\n            <p className=\"main-p\">\n              <span className=\"arrow\">&nbsp; &#8593;</span> &ensp; Back &emsp;\n            </p>\n            <p>Go back to main page.</p>\n          </div>\n          <div\n            style={{\n              top: screenHt / 10,\n              left: 0.6 * screenWd,\n              right: 0,\n              width: screenWd / 2.5\n            }}\n          >\n            <p className=\"arrow\">&ensp; &#8593;</p>\n            <p className=\"main-p\">Bookmark</p>"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\HelpOverlay\\HelpOverlay.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 39, "end_line": 76, "language": "js", "text": "            <p className=\"arrow\">&ensp; &#8593;</p>\n            <p className=\"main-p\">Bookmark</p>\n            <p>Clicking on this saves the answer, and can be seen in the Bookmark tab.</p>\n          </div>\n          <div\n            style={{\n              top: 0.69 * screenHt,\n              width: screenWd\n            }}\n          >\n            <p>\n              This shows you the current answer you are at\n              <br />\n              You can also click it to go to any answer\n            </p>\n            <p className=\"arrow-extension\">|</p>\n            <p className=\"arrow-extension\">|</p>\n            <p className=\"arrow-extension\">|</p>\n            <p className=\"arrow-extension\">|</p>\n            <p className=\"arrow-extension\">|</p>\n            <p className=\"arrow\">&#8595;</p>\n          </div>\n          <div style={{ width: 0.4 * screenWd, top: 0.82 * screenHt }}>\n            <p>Go to previous answer.</p>\n            <p className=\"arrow\">&#8595;</p>\n          </div>\n          <div style={{ width: 0.4 * screenWd, top: 0.82 * screenHt, left: 0.6 * screenWd }}>\n            <p>Go to previous answer.</p>\n            <p className=\"arrow\">&#8595;</p>\n          </div>\n        </div>\n      </div>\n      <button className=\"exit-button\" onClick={handleExitClick}>\n        x\n      </button>\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\HelpOverlay\\HelpOverlay.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 75, "end_line": 76, "language": "js", "text": "  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\HelpOverlay\\HelpOverlay.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 76, "end_line": 76, "language": "js", "text": "}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\answerPage\\HelpOverlay\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import HelpOverlay from \"./HelpOverlay\";\n\nexport default HelpOverlay;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\gradeChoice\\gradeChoice.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 45, "language": "js", "text": "\nfunction GradeChoice({ history }) {\n    sessionStorage.setItem(\"fadePicture\", \"true\");\n\n    const changeChoice = e => {\n        setSelected(+e.target.title);\n    };\n\n    const submit = () => {\n        localStorage.setItem(\"grade\", \"\" + selected);\n        setAnimation(\"fadeout\");\n        setTimeout(() => history.push(\"/Picture\"), 500);\n    };\n\n    let [selected, setSelected] = useState(-1);\n    let [animation, setAnimation] = useState(\"fadein\");\n\n    let grades = [9, 10, 11, 12];\n\n    return (\n        <div className={animation}>\n            <div\n                className=\"info center ques\"\n                style={{\n                    borderRadius: 10,\n                    height: window.innerHeight / 11,\n                    fontSize: (3 * window.innerHeight) / 100,\n                    marginBottom: (4 * window.innerHeight) / 100,\n                    marginTop: (3 * window.innerHeight) / 100\n                }}\n            >\n                Which grade are you in?\n            </div>\n            {grades.map(grade => (\n                <div\n                    style={{\n                        backgroundColor:\n                            grade === selected\n                                ? \"rgba(50, 90, 245, 0.2)\"\n                                : \"rgba(255, 255, 255, 0.2)\",\n                        border:\n                            grade === selected\n                                ? \"3px solid rgb(50, 90, 245)\"\n                                : \"3px solid transparent\","}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\gradeChoice\\gradeChoice.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 44, "end_line": 69, "language": "js", "text": "                                ? \"3px solid rgb(50, 90, 245)\"\n                                : \"3px solid transparent\",\n                        borderRadius: window.innerHeight / 50,\n                        height: (14 * window.innerHeight) / 100,\n                        margin: `${(3 * window.innerHeight) / 100}px ${(5 * window.innerWidth) /\n                            100}px`\n                    }}\n                    key={grade}\n                    title={grade}\n                    className=\"choice\"\n                    onClick={changeChoice}\n                >\n                    <p title={grade}>Class {grade}</p>\n                </div>\n            ))}\n            <button\n                className=\"submit-button center\"\n                onClick={selected === -1 ? null : submit}\n                style={{ opacity: selected === -1 ? 0.4 : 1 }}\n            >\n                {\" \"}\n                ok{\" \"}\n            </button>\n        </div>\n    );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\gradeChoice\\gradeChoice.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 68, "end_line": 69, "language": "js", "text": "    );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\gradeChoice\\gradeChoice.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 69, "end_line": 69, "language": "js", "text": "}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\gradeChoice\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import GradeChoice from './gradeChoice';\n\nexport default GradeChoice;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import MainPage from './mainPage';\n\nexport default MainPage;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 37, "end_line": 77, "language": "js", "text": "  constructor(props) {\n    super(props);\n    this.state = {\n      output: \"vid\",\n      picture: require(\"pictures/default.png\"),\n      selectedFile: null,\n      footStyle: { backgroundColor: \"var(--midGray2)\" },\n      ansClicked: false,\n      quesStyle: {},\n      gotQuestion: false,\n      question: \"\",\n      navButton: BookmarkNav,\n      isLoading: false,\n      imageSelector: false,\n      startCoords: [-1, -1],\n      endCoords: [-1, -1],\n      rotation: 0,\n      showHelp: toShowHelp(1)\n    };\n\n    this.screenWd = window.innerHeight > window.innerWidth ? window.innerWidth : window.innerHeight;\n    this.screenHt = window.innerHeight > window.innerWidth ? window.innerHeight : window.innerWidth;\n\n    document.body.style.overflowX = \"auto\";\n\n    // SECTION function binding\n    this.OCR = this.OCR.bind(this);\n    this.submit = this.submit.bind(this);\n    this.capture = this.capture.bind(this);\n    this.swipeUp = this.swipeUp.bind(this);\n    this.touchEnd = this.touchEnd.bind(this);\n    this.swipeDown = this.swipeDown.bind(this);\n    this.backClick = this.backClick.bind(this);\n    this.inputText = this.inputText.bind(this);\n    this.rotateImg = this.rotateImg.bind(this);\n    this.touchStart = this.touchStart.bind(this);\n    this.showAnswer = this.showAnswer.bind(this);\n    this.flipOutMode = this.flipOutMode.bind(this);\n    this.showSettings = this.showSettings.bind(this);\n    this.backendError = this.backendError.bind(this);\n    this.showSavedAns = this.showSavedAns.bind(this);"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 76, "end_line": 84, "language": "js", "text": "    this.backendError = this.backendError.bind(this);\n    this.showSavedAns = this.showSavedAns.bind(this);\n    this.changeTextBox = this.changeTextBox.bind(this);\n    this.canvasTouchMove = this.canvasTouchMove.bind(this);\n    this.selectFileHandle = this.selectFileHandle.bind(this);\n    this.canvasTouchStart = this.canvasTouchStart.bind(this);\n    this.cameraErrorHandler = this.cameraErrorHandler.bind(this);\n    // !SECTION\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 83, "end_line": 84, "language": "js", "text": "    // !SECTION\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 84, "end_line": 84, "language": "js", "text": "  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 85, "end_line": 92, "language": "js", "text": "\n  /* SECTION FUNCTIONS */\n\n  // handles error recieved by Webcam component\n  cameraErrorHandler(error) {\n    console.log(error);\n    this.setState({ picture: require(\"pictures/error.png\"), output: \"img\" });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 93, "end_line": 97, "language": "js", "text": "\n  // changes whether picture or video is displayed\n  flipOutMode(mode) {\n    this.setState({ output: mode });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 98, "end_line": 103, "language": "js", "text": "\n  // sets state to include img seleced from gallery\n  selectFileHandle(e) {\n    const url = URL.createObjectURL(e.target.files[0]);\n    this.setState({ picture: url, output: \"img\" });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 104, "end_line": 119, "language": "js", "text": "\n  // takes a picure and sets output mode\n  capture() {\n    const imageSrc = this.refs.webcam.getScreenshot();\n    this.setState({\n      picture: imageSrc,\n      output: \"img\",\n      navButtonAnimation: true\n    });\n    setTimeout(() => {\n      this.setState({ navButton: Back });\n    }, 150);\n    setTimeout(() => {\n      this.setState({ navButtonAnimation: false });\n    }, 300);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 120, "end_line": 134, "language": "js", "text": "\n  // SECTION Handles orientation change\n  componentDidMount() {\n    setTimeout(() => {\n      sessionStorage.setItem(\"fadePicture\", false);\n    }, 500);\n    sessionStorage.setItem(\"helpSeen\", 1);\n\n    let canvas = document.getElementById(\"canvas\");\n    let c = canvas.getContext(\"2d\");\n\n    canvas.width = this.screenWd;\n    canvas.height = this.screenHt;\n    this.setState({ mounted: true, context: c });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 135, "end_line": 140, "language": "js", "text": "\n  // !SECTION\n\n  rotateImg() {\n    this.setState({ rotation: this.state.rotation + 1 });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 141, "end_line": 157, "language": "js", "text": "\n  // handles change from image mode back to video\n  backClick() {\n    this.setState(() => ({\n      output: \"vid\",\n      gotQuestion: false,\n      swipedUp: false,\n      navButtonAnimation: true,\n      loading: false\n    }));\n    setTimeout(() => {\n      this.setState({ navButton: BookmarkNav });\n    }, 150);\n    setTimeout(() => {\n      this.setState({ navButtonAnimation: false });\n    }, 300);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 158, "end_line": 169, "language": "js", "text": "\n  showSavedAns() {\n    this.setState({\n      footStyle: {\n        backgroundColor: \"var(--midGray2)\",\n        zIndex: 42\n      }\n    });\n    setTimeout(() => {\n      this.props.history.push(\"/Saved Answers\");\n    }, 800);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 9, "subchunk_id": 0, "start_line": 170, "end_line": 181, "language": "js", "text": "\n  showSettings() {\n    this.setState({\n      footStyle: {\n        backgroundColor: \"var(--midGray2)\",\n        zIndex: 42\n      }\n    });\n    setTimeout(() => {\n      this.props.history.push(\"/Settings\");\n    }, 800);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 10, "subchunk_id": 0, "start_line": 182, "end_line": 218, "language": "js", "text": "\n  // Utilizes parent function to change Parent state\n  showAnswer() {\n    if (this.state.isLoading) {\n      notification(\"Please wait, the answer is loading\");\n      return;\n    }\n\n    if (!this.state.gotAnswer) {\n      this.submit({ key: \"Enter\" });\n      return;\n    }\n    this.props.changeState(this.state.question, this.state.answers, this.state.websites);\n\n    let questionHeight = document.getElementById(\"question\").getBoundingClientRect().height;\n    let top = this.screenHt / 11 + (1.4 * questionHeight) / 100 + 4;\n\n    this.setState({\n      footStyle: {\n        width: this.screenWd,\n        backgroundColor: \"var(--backCol)\",\n        margin: 0,\n        borderRadius: 0\n      },\n      quesStyle: {\n        top: top,\n        margin: 0,\n        borderRadius: this.screenWd / 50,\n        padding: 10,\n        position: \"absolute\"\n      },\n      ansClicked: true\n    });\n    setTimeout(() => {\n      this.props.history.push(\"Answer\");\n    }, 600);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 11, "subchunk_id": 0, "start_line": 219, "end_line": 230, "language": "js", "text": "\n  calculateBottom() {\n    if (!this.state.gotQuestion || !this.state.mounted) {\n      return (3 * this.screenHt) / 20;\n    }\n\n    let foot = document.getElementById(\"foot\").getBoundingClientRect();\n\n    let bottomHeight = this.state.ansClicked ? foot.height : this.calculateHeight();\n\n    return Math.max(bottomHeight + 60, (3 * this.screenHt) / 20);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 12, "subchunk_id": 0, "start_line": 231, "end_line": 243, "language": "js", "text": "\n  calculateHeight() {\n    if (this.state.ansClicked) {\n      return this.screenHt + 3;\n    }\n\n    if (!(this.state.gotQuestion && this.mounted)) {\n      return 20;\n    }\n\n    let cont = document.getElementById(\"quesCont\").getBoundingClientRect();\n    return 50 + cont.height;\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 13, "subchunk_id": 0, "start_line": 244, "end_line": 251, "language": "js", "text": "\n  // SECTION  handles backend calling\n\n  backendError(response) {\n    notification([\"An internal error occured\", \"Please try again. If this error comes multiple times, then try again later.\"], true);\n    console.log({ response });\n    this.setState({ isLoading: false, gotQuestion: false });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 14, "subchunk_id": 0, "start_line": 281, "end_line": 285, "language": "js", "text": "    // eslint-disable-next-line eqeqeq\n    if (responseOCR.status != 200) {\n      this.backendError(responseOCR);\n      return;\n    }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 14, "subchunk_id": 1, "start_line": 289, "end_line": 293, "language": "js", "text": "    if (question === \"TEXT NOT FOUND\") {\n      notification(\"Text was not found in the image.\", true);\n      this.setState({ isLoading: false });\n      return;\n    }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 14, "subchunk_id": 2, "start_line": 304, "end_line": 307, "language": "js", "text": "    if (responseScrapy.status != 200) {\n      this.backendError(responseScrapy);\n      return;\n    }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 14, "subchunk_id": 3, "start_line": 309, "end_line": 313, "language": "js", "text": "    if (obj.answers === \"ERROR\") {\n      notification(\"No answers were found.\", true);\n      this.setState({ isLoading: false, gotQuestion: false });\n      return;\n    }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 15, "subchunk_id": 0, "start_line": 325, "end_line": 352, "language": "js", "text": "\n  /* Scraping function */\n  async submit(e) {\n    if (e.key === \"Enter\") {\n      this.setState({ isTextBox: false, isLoading: true, gotAnswer: false });\n      let response = await scrape(this.state.question);\n      // eslint-disable-next-line eqeqeq\n      if (response.status != 200) {\n        this.backendError(response);\n        return;\n      }\n      let obj = await response.json();\n      if (obj.answers === \"ERROR\") {\n        notification(\"No answers were found.\", true);\n        this.setState({ isLoading: false, gotQuestion: false });\n        return;\n      }\n\n      this.setState({\n        answers: obj.answers,\n        websites: obj.websites,\n        isLoading: false,\n        gotAnswer: true\n      });\n      console.log(\"answers gotten\");\n      setTimeout(() => this.showAnswer(), 75);\n    }\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 16, "subchunk_id": 0, "start_line": 353, "end_line": 362, "language": "js", "text": "\n  // !SECTION\n\n  // SECTION handles manually pulling up bottom section\n  swipeUp() {\n    if (this.state.gotQuestion) {\n      return;\n    }\n    this.setState({ gotQuestion: true, isTextBox: true, output: \"img\" });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 17, "subchunk_id": 0, "start_line": 363, "end_line": 369, "language": "js", "text": "\n  swipeDown() {\n    if (!this.state.gotQuestion) {\n      return;\n    }\n    this.setState({ gotQuestion: false, isTextBox: false });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 18, "subchunk_id": 0, "start_line": 370, "end_line": 374, "language": "js", "text": "  // !SECTION\n\n  inputText(e) {\n    this.setState({ question: e.target.value });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 19, "subchunk_id": 0, "start_line": 375, "end_line": 378, "language": "js", "text": "\n  changeTextBox() {\n    this.setState({ isTextBox: !this.state.isTextBox });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 20, "subchunk_id": 0, "start_line": 379, "end_line": 392, "language": "js", "text": "\n  // SECTION Handles pressing of the question when it is shown\n  touchStart() {\n    setTimeout(() => {\n      if (!this.state.prevent) {\n        this.setState({ longpress: true });\n        if (vibratable) {\n          navigator.vibrate(50);\n        }\n      } else {\n        this.setState({ prevent: false });\n      }\n    }, pressDelay);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 21, "subchunk_id": 0, "start_line": 393, "end_line": 401, "language": "js", "text": "\n  touchEnd() {\n    if (!!this.state.longpress) {\n      this.changeTextBox();\n    } else if (!this.state.isTextBox) {\n      this.showAnswer();\n    }\n    this.setState({ longpress: false, prevent: true });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 22, "subchunk_id": 0, "start_line": 402, "end_line": 407, "language": "js", "text": "\n  canvasTouchStart(e) {\n    this.setState({\n      startCoords: [e.touches[0].pageX, e.touches[0].pageY]\n    });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 23, "subchunk_id": 0, "start_line": 408, "end_line": 423, "language": "js", "text": "\n  canvasTouchMove(e) {\n    let endCoords = [e.touches[0].clientX, e.touches[0].clientY];\n\n    let [startX, startY] = this.state.startCoords;\n    let ctx = this.state.context;\n\n    ctx.clearRect(0, 0, this.screenWd, this.screenHt);\n    ctx.beginPath();\n    ctx.strokeStyle = localStorage.getItem(\"highlightCol\");\n    ctx.lineWidth = 3;\n    ctx.rect(startX, startY, endCoords[0] - startX, endCoords[1] - startY);\n    ctx.stroke();\n\n    this.setState({ endCoords });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 24, "subchunk_id": 0, "start_line": 424, "end_line": 461, "language": "js", "text": "\n  //!SECTION\n\n  /* !SECTION */\n\n  render() {\n    let func = this.state.output === \"vid\" ? this.capture : this.OCR;\n    func = this.state.isTextBox ? () => this.submit({ key: \"Enter\" }) : func;\n    const footerBottom = -(this.state.gotQuestion ? 3 : this.screenHt / 25);\n    let bot = this.calculateBottom();\n    let fadePicture = sessionStorage.getItem(\"fadePicture\") === \"true\";\n\n    return (\n      <div\n        className={`App ${this.props.backToCam ? \"slidein\" : fadePicture ? \"fadein-short\" : null}`}\n        style={{\n          minHeight: this.screenHt,\n          position: \"absolute\",\n          width: this.screenWd\n        }}\n      >\n        {/* SECTION  NAV */}\n        <header className=\"nav\" style={{ height: Math.round(this.screenHt / 10) }}>\n          <div id=\"bookmark-holder\" className={this.state.navButtonAnimation ? \"nav-button-animation\" : null}>\n            <this.state.navButton handleClick={this.backClick} showSavedAns={this.showSavedAns} />\n          </div>\n          <div id=\"settingsDiv\">\n            <SettingsNav showSettings={this.showSettings} />\n          </div>\n          <GalleryNav selectFileHandle={this.selectFileHandle} />\n        </header>\n        {/* !SECTION */}\n        <canvas\n          id=\"canvas\"\n          onTouchStart={this.state.imageSelector ? this.canvasTouchStart : null}\n          onTouchMove={this.state.imageSelector ? this.canvasTouchMove : null}\n          style={this.state.imageSelector ? {} : { pointerEvents: \"none\" }}\n        />"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 24, "subchunk_id": 1, "start_line": 460, "end_line": 493, "language": "js", "text": "          style={this.state.imageSelector ? {} : { pointerEvents: \"none\" }}\n        />\n        <HelpOverlay show={this.state.showHelp} handleExitClick={() => this.setState({ showHelp: false })} />\n        <Swipe onSwipeUp={this.state.imageSelector ? null : this.swipeUp} onSwipeDown={this.state.imageSelector ? null : this.swipeDown}>\n          <div>\n            {/* SECTION Image/Video displayer */}\n            <div\n              style={{\n                ...imgContainerStyle,\n                height: Math.round((9 * this.screenHt) / 10),\n                top: Math.round(this.screenHt / 10)\n              }}\n            >\n              {this.state.output === \"img\" ? (\n                <Img src={this.state.picture} rotation={this.state.rotation} />\n              ) : (\n                <Webcam\n                  audio={false}\n                  videoConstraints={videoConstraints}\n                  onUserMediaError={this.cameraErrorHandler}\n                  style={imgStyle}\n                  screenshotFormat=\"image/jpeg\"\n                  id=\"camera\"\n                  ref=\"webcam\"\n                />\n              )}\n            </div>\n            {/* !SECTION */}\n            {/* SECTION Capture/Process buttom\\n */}\n            <div className=\"buttonHolder\" style={{ top: this.screenHt / 10 + 10 }}>\n              <div className=\"cropDiv\">\n                <button\n                  className=\"imageSelector\"\n                  style={{"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 24, "subchunk_id": 2, "start_line": 492, "end_line": 528, "language": "js", "text": "                  className=\"imageSelector\"\n                  style={{\n                    backgroundColor: this.state.imageSelector ? \"var(--highlightCol)\" : \"var(--backCol2)\"\n                  }}\n                  onClick={() =>\n                    this.setState({\n                      imageSelector: !this.state.imageSelector\n                    })\n                  }\n                >\n                  crop\n                </button>\n                <button className=\"clearButton\" onClick={() => this.state.context.clearRect(0, 0, this.screenWd, this.screenHt)}>\n                  clear\n                </button>\n              </div>\n              <div className=\"rotateImgButton\">\n                <button onClick={this.rotateImg}></button>\n              </div>\n              {localStorage.getItem(\"subjectSelector\") === \"Drop down on screen\" ? <Subject /> : null}\n            </div>\n            <button\n              style={{\n                ...captureButtonStyle,\n                bottom: bot\n              }}\n              onClick={func}\n            >\n              {this.state.output === \"img\" ? (\n                this.state.isLoading ? (\n                  <Loader css={overide} sizeUnit={\"px\"} size={maxLength} color={\"#FFF\"} loading={true} />\n                ) : (\n                  <img className=\"searchImg\" src={require(\"pictures/search.png\")} alt=\"search icon\" />\n                )\n              ) : null}\n            </button>\n            {/* !SECTION */}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 24, "subchunk_id": 3, "start_line": 527, "end_line": 565, "language": "js", "text": "            </button>\n            {/* !SECTION */}\n            {/* SECTION Bottom bar */}\n            <footer\n              style={{\n                minHeight: Math.round(this.screenHt / 10),\n                bottom: footerBottom,\n                boxSizing: \"border-box\",\n                ...this.state.footStyle,\n                height: this.calculateHeight()\n              }}\n              id=\"foot\"\n            >\n              {this.state.ansClicked ? null : <div className=\"bar\"></div>}\n              {/* Checks whether bar is up */}\n              {this.state.gotQuestion ? (\n                <div\n                  className=\"info\"\n                  id=\"quesCont\"\n                  style={{\n                    borderRadius: this.screenWd / 50,\n                    width: (9 * this.screenWd) / 10,\n                    boxSizing: \"border-box\",\n                    ...this.state.quesStyle\n                  }}\n                  onTouchStart={this.touchStart}\n                  onTouchEnd={this.touchEnd}\n                >\n                  {this.state.isTextBox ? (\n                    <input\n                      value={this.state.question}\n                      type=\"text\"\n                      onChange={this.inputText}\n                      onKeyDown={this.submit}\n                      style={{\n                        marginRight: this.screenHt / 40\n                      }}\n                    />\n                  ) : ("}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 24, "subchunk_id": 4, "start_line": 564, "end_line": 599, "language": "js", "text": "                    />\n                  ) : (\n                    <p id=\"question\" style={{ margin: 0, fontSize: 16 }}>\n                      {this.state.question}\n                    </p>\n                  )}\n                  {(this.mounted = true)}\n                  {this.state.ansClicked ? null : (\n                    <div\n                      style={{\n                        position: \"absolute\",\n                        right: this.screenWd / 19\n                      }}\n                    >\n                      <div\n                        onClick={this.changeTextBox}\n                        style={{\n                          height: this.screenHt / 20,\n                          width: this.screenHt / 20,\n                          cursor: \"pointer\",\n                          display: \"flex\",\n                          justifyContent: \"center\",\n                          alignItems: \"center\",\n                          position: \"relative\",\n                          top: -this.screenWd / 36,\n                          left: this.screenWd / 36\n                        }}\n                      >\n                        {this.state.isTextBox ? (\n                          <div\n                            style={{\n                              height: \"50%\",\n                              width: \"50%\",\n                              backgroundColor: \"var(--midGray)\",\n                              borderRadius: \"50%\",\n                              right: 0,"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 24, "subchunk_id": 5, "start_line": 598, "end_line": 621, "language": "js", "text": "                              borderRadius: \"50%\",\n                              right: 0,\n                              position: \"relative\"\n                            }}\n                          >\n                            &#215;\n                          </div>\n                        ) : null\n                        // <img className=\"invert\" src={require('pictures/edit.png')} alt=\"edit\" style={{ height: '50%' }} />\n                        }\n                      </div>\n                    </div>\n                  )}\n                </div>\n              ) : (\n                (this.mounted = false)\n              )}\n            </footer>\n            {/* !SECTION */}\n          </div>\n        </Swipe>\n      </div>\n    );\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 24, "subchunk_id": 6, "start_line": 620, "end_line": 621, "language": "js", "text": "    );\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\mainPage.js", "chunk_id": 24, "subchunk_id": 7, "start_line": 621, "end_line": 621, "language": "js", "text": "  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\HelpOverlay\\HelpOverlay.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 41, "language": "js", "text": "\nfunction HelpOverlay({ show, handleExitClick }) {\n  const [pos, setPos] = useState(0);\n\n  let screenHt =\n    window.innerHeight > window.innerWidth ? window.innerHeight : window.innerWidth;\n  let screenWd =\n    window.innerHeight > window.innerWidth ? window.innerWidth : window.innerHeight;\n\n  return (\n    <div style={show ? {} : { display: \"none\" }}>\n      <div className=\"help\" style={{ transform: `translateX(-${pos * screenWd}px)` }}>\n        <div>\n          <div style={{ top: screenHt / 10, width: screenWd / 3 }}>\n            <p className=\"arrow\">&#8593;</p>\n            <p className=\"main-p\">Bookmarks</p>\n            <p>All saved answers will be available here.</p>\n          </div>\n          <div style={{ top: screenHt / 10, left: screenWd / 3, width: screenWd / 3 }}>\n            <p className=\"arrow\">&#8593;</p>\n            <p className=\"main-p\">Settings</p>\n          </div>\n          <div\n            style={{ top: screenHt / 10, left: (2 * screenWd) / 3, width: screenWd / 3 }}\n          >\n            <p className=\"arrow\">&#8593;</p>\n            <p className=\"main-p\">Gallery</p>\n            <p>Pictures can be uploaded from here.</p>\n          </div>\n          <div\n            style={{\n              top: 0.62 * screenHt,\n              width: screenWd\n            }}\n          >\n            <p>\n              If it is plain red, it will take a picture.\n              <br />\n              If it has a search symbol, it will process the image/question.\n              <br />"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\HelpOverlay\\HelpOverlay.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 40, "end_line": 80, "language": "js", "text": "              If it has a search symbol, it will process the image/question.\n              <br />\n              Otherwise, it's a loading indicator\n            </p>\n            <p className=\"arrow\">&#8595;</p>\n          </div>\n        </div>\n        <div style={{ left: screenWd }}>\n          <div style={{ top: screenHt / 8, width: screenWd / 2.1 }}>\n            <p className=\"main-p\">&emsp; &emsp; &emsp; Rotate &emsp; &emsp; &#8594;</p>\n            <p>Rotates the image clockwise by 90 degrees.</p>\n          </div>\n          <div style={{ top: 10, width: screenWd / 4, left: screenWd * 0.6 }}>\n            <p>Clears the crop box.</p>\n            <p className=\"arrow\">&#8595;</p>\n          </div>\n          <div\n            style={{\n              top: screenHt / 10 + 50,\n              left: screenWd * 0.52,\n              width: screenWd / 2.1\n            }}\n          >\n            <p className=\"main-p\">&emsp; &emsp; Crop &emsp; &#8593;</p>\n            <p>\n              Enables cropping.\n              <br />\n              Drag from one corner of where you want to crop, to the opposite corner.\n            </p>\n          </div>\n          <div\n            style={{\n              top: screenHt * 0.78,\n              width: screenWd\n            }}\n          >\n            <p>\n              Once an question is gotten, it will automatically open showing the question.\n              <br />\n              It can also be manually pulled up and you can type in a question.\n            </p>"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\HelpOverlay\\HelpOverlay.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 79, "end_line": 93, "language": "js", "text": "              It can also be manually pulled up and you can type in a question.\n            </p>\n            <p className=\"arrow\">&#8595;</p>\n          </div>\n        </div>\n      </div>\n      <button className=\"exit-button\" onClick={handleExitClick}>\n        x\n      </button>\n      <button className=\"next-button\" onClick={() => setPos((pos + 1) % 2)}>\n        Next\n      </button>\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\HelpOverlay\\HelpOverlay.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 92, "end_line": 93, "language": "js", "text": "  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\HelpOverlay\\HelpOverlay.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 93, "end_line": 93, "language": "js", "text": "}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\HelpOverlay\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import HelpOverlay from \"./HelpOverlay\";\n\nexport default HelpOverlay;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\Nav\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 5, "language": "js", "text": "import BookmarkNav from \"./BookmarkNav\";\nimport GalleryNav from \"./GalleryNav\";\nimport SettingsNav from \"./SettingsNav\";\n\nexport { BookmarkNav, GalleryNav, SettingsNav };"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\Nav\\BookmarkNav\\BookmarkNav.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 49, "language": "js", "text": "\nfunction BookmarkNav({ showSavedAns }) {\n    const [style, setStyle] = useState({ zIndex: 69 });\n    const [imgClass, setImgClass] = useState(\"\");\n\n    useEffect(() => {\n        let left = document.getElementById(\"bookmark-holder\").getBoundingClientRect().left;\n        let top = document.getElementById(\"bookmark-container\").getBoundingClientRect().top;\n        setStyle({ zIndex: 69, left: left, top: top });\n    }, []);\n\n    const handleClick = () => {\n        setStyle({\n            borderRadius: 0,\n            height: window.innerHeight,\n            width: window.innerWidth,\n            backgroundColor: \"var(--backCol)\",\n            top: 0,\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            position: \"absolute\",\n            zIndex: \"1000\",\n            left: 0\n        });\n        setImgClass(\"lateFade\");\n        showSavedAns();\n    };\n\n    return (\n        <div\n            onClick={handleClick}\n            style={{ ...navObj, ...style }}\n            className=\"settings-transitions\"\n            id=\"bookmark-container\"\n        >\n            <img\n                className={`nav-img ${imgClass}`}\n                style={{ maxHeight: (3 * maxLength) / 5 }}\n                src={require(\"pictures/bookmark.png\")}\n                alt=\"bookmark\"\n            />\n        </div>\n    );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\Nav\\BookmarkNav\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import BookmarkNav from \"./BookmarkNav\";\n\nexport default BookmarkNav;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\Nav\\GalleryNav\\GalleryNav.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 26, "language": "js", "text": "\nfunction GalleryNav({ selectFileHandle }) {\n    const ref = useRef(null);\n\n    return (\n        <div style={navObj}>\n            <img\n                src={require(\"pictures/gallery.png\")}\n                alt=\"Gallery\"\n                className=\"nav-img\"\n                onClick={() => ref.current.click()}\n            />\n            <input\n                type=\"file\"\n                accept=\"image/*\"\n                ref={ref}\n                onChange={selectFileHandle}\n                style={{ display: \"none\" }}\n            />\n        </div>\n    );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\Nav\\GalleryNav\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import GalleryNav from \"./GalleryNav\";\n\nexport default GalleryNav;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\Nav\\SettingsNav\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import SettingsNav from \"./SettingsNav\";\n\nexport default SettingsNav;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\Nav\\SettingsNav\\SettingsNav.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 50, "language": "js", "text": "\nfunction SettingsNav({ showSettings }) {\n    const [style, setStyle] = useState({ zIndex: 69 });\n    const [imgClass, setImgClass] = useState(\"\");\n\n    useEffect(() => {\n        let left = document.getElementById(\"settingsDiv\").getBoundingClientRect().left;\n        let top = document.getElementById(\"settings-container\").getBoundingClientRect().top;\n        setStyle({ zIndex: 69, left: left, top: top });\n    }, []);\n\n    const handleClick = () => {\n        setStyle({\n            borderRadius: 0,\n            height: window.innerHeight,\n            width: window.innerWidth,\n            backgroundColor: \"var(--backCol)\",\n            top: 0,\n            display: \"flex\",\n            justifyContent: \"center\",\n            alignItems: \"center\",\n            position: \"absolute\",\n            zIndex: \"1000\",\n            left: 0\n        });\n        setImgClass(\"lateFade\");\n        showSettings();\n    };\n\n    return (\n        <div\n            style={{ ...navObj, ...style }}\n            id=\"settings-container\"\n            className=\"settings-transitions\"\n        >\n            <img\n                src={require(\"pictures/settings.png\")}\n                alt=\"settings\"\n                className={`nav-img ${imgClass}`}\n                style={{ maxHeight: (3 * maxLength) / 5 }}\n                onClick={handleClick}\n            />\n        </div>\n    );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\Subject\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import Subject from \"./Subject\";\n\nexport default Subject;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\Subject\\Subject.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 52, "language": "js", "text": "\nfunction Subject() {\n  const changeSubject = e => {\n    let subject = e.target.innerText;\n    localStorage.setItem(\"subject\", subject);\n    setOpacity(0);\n    setTimeout(() => {\n      setOpacity(1);\n      setSubjects(createSubjectArray(subject));\n    }, 400);\n  };\n\n  const [open, setOpen] = useState(false);\n  const [subjects, setSubjects] = useState(\n    createSubjectArray(localStorage.getItem(\"subject\"))\n  );\n  const [opacity, setOpacity] = useState(1);\n  return (\n    <div\n      className=\"subject-button\"\n      style={{\n        height: open ? 150 : 30,\n        transition: \"all 400ms cubic-bezier(0.215, 0.610, 0.355, 1)\"\n      }}\n      onClick={() => setOpen(!open)}\n    >\n      <button style={{ opacity, fontFamily: \"Raleway\" }}>\n        <div className={`hamburger hamburger--collapse ${open ? \"is-active\" : \"\"}`}>\n          <span className=\"hamburger-box\">\n            <span className=\"hamburger-inner\"></span>\n          </span>\n        </div>\n        <p style={{ display: \"inline\", margin: 0, fontWeight: 400 }}>{subjects[0]}</p>\n      </button>\n      <section>\n        {subjects.slice(1).map(subject => (\n          <button\n            onClick={changeSubject}\n            key={subject}\n            style={{\n              fontWeight: 400,\n              fontFamily: \"Raleway\"\n            }}\n          >\n            {subject}\n          </button>\n        ))}\n      </section>\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\mainPage\\Subject\\Subject.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 55, "end_line": 69, "language": "js", "text": "\nfunction createSubjectArray(subject) {\n  switch (subject) {\n    case \"Physics\":\n      return [\"Physics\", \"Chemistry\", \"Maths\", \"Notes\", \"General\"];\n    case \"Chemistry\":\n      return [\"Chemistry\", \"Physics\", \"Maths\", \"Notes\", \"General\"];\n    case \"Maths\":\n      return [\"Maths\", \"Physics\", \"Chemistry\", \"Notes\", \"General\"];\n    case \"Notes\":\n      return [\"Notes\", \"Physics\", \"Chemistry\", \"Maths\", \"General\"];\n    default:\n      return [\"General\", \"Physics\", \"Chemistry\", \"Maths\", \"Notes\"];\n  }\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\savedAnswersPage\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import SavedAnswersPage from './savedAnswersPage';\n\nexport default SavedAnswersPage;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\savedAnswersPage\\savedAnswersPage.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 43, "language": "js", "text": "\nexport default function SavedAnswersPage(props) {\n    const delAnswer = i => {\n        let newAnswers = answers.slice(0, i).concat(answers.slice(i + 1, answers.length));\n        setAnswers(newAnswers);\n        localStorage.setItem(\"savedAnswers\", JSON.stringify(newAnswers));\n    };\n\n    const backClick = () => {\n        setBackToCam(true);\n        props.backClick();\n    };\n\n    const [answers, setAnswers] = useState(JSON.parse(localStorage.getItem(\"savedAnswers\")));\n    const [translate, setTranslate] = useState(10000000);\n    const [backToCam, setBackToCam] = useState(false);\n\n    return (\n        <div className={backToCam ? \"slideout\" : \"fadein\"} style={{ position: \"absolute\" }}>\n            <header\n                className=\"top\"\n                style={{ height: Math.round(window.innerHeight / 11) }}\n                id=\"head\"\n            >\n                <Back handleClick={backClick} />\n                <p style={{ fontSize: \"1.2em\", margin: 0 }}>Saved Answers</p>\n            </header>\n            <main\n                style={{\n                    position: \"relative\",\n                    top: Math.round(window.innerHeight / 11)\n                }}\n            >\n                {answers.length > 0 ? (\n                    answers.map((answer, i) => (\n                        <div\n                            key={`${i}-${answer.answer}`}\n                            style={{\n                                transform: `translateY(${i > translate ? -10 : 0}px)`,"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\savedAnswersPage\\savedAnswersPage.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 42, "end_line": 74, "language": "js", "text": "                            style={{\n                                transform: `translateY(${i > translate ? -10 : 0}px)`,\n                                transition: \"transform 150ms cubic-bezier(0.215, 0.610, 0.355, 1)\"\n                            }}\n                        >\n                            <SavedAnswer\n                                setTranslate={setTranslate}\n                                obj={answer}\n                                delSelf={delAnswer}\n                                i={i}\n                                id={`saved-answer-${i}`}\n                            />\n                        </div>\n                    ))\n                ) : (\n                    <div\n                        style={{\n                            display: \"flex\",\n                            flexDirection: \"column\",\n                            alignContent: \"center\",\n                            width: window.innerWidth\n                        }}\n                    >\n                        <hr />\n                        <p>Looks like you haven't saved any answers yet</p>\n                        <p>\n                            You can save answers by pressing the\n                            <img\n                                className=\"inline-img\"\n                                src={require(\"pictures/bookmark.png\")}\n                                alt=\"bookmark\"\n                            />\n                        </p>"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\savedAnswersPage\\savedAnswersPage.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 73, "end_line": 81, "language": "js", "text": "                            />\n                        </p>\n                        <p>when viewing an answer.</p>\n                    </div>\n                )}\n            </main>\n        </div>\n    );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\savedAnswersPage\\savedAnswersPage.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 80, "end_line": 81, "language": "js", "text": "    );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\savedAnswersPage\\savedAnswersPage.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 81, "end_line": 81, "language": "js", "text": "}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\savedAnswersPage\\SavedAnswer\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import SavedAnswer from \"./SavedAnswer\";\n\nexport default SavedAnswer;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\savedAnswersPage\\SavedAnswer\\SavedAnswer.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 27, "end_line": 41, "language": "js", "text": "    if (mathLoaded && imageLoaded === numImages) {\n      setTimeout(() => {\n        let totHeight = document.getElementById(`${id}-wrapper`).getBoundingClientRect()\n          .height;\n        console.log({ totHeight });\n        setMaxHeight(totHeight);\n        setOpen(false);\n        setAnsOpen(false);\n        setTimeout(() => setTransition(true), 50);\n      }, 0);\n    } else {\n      let quesHeight = document.getElementById(`${id}-question`).getBoundingClientRect()\n        .height;\n      setHeight(quesHeight + 20);\n    }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\savedAnswersPage\\SavedAnswer\\SavedAnswer.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 47, "end_line": 53, "language": "js", "text": "    for (let i = 0; i < obj.answer.length; i++) {\n      if (obj.answer[i].slice(0, 4) === \"link\") {\n        if (isImage(obj.answer[i].slice(4, obj.answer[i].length))) {\n          totalImages++;\n        }\n      }\n    }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\savedAnswersPage\\SavedAnswer\\SavedAnswer.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 59, "end_line": 63, "language": "js", "text": "    if (open) {\n      setTimeout(() => setAnsOpen(false), 300);\n    } else {\n      setAnsOpen(true);\n    }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import SettingsPage from './settings';\n\nexport default SettingsPage;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\settings.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 16, "end_line": 42, "language": "js", "text": "  constructor(props) {\n    super(props);\n\n    this.state = {\n      backToCam: false,\n      showTutBanner: !isInstalled,\n      animateOutBanner: false,\n      bannerStyle: {\n        height: window.innerHeight / 11,\n        backgroundColor: \"var(--highlightCol)\",\n        borderRadius: window.innerWidth / 50,\n        width: window.innerWidth * 0.95,\n        top: Math.round(window.innerHeight / 10),\n        marginLeft: window.innerWidth / 40,\n        zIndex: 42\n      },\n      bannerChildAnimation: \"\",\n      fadeout: false\n    };\n\n    this.reset = this.reset.bind(this);\n    this.tutClick = this.tutClick.bind(this);\n    this.backClick = this.backClick.bind(this);\n    this.toggleHelp = this.toggleHelp.bind(this);\n    this.closeBanner = this.closeBanner.bind(this);\n    this.toggleDarkMode = this.toggleDarkMode.bind(this);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\settings.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 43, "end_line": 48, "language": "js", "text": "\n  reset() {\n    this.setState({ fadeout: true });\n    reset();\n    setTimeout(() => this.props.history.push(\"./GradeChoice\"), 500);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\settings.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 49, "end_line": 53, "language": "js", "text": "\n  backClick() {\n    this.setState({ backToCam: true });\n    this.props.backClick();\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\settings.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 54, "end_line": 71, "language": "js", "text": "\n  tutClick() {\n    this.setState({\n      bannerStyle: {\n        height: window.innerHeight,\n        backgroundColor: \"var(--backCol)\",\n        borderRadius: 0,\n        width: window.innerWidth,\n        marginLeft: 0,\n        top: 0,\n        zIndex: 1000\n      },\n      bannerChildAnimation: \"lateFade\"\n    });\n    setTimeout(() => {\n      this.props.history.push(\"/Tutorial\");\n    }, 800);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\settings.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 72, "end_line": 78, "language": "js", "text": "\n  closeBanner() {\n    this.setState({ animateOutBanner: true });\n    setTimeout(() => {\n      this.setState({ showTutBanner: false });\n    }, 300);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\settings.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 79, "end_line": 86, "language": "js", "text": "\n  toggleDarkMode() {\n    let mode = localStorage.getItem(\"mode\");\n    let newMode = mode === \"dark\" ? \"light\" : \"dark\";\n    localStorage.setItem(\"mode\", newMode);\n    changeMode(newMode);\n    this.forceUpdate();\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\settings.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 87, "end_line": 93, "language": "js", "text": "\n  toggleHelp() {\n    let helpMode = localStorage.getItem(\"helpMode\");\n    let newHelpMode = helpMode !== \"true\";\n    localStorage.setItem(\"helpMode\", newHelpMode);\n    console.log({ newHelpMode });\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\settings.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 94, "end_line": 139, "language": "js", "text": "\n  render() {\n    let mode = localStorage.getItem(\"mode\");\n    let helpMode = localStorage.getItem(\"helpMode\");\n    let colour = localStorage.getItem(\"highlightCol\");\n    return (\n      <div\n        style={{\n          minHeight: window.innerHeight,\n          position: \"absolute\",\n          width: window.innerWidth,\n          backgroundColor: \"var(--backCol)\"\n        }}\n        className={\n          this.state.backToCam ? \"slideout\" : this.state.fadeout ? \"fadeout\" : \"fadein\"\n        }\n      >\n        <header\n          className=\"top fadein\"\n          style={{ height: Math.round(window.innerHeight / 11) }}\n          id=\"head\"\n        >\n          <Back handleClick={this.backClick} />\n          <p style={{ fontSize: \"1.2em\", margin: 0 }} id=\"websitePosition\">\n            Settings\n          </p>\n        </header>\n\n        <div\n          style={{\n            display: this.state.showTutBanner ? \"auto\" : \"none\",\n            ...this.state.bannerStyle\n          }}\n          className={`link-container-wrapper ${\n            this.state.animateOutBanner ? \"fadeout\" : null\n          }`}\n        >\n          <div className={`link-container ${this.state.bannerChildAnimation}`}>\n            <div className=\"link-to-tut\" onClick={this.tutClick}>\n              Want to install this app?\n              <br />\n              Click here to find out how.\n            </div>\n            <div className=\"close-x\" onClick={this.closeBanner}>\n              <button>&#215;</button>\n            </div>"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\settings.js", "chunk_id": 7, "subchunk_id": 1, "start_line": 138, "end_line": 182, "language": "js", "text": "              <button>&#215;</button>\n            </div>\n          </div>\n        </div>\n\n        <div\n          style={{\n            top: Math.round(\n              window.innerHeight / 10 +\n                (this.state.showTutBanner ? window.innerHeight / 9 : 0)\n            ),\n            position: \"relative\",\n            transition: \"all 300ms cubic-bezier(0.215, 0.610, 0.355, 1)\"\n          }}\n        >\n          <section>\n            <p>Functionality</p>\n            <Setting\n              name=\"Grade\"\n              type=\"value\"\n              id=\"gradeSelector\"\n              props={{ prefix: \"Class \" }}\n              childProps={{ min: 9, max: 12, localStorageItem: \"grade\" }}\n              compValue={localStorage.getItem(\"grade\")}\n              Children={Slider}\n            >\n              <p className=\"setting-description\">\n                Choosing a grade will help to get more adequate search results.\n              </p>\n            </Setting>\n\n            <Setting\n              name=\"Subject Choice\"\n              type=\"value\"\n              id=\"subjectSelector\"\n              childProps={{\n                localStorageItem: \"subjectSelector\",\n                arr: subjectArr\n              }}\n              compValue={localStorage.getItem(\"subjectSelector\")}\n              Children={Choice}\n            >\n              <p className=\"setting-description\">\n                Choosing a particular subject will help in getting more accurate search\n                results."}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\settings.js", "chunk_id": 7, "subchunk_id": 2, "start_line": 181, "end_line": 228, "language": "js", "text": "                Choosing a particular subject will help in getting more accurate search\n                results.\n              </p>\n            </Setting>\n\n            <Setting\n              name=\"Long Press Delay\"\n              type=\"value\"\n              id=\"pressDelay\"\n              props={{ suffix: \"ms\" }}\n              childProps={{\n                min: 200,\n                max: 600,\n                localStorageItem: \"pressDelay\"\n              }}\n              compValue={localStorage.getItem(\"pressDelay\")}\n              Children={Slider}\n            />\n          </section>\n          <hr />\n          <section>\n            <p>Looks</p>\n            <Setting\n              name=\"Dark Mode\"\n              type=\"switch\"\n              id=\"darkMode\"\n              handleClick={this.toggleDarkMode}\n              props={{ enabled: mode === \"dark\" }}\n              Children={Null}\n            />\n\n            <Setting\n              name=\"Highlight Colour\"\n              type=\"colorPicker\"\n              id=\"highlightColPick\"\n              props={{ colour, localStorageItem: \"highlightCol\" }}\n              childProps={{ localStorageItem: \"highlightCol\" }}\n              Children={ColorPicker}\n            />\n          </section>\n          <hr />\n          <section>\n            <p>Help</p>\n            <Setting\n              name=\"Help Overlay\"\n              handleClick={this.toggleHelp}\n              type=\"switch\"\n              id=\"helpScreens\""}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\settings.js", "chunk_id": 7, "subchunk_id": 3, "start_line": 227, "end_line": 250, "language": "js", "text": "              type=\"switch\"\n              id=\"helpScreens\"\n              props={{ enabled: helpMode === \"true\" }}\n              Children={Null}\n            />\n          </section>\n          <hr />\n          <button\n            className=\"center\"\n            style={{\n              width: 100,\n              height: 40,\n              backgroundColor: \"var(--midGray2)\",\n              borderRadius: 10,\n              marginBottom: 50\n            }}\n            onClick={this.reset}\n          >\n            <p style={{ margin: 0 }}>Reset</p>\n          </button>\n        </div>\n      </div>\n    );\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\settings.js", "chunk_id": 7, "subchunk_id": 4, "start_line": 249, "end_line": 250, "language": "js", "text": "    );\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\settings.js", "chunk_id": 7, "subchunk_id": 5, "start_line": 250, "end_line": 250, "language": "js", "text": "  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 31, "end_line": 35, "language": "js", "text": "    if (open) {\n      setTimeout(() => setChildOpen(false), 300);\n    } else {\n      setChildOpen(true);\n    }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 44, "end_line": 51, "language": "js", "text": "  if (type === \"switch\") {\n    Component = Switch;\n    openable = false;\n  } else if (type === \"value\") {\n    Component = Value;\n  } else if (type === \"colorPicker\") {\n    Component = Color;\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 80, "end_line": 123, "language": "js", "text": "\nexport function ColorPicker({ updateOpen, localStorageItem, id }) {\n  const submit = () => {\n    localStorage.setItem(localStorageItem, `rgb(${valueR},${valueG},${valueB})`);\n    updateOpen(false);\n    document.documentElement.style.setProperty(\n      \"--highlightCol\",\n      `rgb(${valueR},${valueG},${valueB})`\n    );\n  };\n\n  useEffect(() => {\n    let rSlider = document.getElementById(`${id}-sliderR`).style;\n    rSlider.setProperty(\"--thumbCol\", \"rgb(255, 0, 0)\");\n\n    let gSlider = document.getElementById(`${id}-sliderG`).style;\n    gSlider.setProperty(\"--thumbCol\", \"rgb(0, 255, 0)\");\n\n    let bSlider = document.getElementById(`${id}-sliderB`).style;\n    bSlider.setProperty(\"--thumbCol\", \"rgb(0, 0, 255)\");\n\n    let parentHeight = document.getElementById(id).getBoundingClientRect().height;\n    setHeight((7 * parentHeight) / 10);\n    // eslint-disable-next-line\n  }, []);\n\n  let rgbVal = localStorage.getItem(localStorageItem);\n  let rgbArr = strToRgb(rgbVal);\n\n  let [valueR, setValueR] = useState(rgbArr[0]);\n  let [valueG, setValueG] = useState(rgbArr[1]);\n  let [valueB, setValueB] = useState(rgbArr[2]);\n  let [height, setHeight] = useState(\"70%\");\n\n  return (\n    <div style={{ display: \"flex\", alignItems: \"center\", flexDirection: \"column\" }}>\n      <div\n        id={id}\n        style={{ display: \"flex\", alignItems: \"center\", margin: \"0px 17.5px\" }}\n      >\n        <div\n          style={{\n            height: height,\n            width: window.innerWidth / 12,"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 122, "end_line": 177, "language": "js", "text": "            height: height,\n            width: window.innerWidth / 12,\n            borderRadius: window.innerWidth / 24,\n            border: \"1px solid var(--highlightCol)\",\n            marginRight: 15,\n            backgroundColor: `rgb(${valueR},${valueG},${valueB})`\n          }}\n        ></div>\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            flexDirection: \"column\",\n            width: (7 * window.innerWidth) / 10\n          }}\n        >\n          <Range\n            id={`${id}-sliderR`}\n            min={0}\n            max={255}\n            value={valueR}\n            setValue={setValueR}\n            highlightCol=\"rgb(255,0,0)\"\n          />\n          <Range\n            id={`${id}-sliderG`}\n            min={0}\n            max={255}\n            value={valueG}\n            setValue={setValueG}\n            highlightCol=\"rgb(0,255,0)\"\n          />\n          <Range\n            id={`${id}-sliderB`}\n            min={0}\n            max={255}\n            value={valueB}\n            setValue={setValueB}\n            highlightCol=\"rgb(0,0,255)\"\n          />\n        </div>\n      </div>\n      <button\n        style={{\n          width: 50,\n          height: 30,\n          backgroundColor: \"var(--midGray)\",\n          borderRadius: 5\n        }}\n        onClick={submit}\n      >\n        ok\n      </button>\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 176, "end_line": 177, "language": "js", "text": "  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 1, "subchunk_id": 3, "start_line": 177, "end_line": 177, "language": "js", "text": "}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 178, "end_line": 181, "language": "js", "text": "\nexport function Null() {\n  return <div></div>;\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 182, "end_line": 208, "language": "js", "text": "\nexport function Slider({ updateOpen, updateValue, min, max, localStorageItem }) {\n  let [value, setValue] = useState(localStorage.getItem(localStorageItem));\n\n  const submit = () => {\n    localStorage.setItem(localStorageItem, value);\n    updateOpen(false);\n    updateValue(value);\n  };\n\n  return (\n    <div style={{ display: \"flex\", alignItems: \"center\", flexDirection: \"column\" }}>\n      <Range min={min} max={max} value={value} setValue={setValue} />\n      <button\n        style={{\n          width: 50,\n          height: 30,\n          backgroundColor: \"var(--midGray)\",\n          borderRadius: 5\n        }}\n        onClick={submit}\n      >\n        ok\n      </button>\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 209, "end_line": 254, "language": "js", "text": "\nexport function Choice({ localStorageItem, arr, updateOpen, updateValue }) {\n  const changeSelection = e => {\n    setSelected(e.target.innerText);\n  };\n\n  const submit = () => {\n    localStorage.setItem(localStorageItem, selected);\n    updateOpen(false);\n    updateValue(selected);\n  };\n\n  const [selected, setSelected] = useState(localStorage.getItem(localStorageItem));\n\n  return (\n    <div className=\"setting-choices\">\n      {arr.map(choice => (\n        <div\n          key={choice}\n          onClick={changeSelection}\n          className=\"setting-choice\"\n          style={{\n            backgroundColor:\n              choice === selected ? \"rgba(50, 90, 245, 0.2)\" : \"var(--midGray)\",\n            border:\n              choice === selected ? \"3px solid rgb(50, 90, 245)\" : \"3px solid transparent\"\n          }}\n        >\n          <p>{choice}</p>\n        </div>\n      ))}\n      <button\n        style={{\n          width: 50,\n          height: 30,\n          backgroundColor: \"var(--midGray)\",\n          borderRadius: 5,\n          marginTop: 10\n        }}\n        onClick={submit}\n      >\n        ok\n      </button>\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 255, "end_line": 293, "language": "js", "text": "\nfunction Switch(props) {\n  let [enabled, setEnabled] = useState(Boolean(props.enabled));\n\n  let [style, setStyle] = useState({ borderRadius: \"50%\", height: 15 });\n\n  useEffect(() => {\n    let height = document.getElementById(props.id).getBoundingClientRect().height;\n    setStyle({ borderRadius: height / 7, height: height / 3.5, width: height / 1.5 });\n  }, [props.id]);\n\n  const handleClick = () => {\n    setEnabled(!enabled);\n    props.handleClick();\n  };\n\n  return (\n    <button\n      className=\"switch\"\n      onClick={handleClick}\n      style={{\n        ...style,\n        justifyContent: enabled ? \"flex-end\" : \"flex-start\",\n        backgroundColor: enabled ? \"var(--highlightCol)\" : null\n      }}\n    >\n      <div\n        className=\"switch-selector\"\n        style={{\n          width: 1.3 * style.height,\n          height: 1.3 * style.height,\n          top: -0.2 * style.height,\n          right: enabled ? -0.2 * style.height : null,\n          left: enabled ? null : -0.2 * style.height\n        }}\n      ></div>\n    </button>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 294, "end_line": 318, "language": "js", "text": "\nfunction Range({ min, max, value, setValue, id, highlightCol = \"var(--highlightCol)\" }) {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        width: window.innerWidth * 0.8,\n        marginBottom: 5,\n        maxWidth: \"100%\"\n      }}\n    >\n      <input\n        id={id}\n        style={{ highlightCol }}\n        type=\"range\"\n        min={min}\n        max={max}\n        value={value}\n        onChange={e => setValue(e.target.value)}\n        className=\"slider\"\n      />\n      <p style={{ margin: \"0\" }}>{value}</p>\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 319, "end_line": 335, "language": "js", "text": "\nfunction Value(props) {\n  return (\n    <p\n      id={props.id}\n      name=\"reset-value-selector\"\n      prefix={props.prefix}\n      suffix={props.suffix}\n      defaultValue={props.defaultValue}\n      style={{ maxWidth: \"30vw\" }}\n    >\n      {props.prefix}\n      {props.value}\n      {props.suffix}\n    </p>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 336, "end_line": 346, "language": "js", "text": "\nfunction Color({ colour, localStorageItem = null }) {\n  let backCol;\n\n  if (localStorageItem !== null) {\n    backCol = `var(--${localStorageItem})`;\n  } else {\n    backCol = colour;\n  }\n  return <div className=\"colourShower\" style={{ backgroundColor: backCol }}></div>;\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\components.js", "chunk_id": 9, "subchunk_id": 0, "start_line": 347, "end_line": 350, "language": "js", "text": "\nfunction strToRgb(rgbStr) {\n  return rgbStr.slice(4, rgbStr.length - 1).split(\",\");\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\settings\\components\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import { Setting, ColorPicker, Null, Slider, Choice } from \"./components\";\n\nexport { Setting, ColorPicker, Null, Slider, Choice };"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\startScreen\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import StartScreen from \"./startScreen\";\n\nexport default StartScreen;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\startScreen\\startScreen.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 25, "language": "js", "text": "\nfunction StartScreen({ history, location }) {\n  useEffect(() => {\n    sessionStorage.setItem(\"fadePicture\", \"true\");\n    let timeout = setTimeout(() => {\n      if (sessionStorage.getItem(\"new\") === \"true\") {\n        history.push(\"/GradeChoice\");\n      } else {\n        history.push(\"/Picture\");\n      }\n    }, 1000);\n    return () => {\n      window.clearTimeout(timeout);\n    };\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"full lateFade400\">\n      <img className=\"start-screen-image\" src={require(\"pictures/logo512.png\")} alt=\"logo\" />\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\tutorial\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import MobileTutorial from \"./tutorial\";\n\nexport default MobileTutorial;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\tutorial\\tutorial.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 49, "language": "js", "text": "\nfunction MobileTutorial(props) {\n    const backClick = () => {\n        props.backClick();\n        setBackToCam(true);\n    };\n\n    const [backToCam, setBackToCam] = useState(false);\n\n    let rootStyle = document.documentElement.style;\n\n    rootStyle.setProperty(\"--tutAreas\", '\"img1\" \"text1\" \"img2\" \"text2\" \"img3\" \"text3\"');\n    rootStyle.setProperty(\"--otherRows\", \"repeat(3, 27% 6%\");\n    rootStyle.setProperty(\"--firefoxRows\", \"repeat(2, 40% 10%)\");\n    rootStyle.setProperty(\"--fontSize\", \"130%\");\n    rootStyle.setProperty(\"--marginTop\", \"none\");\n    rootStyle.setProperty(\"--rowGap\", \"0\");\n\n    return (\n        <div\n            style={{\n                height: minHeight,\n                position: \"absolute\",\n                width: window.innerWidth,\n                backgroundColor: \"var(--backCol)\",\n                overflow: \"hidden\"\n            }}\n            className={backToCam ? \"slideout\" : \"fadein\"}\n        >\n            <header\n                className=\"top fadein\"\n                style={{ height: Math.round(window.innerWidth / 6) }}\n                id=\"head\"\n            >\n                <Back handleClick={backClick} />\n                <p style={{ fontSize: \"1.2em\", margin: 0 }} id=\"websitePosition\">\n                    Tutorial\n                </p>\n            </header>\n            <div style={{ position: \"relative\", top: Math.round(window.innerWidth / 5) }}>\n                <Tutorial headHeight={Math.round(window.innerWidth / 5)} />\n            </div>\n        </div>"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\tutorial\\tutorial.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 48, "end_line": 51, "language": "js", "text": "            </div>\n        </div>\n    );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\tutorial\\tutorial.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 50, "end_line": 51, "language": "js", "text": "    );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\mobileApp\\tutorial\\tutorial.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 51, "end_line": 51, "language": "js", "text": "}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\404\\404.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 33, "language": "js", "text": "\nfunction Unknown() {\n  let isMobile = typeof window.orientation !== \"undefined\";\n\n  let margin = isMobile ? \"60px 0px\" : null;\n  let fontSize = isMobile ? \"150%\" : \"250%\";\n  let width = isMobile ? window.innerWidth / 2 : window.innerWidth / 6;\n  let marginTop = isMobile ? window.innerHeight / 8 + 60 : window.innerHeight / 13;\n\n  let home = \"/\" + (isMobile ? \"Picture\" : browser[0].toUpperCase() + browser.slice(1));\n\n  return (\n    <div style={{ backgroundColor: \"rgb(40, 40, 40)\", minHeight: window.innerHeight, position: \"absolute\" }} className=\"fadein\">\n      <img\n        style={{ maxHeight: (8 * window.innerHeight) / 10, maxWidth: window.innerWidth, margin: margin }}\n        className=\"center\"\n        src={require(\"pictures/404.png\")}\n        alt=\"404\"\n      />\n      <p style={{ fontSize: fontSize, margin: margin }}>Sorry nothing could be found here</p>\n      <Link\n        to={home}\n        className=\"button404 center\"\n        style={{ width: width, height: window.innerHeight / 20, borderRadius: window.innerHeight / 75, marginTop: marginTop }}\n      >\n        Back To Home\n      </Link>\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\404\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import Unknown from \"./404\";\n\nexport default Unknown;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\elements\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 4, "language": "js", "text": "import Back from \"./Back\";\nimport Img from \"./Img\";\n\nexport { Back, Img };"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\elements\\Back\\Back.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 12, "language": "js", "text": "\nfunction Back({ handleClick }) {\n  return (\n    <div style={{ ...navObj, textAlign: \"center\" }} onClick={handleClick}>\n      <img src={require(\"pictures/back.png\")} alt=\"back\" className=\"nav-img\" />\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\elements\\Back\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import Back from \"./Back\";\n\nexport default Back;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\elements\\Img\\Img.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 29, "language": "js", "text": "\nfunction Img({ src, rotation }) {\n  let [fixHeight, setFixHeight] = useState(true);\n\n  useEffect(() => {\n    let img = new Image();\n    img.src = src;\n    let bool = img.naturalHeight / img.naturalWidth > window.innerHeight / window.innerWidth;\n    setFixHeight(bool);\n  }, [src]);\n\n  return (\n    <img\n      src={src}\n      alt=\"pic\"\n      style={{\n        ...styles.imgStyle,\n        height: fixHeight ? (9 * window.innerHeight) / 10 : \"auto\",\n        width: fixHeight ? \"auto\" : window.innerWidth,\n        transform: `rotate(${rotation * 90}deg)`,\n        transition: \"transform 300ms cubic-bezier(0.215, 0.61, 0.355, 1)\"\n      }}\n      id=\"image\"\n    />\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\elements\\Img\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import Img from \"./Img\";\n\nexport default Img;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\ErrorBoundary\\ErrorBoundary.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 10, "language": "js", "text": "  constructor(props) {\n    super(props);\n    this.state = { hasError: false };\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\ErrorBoundary\\ErrorBoundary.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 15, "language": "js", "text": "\n  static getDerivedStateFromError() {\n    // Update state so the next render will show the fallback UI.\n    return { hasError: true };\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\ErrorBoundary\\ErrorBoundary.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 16, "end_line": 20, "language": "js", "text": "\n  componentDidCatch(error, errorInfo) {\n    // You can also log the error to an error reporting service\n    console.error(error, errorInfo);\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\ErrorBoundary\\ErrorBoundary.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 21, "end_line": 55, "language": "js", "text": "\n  render() {\n    let isMobile = typeof window.orientation !== \"undefined\";\n\n    let width = isMobile ? window.innerWidth / 2 : window.innerWidth / 6;\n\n    let home = \"/\" + (isMobile ? \"Picture\" : browser[0].toUpperCase() + browser.slice(1));\n\n    if (this.state.hasError) {\n      return (\n        <div className=\"error-wrapper\">\n          <img src={require(\"pictures/calvin-error.png\")} alt=\"calvin\" />\n          <div className=\"error-text\">\n            <h1>Something went wrong.</h1>\n          </div>\n          <div>\n            <Link\n              to={home}\n              onClick={() => this.setState({ hasError: false })}\n              className=\"button404\"\n              style={{\n                width: width,\n                height: window.innerHeight / 20,\n                borderRadius: window.innerHeight / 75\n              }}\n            >\n              Back To Home\n            </Link>\n          </div>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\ErrorBoundary\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import ErrorBoundary from \"./ErrorBoundary\";\n\nexport default ErrorBoundary;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\notification\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import notification from './notification';\n\nexport default notification;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\notification\\notification.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 9, "language": "js", "text": "\nexport default function notification(content, important = false) {\n  if (typeof content === \"string\") {\n    content = [content];\n  }\n  ReactDOM.render(<Notify content={content} important={important} />, document.getElementById(\"notification-root\"));\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\notification\\notification.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 51, "language": "js", "text": "\nfunction Notify({ content, important }) {\n  const [height, setHeight] = useState();\n  const [wrapperStyle, setWrapperStyle] = useState({ transform: \"translateY(-200px)\" });\n\n  const closeNotification = () => {\n    setWrapperStyle({\n      transform: `translateY(${-height - 20}px)`\n    });\n    setTimeout(() => {\n      let notify = document.getElementById(\"notification-root\");\n      ReactDOM.unmountComponentAtNode(notify);\n    }, 300);\n  };\n\n  useEffect(() => {\n    let notifyRect = document.getElementById(\"notify\").getBoundingClientRect();\n    setHeight(notifyRect.height);\n    setWrapperStyle({ transform: \"translateY(0)\" });\n    if (!important) {\n      setTimeout(() => {\n        document.getElementById(\"notification-x\").click();\n      }, LEAVE_DELAY);\n    }\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div className=\"notification\" id=\"notify\" style={wrapperStyle}>\n      <div style={{ width: (8 * window.innerWidth) / 10 }}>\n        {content.map((text, i) => (\n          <p key={`notification-p-${i}`}>{text}</p>\n        ))}\n      </div>\n      <div className=\"close-x\" onClick={closeNotification} id=\"notification-x\">\n        <button>&#215;</button>\n      </div>\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\Tutorial\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "import Tutorial from \"./Tutorial\";\n\nexport default Tutorial;"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\Tutorial\\Tutorial.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 91, "end_line": 93, "language": "js", "text": "    for (let i = 0; i < 3; i++) {\n      newBrowsers = calcHighlight(newBrowsers, l[i], newHighlightTop);\n    }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\Tutorial\\Tutorial.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 102, "end_line": 104, "language": "js", "text": "  if (mounted && highlightTop !== calcHighlightTop()) {\n    calcBrowserPos();\n  }"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\Tutorial\\tutorialElements\\Chrome.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 30, "language": "js", "text": "\nfunction Chrome() {\n  let style = {\n    height: window.innerHeight * 3,\n    position: \"absolute\"\n  };\n  return (\n    <div style={{ ...style, borderTop: \"2px solid rgb(18, 218, 0)\" }} className=\"tut tutOthers\" id=\"chromeTuts\">\n      <div className=\"img1\">\n        <img className=\"tutImg\" src={require(\"pictures/chrome1.jpg\")} alt=\"tutorial 1\" />\n      </div>\n      <div className=\"p1\">\n        <p id=\"font100\">Click on the the circled button</p>\n      </div>\n      <div className=\"img2\">\n        <img className=\"tutImg\" src={require(\"pictures/chrome2.jpg\")} alt=\"tutorial 2\" />\n      </div>\n      <div className=\"p2\">\n        <p id=\"font100\">Click on \"Add to Home screen\".</p>\n      </div>\n      <div className=\"img3\">\n        <img className=\"tutImg\" src={require(\"pictures/chrome3.jpg\")} alt=\"tutorial 3\" />\n      </div>\n      <div className=\"p3\">\n        <p id=\"font100\">Click on \"Add\" to install to your home screen.</p>\n      </div>\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\Tutorial\\tutorialElements\\Firefox.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 24, "language": "js", "text": "\nfunction Firefox() {\n  let style = {\n    height: window.innerHeight * 2,\n    position: \"absolute\"\n  };\n  return (\n    <div style={{ ...style, borderTop: \"2px solid rgb(200, 0 ,0)\" }} className=\"tut tutFirefox\" id=\"firefoxTut\">\n      <div className=\"img1\">\n        <img className=\"tutImg\" src={require(\"pictures/firefox1.jpg\")} alt=\"tutorial 1\" />\n      </div>\n      <div className=\"p1\">\n        <p id=\"font100\">Click on the the circled button</p>\n      </div>\n      <div className=\"img2\">\n        <img className=\"tutImg\" src={require(\"pictures/firefox2.jpg\")} alt=\"tutorial 2\" />\n      </div>\n      <div className=\"p2\">\n        <p id=\"font100\">Click on \"+ADD TO HOME SCREEN\" to install to your home screen.</p>\n      </div>\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\Tutorial\\tutorialElements\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 5, "language": "js", "text": "import Chrome from \"./Chrome\";\nimport Firefox from \"./Firefox\";\nimport Safari from \"./Safari\";\n\nexport { Firefox, Chrome, Safari };"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\shared\\Tutorial\\tutorialElements\\Safari.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 30, "language": "js", "text": "\nfunction Safari() {\n  let style = {\n    height: window.innerHeight * 3,\n    position: \"absolute\"\n  };\n  return (\n    <div style={{ ...style, borderTop: \"2px solid rgb(0, 0, 255)\" }} className=\"tut tutOthers\" id=\"safariTut\">\n      <div className=\"img1\">\n        <img className=\"tutImg\" src={require(\"pictures/safari1.jpg\")} alt=\"tutorial 1\" />\n      </div>\n      <div className=\"p1\">\n        <p id=\"font100\">Click on the the circled button</p>\n      </div>\n      <div className=\"img2\">\n        <img className=\"tutImg\" src={require(\"pictures/safari2.jpg\")} alt=\"tutorial 2\" />\n      </div>\n      <div className=\"p2\">\n        <p id=\"font100\">After scrolling down, click on \"Add to Home Screen\".</p>\n      </div>\n      <div className=\"img3\">\n        <img className=\"tutImg\" src={require(\"pictures/safari3.jpg\")} alt=\"tutorial 3\" />\n      </div>\n      <div className=\"p3\">\n        <p id=\"font100\">Click on \"Add\" to install to your home screen.</p>\n      </div>\n    </div>\n  );\n}"}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\style\\style.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 61, "language": "js", "text": "const maxLength = (10 / 100) * (69 / 100) * window.innerHeight;\n\nconst styles = {\n  maxLength,\n  imgStyle: {\n    zIndex: \"0\",\n    margin: \"auto\",\n    width: window.innerWidth\n  },\n  imgContainerStyle: {\n    backgroundColor: \"var(--backCol)\",\n    display: \"flex\",\n    position: \"relative\"\n  },\n  captureButtonStyle: {\n    position: \"fixed\",\n    borderRadius: \"50%\",\n    width: maxLength,\n    height: maxLength,\n    zIndex: 42,\n    backgroundColor: \"rgb(224, 0, 0)\",\n    border: \"0.15em solid white\",\n    transition: \"bottom 500ms cubic-bezier(0.215, 0.61, 0.355, 1)\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    left: \"50%\",\n    transform: \"translateX(-50%)\",\n    display: \"flex\"\n  },\n  videoConstraints: {\n    // facingMode: 'user',\n    facingMode: { exact: \"environment\" },\n    width: (9 * window.innerHeight) / 10,\n    height: window.innerWidth\n  },\n  botNavStyle: {\n    width: window.innerWidth / 3,\n    margin: 0,\n    fontWeight: 200,\n    display: \"flex\",\n    justifyContent: \"center\"\n  },\n  webStyle: {\n    fontSize: \"1.2em\",\n    margin: 0,\n    zIndex: 69,\n    transition: \"opacity 500ms linear\",\n    textAlign: \"center\"\n  },\n  container: {\n    position: \"absolute\",\n    margin: 0,\n    top: window.innerHeight / 11,\n    width: window.innerWidth,\n    padding: window.innerWidth / 20,\n    justifyItems: \"center\",\n    alignItems: \"center\",\n    boxSizing: \"border-box\",\n    paddingTop: 0,\n    paddingBottom: (7 * window.innerHeight) / 100,\n    overflow: \"hidden\","}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\style\\style.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 60, "end_line": 80, "language": "js", "text": "    paddingBottom: (7 * window.innerHeight) / 100,\n    overflow: \"hidden\",\n    backgroundColor: \"var(--backCol)\"\n  },\n  infoStyle: {\n    boxSizing: \"border-box\",\n    borderRadius: window.innerWidth / 50,\n    width: (9 * window.innerWidth) / 10,\n    padding: 10,\n    margin: \"1.4% 0\"\n  },\n  navObj: {\n    boxSizing: \"border-box\",\n    alignContent: \"center\",\n    justifyContent: \"center\",\n    padding: maxLength / 5,\n    height: maxLength,\n    borderRadius: \"50%\",\n    width: maxLength,\n    cursor: \"pointer\",\n    objectFit: \"cover\""}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\style\\style.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 79, "end_line": 80, "language": "js", "text": "    cursor: \"pointer\",\n    objectFit: \"cover\""}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\style\\style.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 80, "end_line": 80, "language": "js", "text": "    objectFit: \"cover\""}
{"repo_name": "Backend-Fullstack", "file_path": "Backend-Fullstack\\code\\Frontend\\src\\style\\style.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 81, "end_line": 93, "language": "js", "text": "  },\n  answerStyle: {\n    overflowY: \"scroll\",\n    objectFit: \"cover\",\n    display: \"inline-block\",\n    minWidth: (9 * window.innerWidth) / 10,\n    margin: \"10px 10%\",\n    marginLeft: 0,\n    flex: 1\n  }\n};\n\nexport default styles;"}
{"repo_name": "basically-fullstack-graphql", "file_path": "basically-fullstack-graphql\\code\\src\\client\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 38, "end_line": 40, "language": "js", "text": "\n        // Get ready!\n        const incomingRecipes = await fetch(\"/graphql\", requestOptions).then(rawResponse => rawResponse.json())"}
{"repo_name": "basically-fullstack-graphql", "file_path": "basically-fullstack-graphql\\code\\src\\server\\config.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 6, "language": "js", "text": "// BIG SECRET TELL NO ONE\nconst config = {\n  API_URL: \"http://www.recipepuppy.com/api/\",\n}\n\nmodule.exports = config"}
{"repo_name": "basically-fullstack-graphql", "file_path": "basically-fullstack-graphql\\code\\src\\server\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 12, "language": "js", "text": "\n// So when someone sends a POST to /graphql, do the second argument.\n// Note we're using the schema and resolver here.\n// graphiql is basically a GUI where you can send queries and see the output. Super useful for debugging.\napp.post(\"/graphql\", graphqlHTTP((req, res, params) => ({ schema, rootValue: resolver, graphiql: false })))"}
{"repo_name": "basically-fullstack-graphql", "file_path": "basically-fullstack-graphql\\code\\src\\server\\index.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 19, "end_line": 21, "language": "js", "text": "\n// Can't serve if you're not listening\napp.listen(port, () => console.log(`\\x1b[32mServer on! LISTENING ON http://localhost:${port}`))"}
{"repo_name": "basically-fullstack-graphql", "file_path": "basically-fullstack-graphql\\code\\src\\server\\resolver.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 27, "language": "js", "text": "const rootResolver = {\n  recipes: ({ ingredients }) => {\n    return fetch(`${API_URL}?i=${ingredients}`)\n      .then(rawResponse => rawResponse.json())\n      .then(response => {\n        // IMPORTANT: the shape of this response needs to map to your schema\n        return response.results\n      })\n  },\n}"}
{"repo_name": "basically-fullstack-graphql", "file_path": "basically-fullstack-graphql\\code\\src\\server\\schema.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 26, "language": "js", "text": "const { buildSchema } = require(\"graphql\") // basically, GraphQL takes a string and creates intelligible schemas for you\n\n/*\n  Specify the types of data you expect from an endpoint here.\n  What this says is basically:\n\n  So here's my schema: in a query, if someone is after recipes (MAP TO THE RESOLVER in resolver.js),\n  expect a NULLABLE ARGUMENT ingredients, and that thing should be a String. Inside of that, should\n  be a NULLABLE ARRAY of Recipes. the Recipe type is defined right under.\n\n  Simple, no?\n*/\nconst schema = buildSchema(`\n  type Query {\n    recipes(ingredients: String): [Recipe]\n  }\n\n  type Recipe {\n    href: String,\n    ingredients: String,\n    thumbnail: String,\n    title: String\n  }\n`)\n\nmodule.exports = schema"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\main\\java\\com\\datastax\\workshop\\DBConnection.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 21, "language": "java", "text": "public interface DBConnection {\n    \n    // This is the Zip file you downloaded\n    String SECURE_CONNECT_BUNDLE = \"/workspace/bootcamp-fullstack-apps-with-cassandra/secure-connect-workshops.zip\";\n\n    // This is the \"Client Id\" value you obtained earlier\n    String USERNAME = \"$ASTRA_USERNAME\";\n\n    // This is the \"Client Secret\" value you obtained earlier\n    String PASSWORD = \"$ASTRA_PASSWORD\";\n    \n    // This is the keyspace name, recommended value was killrvideo\n    String KEYSPACE = \"todos\";\n    \n}"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex06_Connect_to_Astra.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 15, "end_line": 58, "language": "java", "text": "  \n  @Test\n  public void should_connect_to_astra() {\n    System.out.println(\"[should_connect_to_astra] ========================================\");\n    System.out.println(\"[should_connect_to_astra] Start Exercise\");\n    // Given\n    Assertions.assertFalse(\n      DBConnection.SECURE_CONNECT_BUNDLE.equals(\"\"),\n      \"Please fill DBConnection class constants\"\n    );\n    Assertions.assertFalse(\n      DBConnection.KEYSPACE.equals(\"\"),\n      \"Please fill DBConnection class constants\"\n    );\n    Assertions.assertFalse(\n      DBConnection.USERNAME.equals(\"\"),\n      \"Please fill DBConnection class constants\"\n    );\n    Assertions.assertFalse(\n      DBConnection.PASSWORD.equals(\"\"),\n      \"Please fill DBConnection class constants\"\n    );\n    Assertions.assertTrue(\n      new File(DBConnection.SECURE_CONNECT_BUNDLE).exists(),\n      \"File '\" +\n      DBConnection.SECURE_CONNECT_BUNDLE +\n      \"' has not been found\\n\" +\n      \"To run this sample you need to download the secure bundle file from ASTRA WebPage\\n\" +\n      \"More info here:\"\n    );\n    System.out.println(\"[should_connect_to_astra] File '\" + DBConnection.SECURE_CONNECT_BUNDLE + \"' located\");\n\n    // When\n    try (\n      CqlSession cqlSession = CqlSession\n        .builder()\n        .withCloudSecureConnectBundle(\n          Paths.get(DBConnection.SECURE_CONNECT_BUNDLE)\n        )\n        .withAuthCredentials(DBConnection.USERNAME, DBConnection.PASSWORD)\n        .withKeyspace(DBConnection.KEYSPACE)\n        .build()\n    ) {\n      // Then"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex06_Connect_to_Astra.java", "chunk_id": 0, "subchunk_id": 1, "start_line": 57, "end_line": 63, "language": "java", "text": "    ) {\n      // Then\n        System.out.println(\"[should_connect_to_astra] Connected with Keyspace \" + cqlSession.getKeyspace().get());\n    }\n    System.out.println(\"[should_connect_to_astra] [OK]\");\n    System.out.println(\"[should_connect_to_astra] ========================================\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex06_Connect_to_Astra.java", "chunk_id": 0, "subchunk_id": 2, "start_line": 62, "end_line": 63, "language": "java", "text": "    System.out.println(\"[should_connect_to_astra] ========================================\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex06_Connect_to_Astra.java", "chunk_id": 0, "subchunk_id": 3, "start_line": 63, "end_line": 63, "language": "java", "text": "  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6a_Create_Table.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 11, "end_line": 32, "language": "java", "text": "  \n  @Test\n  public void should_create_a_table_1() {\n    System.out.println(\"[should_create_a_table_1] ========================================\");\n    System.out.println(\"[should_create_a_table_1] Start exercise\");\n    \n    try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n      String query =\n        \"CREATE TABLE IF NOT EXISTS todoitems (\" +\n        \"user_id         TEXT,\" +\n        \"item_id         TIMEUUID,\" +\n        \"title           TEXT,\" +\n        \"completed       BOOLEAN,\" +\n        \"PRIMARY KEY ((user_id), item_id)\" +\n        \") WITH CLUSTERING ORDER BY (item_id ASC);\";\n      cqlSession.execute(query);\n    }\n    \n    System.out.println(\"[should_create_a_table_1] [OK]\");\n    System.out.println(\"[should_create_a_table_1] ========================================\");\n    System.out.println();\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6a_Create_Table.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 33, "end_line": 43, "language": "java", "text": "  \n  @Test\n  public void should_create_a_table_2() {\n    System.out.println(\"[should_create_a_table_2] ========================================\");\n    System.out.println(\"[should_create_a_table_2] Start exercise\");\n    try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n        TestUtils.createTableTodoItem(cqlSession);\n    }\n    System.out.println(\"[should_create_a_table_2] [OK]\");\n    System.out.println(\"[should_create_a_table_2] ========================================\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6b_Insert_Todos.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 20, "end_line": 46, "language": "java", "text": "  \n  @Test\n  @Order(1)\n  public void should_insert_todos_1() {\n    System.out.println(\"[should_insert_todos_1] ========================================\");\n    System.out.println(\"[should_insert_todos_1] Start with static CQL\");\n    try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n      cqlSession.execute(\n        \"INSERT INTO todoitems (user_id, item_id, completed, title) \" + \n        \"VALUES ( 'john', 11111111-5cff-11ec-be16-1fedb0dfd057, true, 'Walk the dog');\"\n      );\n      \n      System.out.println(\"[should_insert_todos_1] Task '11111111-5cff-11ec-be16-1fedb0dfd057' has been inserted\");       \n      cqlSession.execute(\n        \"INSERT INTO todoitems (user_id, item_id, completed, title) \" +\n        \"VALUES ( 'john', 22222222-5cff-11ec-be16-1fedb0dfd057, false, 'Have lunch tomorrow');\"\n      );\n      System.out.println(\"[should_insert_todos_1] Task '22222222-5cff-11ec-be16-1fedb0dfd057' has been inserted\"); \n      cqlSession.execute(\n        \"INSERT INTO todoitems (user_id, item_id, completed, title) \" + \n        \"VALUES ( 'mary', 33333333-5cff-11ec-be16-1fedb0dfd057, true, 'Attend the workshop');\"\n      );\n      System.out.println(\"[should_insert_todos_1] Task '33333333-5cff-11ec-be16-1fedb0dfd057' has been inserted\"); \n    }\n    System.out.println(\"[should_insert_todos_1] [OK]\");\n    System.out.println(\"[should_insert_todos_1] ========================================\\n\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6b_Insert_Todos.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 47, "end_line": 60, "language": "java", "text": "  \n  @Test\n  @Order(2)\n  public void should_create_task_cql() {\n      System.out.println(\"[should_create_task_cql] ========================================\");\n      System.out.println(\"[should_create_task_cql] Start Exercise\");\n      try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n          cqlSession.execute(\"\"\n              + \"INSERT INTO todoitems (user_id, item_id, title, completed) \"\n              + \"VALUES('createTask',\" +  Uuids.timeBased() + \",'Task CQL',FALSE)\");\n      }\n      System.out.println(\"[should_create_task_cql] [OK]\");\n      System.out.println(\"[should_create_task_cql] ========================================\\n\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6b_Insert_Todos.java", "chunk_id": 2, "subchunk_id": 0, "start_line": 61, "end_line": 81, "language": "java", "text": "  \n  @Test\n  @Order(3)\n  public void should_insert_task_simple_position() {\n      System.out.println(\"[should_insert_task_simple_position] ========================================\");\n      System.out.println(\"[should_insert_task_simple_position] Start Exercise\");\n      try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n          UUID itemId =  Uuids.timeBased();\n          cqlSession.execute(SimpleStatement.builder(\"\"\n                  + \"INSERT INTO todoitems (user_id, item_id, title, completed) \"\n                  + \"VALUES(?,?,?,?)\")\n                  .addPositionalValue(\"createTask\")\n                  .addPositionalValue(itemId)\n                  .addPositionalValue(\"Task Simple Statement position\")\n                  .addPositionalValue(Boolean.FALSE)\n                  .build());\n          System.out.println(\"[should_insert_task_simple_position] Task \" + itemId + \" has been inserted\");        \n      }\n      System.out.println(\"[should_insert_task_simple_position] [OK]\");\n      System.out.println(\"[should_insert_task_simple_position] ========================================\\n\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6b_Insert_Todos.java", "chunk_id": 3, "subchunk_id": 0, "start_line": 82, "end_line": 102, "language": "java", "text": "  \n  @Test\n  @Order(4)\n  public void should_insert_task_simple_label() {\n      System.out.println(\"[should_insert_task_simple_label] ========================================\");\n      System.out.println(\"[should_insert_task_simple_label] Start Exercise\");\n      try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n          UUID itemId =  Uuids.timeBased();\n          cqlSession.execute(SimpleStatement.builder(\"\"\n                  + \"INSERT INTO todoitems (user_id, item_id, title, completed) \"\n                  + \"VALUES(:userid,:itemid,:title,:completed)\")\n                  .addNamedValue(\"userid\",\"createTask\")\n                  .addNamedValue(\"itemid\",itemId)\n                  .addNamedValue(\"title\",\"Task Simple Statement name\")\n                  .addNamedValue(\"completed\", Boolean.FALSE)\n                  .build());\n          System.out.println(\"[should_insert_task_simple_label] Task \" + itemId + \" has been inserted\");     \n      }\n      System.out.println(\"[should_insert_task_simple_label] [OK]\");\n      System.out.println(\"[should_insert_task_simple_label] ========================================\\n\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6b_Insert_Todos.java", "chunk_id": 4, "subchunk_id": 0, "start_line": 103, "end_line": 120, "language": "java", "text": "  \n  @Test\n  @Order(5)\n  public void should_insert_task_prepared() {\n      System.out.println(\"[should_insert_task_prepared] ========================================\");\n      System.out.println(\"[should_insert_task_prepared] Start Exercise\");\n      // When\n      try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n          PreparedStatement ps = cqlSession.prepare(\n                  \"INSERT INTO todoitems (user_id, item_id, title, completed) \"\n                  + \"VALUES(?,?,?,?)\");\n          UUID itemId = Uuids.timeBased();\n          cqlSession.execute(ps.bind(\"createTask\", itemId, \"Prepared Task\", Boolean.FALSE));\n          System.out.println(\"[should_insert_task_prepared] Task \" + itemId + \" has been inserted\");               \n      }\n      System.out.println(\"[should_insert_task_prepared] [OK]\");\n      System.out.println(\"[should_insert_task_prepared] ========================================\\n\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6c_Get_All_Todos.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 22, "end_line": 40, "language": "java", "text": "\n  @Test\n  @Order(1)\n  public void should_get_todos_1() {\n    System.out.println(\"[should_get_todos_1] ========================================\");\n    System.out.println(\"[should_get_todos_1] Looking for John's Tasks\");\n    try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n      ResultSet rs = cqlSession.execute(\n        \"SELECT * FROM todoitems WHERE user_id = 'john';\"\n      );\n      for (Row row : rs) {\n        System.out.println(\"[should_get_todos_1] \" + \n                row.getUuid(\"item_id\") + \": \" + \n                row.getString(\"title\"));\n      }\n    }\n    System.out.println(\"[should_get_todos_1] [OK]\");\n    System.out.println(\"[should_get_todos_1] ========================================\\n\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6c_Get_All_Todos.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 41, "end_line": 60, "language": "java", "text": "  \n  @Test\n  @Order(2)\n  public void should_get_todos_2() {\n    System.out.println(\"[should_get_todos_2] ========================================\");\n    System.out.println(\"[should_get_todos_2] Looking for 'createTask' Tasks\");\n    try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n        SimpleStatement query = SimpleStatement.builder(\"\"\n                + \"SELECT item_id,title,completed \"\n                + \"FROM todoitems WHERE user_id=?\")\n                .addPositionalValue(\"createTask\")\n                .build();\n        cqlSession.execute(query).forEach(row -> \n            System.out.println(\"[should_get_todos_2] \" +\n                    row.getUuid(\"item_id\") + \": \" + \n                    row.getString(\"title\")));\n    }\n    System.out.println(\"[should_get_todos_2] [OK]\");\n    System.out.println(\"[should_get_todos_2] ========================================\\n\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6c_Get_All_Todos.java", "chunk_id": 2, "subchunk_id": 0, "start_line": 61, "end_line": 101, "language": "java", "text": "  @Test\n  @Order(3)\n  public void should_get_todos_3() {\n    class TodoItem {\n      public String user_id;\n      public UUID item_id;\n      public String title;\n      public Boolean completed;\n\n      TodoItem(String u, UUID i, String t, Boolean c) {\n        this.user_id = u;\n        this.item_id = i;\n        this.title = t;\n        this.completed = c;\n      }\n    }\n    System.out.println(\"[should_get_todos_3 with simple object mapper]=================\");\n    System.out.println(\"[should_get_todos_3] Looking for 'createTask' Tasks\");\n    try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n      ResultSet rs = cqlSession.execute(\n        \"SELECT * FROM todoitems WHERE user_id='createTask';\"\n      );\n\n      List<TodoItem> result = new ArrayList<>();\n\n      // Simple Object Mapper\n\n      rs.forEach(item -> result.add(\n            new TodoItem(item.getString(\"user_id\"),\n                         item.getUuid(\"item_id\"),\n                         item.getString(\"title\"),\n                         item.getBoolean(\"completed\"))\n        ));\n\n      for (TodoItem item: result) {\n        System.out.println(\"Todoitem title = \" + item.title);\n      }\n    }\n    System.out.println(\"[should_get_todos_3 with simple object mapper] [OK]\");\n    System.out.println(\"[should_get_todos_3] ========================================\\n\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6d_Update_A_Todo.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 39, "language": "java", "text": "\n  @Test\n  @Order(1)\n  public void should_update_todos() {\n    System.out.println(\"[should_update_todos] ========================================\");\n    System.out.println(\"[should_update_todos] Start Exercise\");\n    // When\n    try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n      System.out.println(\"[should_update_todos] Before:\");\n      TestUtils.showTasks(cqlSession, \"john\");\n      cqlSession.execute(\"\"\n        + \"UPDATE todoitems \"\n        + \"SET completed = true \"\n        + \"WHERE user_id = 'john' \"\n        + \"AND item_id = 22222222-5cff-11ec-be16-1fedb0dfd057;\"\n      );\n      System.out.println(\"[should_update_todos] After:\");\n      TestUtils.showTasks(cqlSession, \"john\");\n    }\n    System.out.println(\"[should_update_todos] [OK]\");\n    System.out.println(\"[should_update_todos] ========================================\\n\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6d_Update_A_Todo.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 40, "end_line": 59, "language": "java", "text": " \n  @Test\n  @Order(2)\n  public void should_update_todos_2() {\n    System.out.println(\"[should_update_todos_2] ========================================\");\n    System.out.println(\"[should_update_todos_2] Start Exercise\");\n    try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n      cqlSession.execute(SimpleStatement.builder(\"\"\n              + \"UPDATE todoitems \"\n              + \"SET completed=:flag \"\n              + \"WHERE user_id=:userId AND item_id=:itemId\")\n              .addNamedValue(\"flag\", false)\n              .addNamedValue(\"userId\", \"john\")\n              .addNamedValue(\"itemId\", UUID.fromString(\"11111111-5cff-11ec-be16-1fedb0dfd057\"))\n              .build());\n       TestUtils.showTasks(cqlSession, \"john\");\n    }\n    System.out.println(\"[should_update_todos_2] [OK]\");\n    System.out.println(\"[should_update_todos_2] ========================================\\n\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6e_Remove_A_Todo.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 14, "end_line": 25, "language": "java", "text": "\n  @Test\n  public void should_remove_todos() {\n    System.out.println(\"[should_remove_todos] ========================================\");\n    System.out.println(\"[should_remove_todos] Start Exercise\");\n    try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n        deleteTask(cqlSession, \"john\", UUID.fromString(\"11111111-5cff-11ec-be16-1fedb0dfd057\"));\n        TestUtils.showTasks(cqlSession, \"john\");\n    }\n    System.out.println(\"[should_remove_todos] [OK]\");\n    System.out.println(\"[should_remove_todos] ========================================\\n\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6e_Remove_A_Todo.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 26, "end_line": 35, "language": "java", "text": "  \n  private void deleteTask(CqlSession cqlSession, String user, UUID taskId) {\n      cqlSession.execute(SimpleStatement.builder(\"\"\n              + \"DELETE FROM todoitems \"\n              + \"WHERE user_id=? \"\n              + \"AND item_id=?\")\n              .addPositionalValue(user)\n              .addPositionalValue(taskId)\n              .build());\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\Ex6f_Remove_All_Todos.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 11, "end_line": 22, "language": "java", "text": "\n  @Test\n  public void should_remote_all_todos() {\n      System.out.println(\"[should_remove_all_todos] ========================================\");\n      System.out.println(\"[should_remove_all_todos] Start Exercise\");\n      try (CqlSession cqlSession = TestUtils.createCqlSession()) {\n          cqlSession.execute(\"TRUNCATE TABLE todoitems;\");\n          TestUtils.showTasks(cqlSession, \"john\");\n      }\n      System.out.println(\"[should_remove_all_todos] [OK]\");\n      System.out.println(\"[should_remove_all_todos] ========================================\\n\");\n  }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\TestUtils.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 22, "end_line": 30, "language": "java", "text": "    \n    public static CqlSession createCqlSession() {\n        return CqlSession\n                .builder()\n                .withCloudSecureConnectBundle(Paths.get(DBConnection.SECURE_CONNECT_BUNDLE))\n                .withAuthCredentials(DBConnection.USERNAME, DBConnection.PASSWORD)\n                .withKeyspace(DBConnection.KEYSPACE)\n                .build();\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\TestUtils.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 41, "end_line": 50, "language": "java", "text": "    public static void createTableTodoItem(CqlSession cqlSession) {\n        cqlSession.execute(\n            createTable(TABLE_TODOITEMS).ifNotExists()\n            .withPartitionKey(TODO_USER_ID, TEXT)\n            .withClusteringColumn(TODO_ITEM_ID, TIMEUUID)\n            .withColumn(TODO_COMPLETED, BOOLEAN)\n            .withColumn(TODO_TITLE, TEXT)\n            .withClusteringOrder(TODO_ITEM_ID, ClusteringOrder.ASC)\n            .build());\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\java\\src\\test\\java\\com\\datastax\\workshop\\TestUtils.java", "chunk_id": 2, "subchunk_id": 0, "start_line": 51, "end_line": 62, "language": "java", "text": "    \n    \n    public static void showTasks(CqlSession cqlSession, String user) {\n        cqlSession.execute(SimpleStatement\n                    .builder(\"SELECT item_id, completed, title  FROM todoitems WHERE user_id=?\")\n                    .addPositionalValue(user).build())\n                  .forEach(row -> {\n                    System.out.println(\"+\" + row.getUuid(\"item_id\") + \": \" + \n                            row.getBoolean(\"completed\") + \":\" + \n                            row.getString(\"title\"));      \n                  });\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\javascript\\connection.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 19, "end_line": 20, "language": "js", "text": "\nprocess.on(\"exit\", () => client.shutdown());"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\javascript\\Ex06_Connect_to_Astra.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 22, "language": "js", "text": "\n(async () => {\n  try {\n    const result = await client.execute(\"SELECT * FROM system.local\");\n    result.rows.forEach((row) => {\n      console.log(\n        \"Your are now connected to Astra '%s' at '%s'\",\n        row.cluster_name,\n        row.data_center\n      );\n    });\n    console.log(\"SUCCESS\");\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(\"========================================\");\n  process.exit();\n})();"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\javascript\\Ex6a_Create_Table.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 22, "language": "js", "text": "\n(async () => {\n  try {\n    await client.execute(`\n        CREATE TABLE IF NOT EXISTS todoitems (\n            user_id         TEXT,\n            item_id         TIMEUUID,\n            title           TEXT,\n            completed       BOOLEAN,\n            PRIMARY KEY ((user_id), item_id)\n        ) WITH CLUSTERING ORDER BY (item_id ASC);`);\n    console.log(\"SUCCESS\");\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(\"========================================\");\n  process.exit();\n})();"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\javascript\\Ex6b_Insert_Todos.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 23, "language": "js", "text": "\n(async () => {\n  try {\n    await client.execute(\n      \"INSERT INTO todoitems (user_id, item_id, completed, title) VALUES ( 'john', 11111111-5cff-11ec-be16-1fedb0dfd057, true, 'Walk the dog');\"\n    );\n    await client.execute(\n      \"INSERT INTO todoitems (user_id, item_id, completed, title) VALUES ( 'john', 22222222-5cff-11ec-be16-1fedb0dfd057, false, 'Have lunch tomorrow');\"\n    );\n    await client.execute(\n      \"INSERT INTO todoitems (user_id, item_id, completed, title) VALUES ( 'mary', 33333333-5cff-11ec-be16-1fedb0dfd057, true, 'Attend the workshop');\"\n    );\n    console.log(\"SUCCESS\");\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(\"========================================\");\n  process.exit();\n})();"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\javascript\\Ex6c_Get_All_Todos.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 20, "language": "js", "text": "\n(async () => {\n  try {\n    const result = await client.execute(\n      \"SELECT * FROM todoitems WHERE user_id = 'john';\"\n    );\n    result.rows.forEach((row) => {\n      console.log(row);\n    });\n    console.log(\"SUCCESS\");\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(\"========================================\");\n  process.exit();\n})();"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\javascript\\Ex6d_Update_A_Todo.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 23, "language": "js", "text": "\n(async () => {\n  try {\n    await client.execute(\n      \"UPDATE todoitems SET completed = true WHERE user_id = 'john' AND item_id = 22222222-5cff-11ec-be16-1fedb0dfd057;\"\n    );\n    const result = await client.execute(\n      \"SELECT toTimestamp(item_id), completed, title FROM todoitems WHERE user_id = 'john';\"\n    );\n    result.rows.forEach((row) => {\n      console.log(row);\n    });\n    console.log(\"SUCCESS\");\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(\"========================================\");\n  process.exit();\n})();"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\javascript\\Ex6e_Remove_A_Todo.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 23, "language": "js", "text": "\n(async () => {\n  try {\n    await client.execute(\n      \"DELETE FROM todoitems WHERE user_id='john' AND item_id=11111111-5cff-11ec-be16-1fedb0dfd057;\"\n    );\n    const result = await client.execute(\n      \"SELECT toTimestamp(item_id), completed, title FROM todoitems WHERE user_id = 'john';\"\n    );\n    result.rows.forEach((row) => {\n      console.log(row);\n    });\n    console.log(\"SUCCESS\");\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(\"========================================\");\n  process.exit();\n})();"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\javascript\\Ex6f_Remove_All_Todos.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 15, "language": "js", "text": "\n(async () => {\n  try {\n    await client.execute(\"TRUNCATE TABLE todoitems;\");\n    console.log(\"SUCCESS\");\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(\"========================================\");\n  process.exit();\n})();"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\python\\connection.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 30, "end_line": 32, "language": "py", "text": "def shutdown_driver():\n    cluster.shutdown()\n    session.shutdown()"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\python\\Ex06_Connect_to_Astra.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 16, "language": "py", "text": "#!/usr/bin/env python3\nfrom connection import session\n\nprint('========================================')\nprint('Start exercise')\ntry:\n    output = session.execute(\"SELECT * FROM system.local\")\n    for row in output:\n        print('You are now connected to cluster %s at %s' %\n              (row.cluster_name, row.data_center))\nexcept Exception as e:\n    print(e)\n    print('Failure')\nelse:\n    print('Success')\nprint('========================================')"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\python\\Ex6a_Create_Table.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 20, "language": "py", "text": "#!/usr/bin/env python3\nfrom connection import session\n\nprint('========================================')\nprint('Start exercise')\ntry:\n    session.execute(\"\"\"CREATE TABLE IF NOT EXISTS todoitems (\n                        user_id         TEXT,\n                        item_id         TIMEUUID,\n                        title           TEXT,\n                        completed       BOOLEAN,\n                        PRIMARY KEY ((user_id), item_id)\n                    ) WITH CLUSTERING ORDER BY (item_id ASC);\n                    \"\"\")\nexcept Exception as e:\n    print(e)\n    print('Failure')\nelse:\n    print('Success')\nprint('========================================')"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\python\\Ex6b_Insert_Todos.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 19, "language": "py", "text": "#!/usr/bin/env python3\nimport uuid\nfrom connection import session\n\nprint('========================================')\nprint('Start exercise')\ntry:\n    session.execute(\n        \"INSERT INTO todoitems (user_id, item_id, completed, title) VALUES ( 'john', 11111111-5cff-11ec-be16-1fedb0dfd057, true, 'Walk the dog');\")\n    session.execute(\n        \"INSERT INTO todoitems (user_id, item_id, completed, title) VALUES ( 'john', 22222222-5cff-11ec-be16-1fedb0dfd057, false, 'Have lunch tomorrow');\")\n    session.execute(\n        \"INSERT INTO todoitems (user_id, item_id, completed, title) VALUES ( 'mary', 33333333-5cff-11ec-be16-1fedb0dfd057, true, 'Attend the workshop');\")\nexcept Exception as e:\n    print(e)\n    print('Failure')\nelse:\n    print('Success')\nprint('========================================')"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\python\\Ex6c_Get_All_Todos.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 15, "language": "py", "text": "#!/usr/bin/env python3\nfrom connection import session\n\nprint('========================================')\nprint('Start exercise')\ntry:\n    output = session.execute(\"SELECT * FROM todoitems WHERE user_id = 'john';\")\n    for row in output:\n        print(str(row))\nexcept Exception as e:\n    print(e)\n    print('Failure')\nelse:\n    print('Success')\nprint('========================================')"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\python\\Ex6d_Update_A_Todo.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 18, "language": "py", "text": "#!/usr/bin/env python3\nfrom connection import session\n\nprint('========================================')\nprint('Start exercise')\ntry:\n    session.execute(\n        \"UPDATE todoitems SET completed = true WHERE user_id = 'john' AND item_id = 22222222-5cff-11ec-be16-1fedb0dfd057;\")\n    output = session.execute(\n        \"SELECT toTimestamp(item_id), completed, title FROM todoitems WHERE user_id = 'john';\")\n    for row in output:\n        print(row)\nexcept Exception as e:\n    print(e)\n    print('Failure')\nelse:\n    print('Success')\nprint('========================================')"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\python\\Ex6e_Remove_A_Todo.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 18, "language": "py", "text": "#!/usr/bin/env python3\nfrom connection import session\n\nprint('========================================')\nprint('Start exercise')\ntry:\n    session.execute(\n        \"DELETE FROM todoitems WHERE user_id='john' AND item_id=11111111-5cff-11ec-be16-1fedb0dfd057;\")\n    output = session.execute(\n        \"SELECT toTimestamp(item_id), completed, title FROM todoitems WHERE user_id = 'john';\")\n    for row in output:\n        print(row)\nexcept Exception as e:\n    print(e)\n    print('Failure')\nelse:\n    print('Success')\nprint('========================================')"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week3-app-development\\python\\Ex6f_Remove_All_Todos.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 13, "language": "py", "text": "#!/usr/bin/env python3\nfrom connection import session\n\nprint('========================================')\nprint('Start exercise')\ntry:\n    session.execute(\"TRUNCATE TABLE todoitems;\")\nexcept Exception as e:\n    print(e)\n    print('Failure')\nelse:\n    print('Success')\nprint('========================================')"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\TodoApplication.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 11, "language": "java", "text": "\n\tpublic static void main(String[] args) {\n\t\tSpringApplication.run(TodoApplication.class, args);\n\t}"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\conf\\CassandraDriverConguration.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 15, "end_line": 19, "language": "java", "text": "    \n    @Bean\n    public CqlSessionBuilderCustomizer sessionBuilderCustomizer() {\n        return builder -> builder.withCloudSecureConnectBundle(cloudSecureBundle.toPath());\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 19, "end_line": 20, "language": "java", "text": "    \n    public Todo() {}"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 21, "end_line": 26, "language": "java", "text": "    \n    public Todo(String title, Integer order) {\n        this.uuid  = UUID.randomUUID();\n        this.title = title;\n        this.order = order;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 2, "subchunk_id": 0, "start_line": 27, "end_line": 31, "language": "java", "text": "    \n    public Todo(String title, int order, boolean completed) {\n       this(title, order);\n       this.completed = completed;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 3, "subchunk_id": 0, "start_line": 32, "end_line": 40, "language": "java", "text": "    \n    public Todo setUrl(HttpServletRequest req) {\n        if (url == null) {\n            String reqUrl = req.getRequestURL().toString();\n            url = reqUrl.contains(\"gitpod\") ? reqUrl.replaceAll(\"http\", \"https\") : reqUrl;\n            url += uuid;\n        }\n        return this;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 4, "subchunk_id": 0, "start_line": 41, "end_line": 47, "language": "java", "text": "    \n    public Todo setUrl(String myUrl) {\n        if (url == null) {\n            url = myUrl.contains(\"gitpod\") ? myUrl.replaceAll(\"http\", \"https\") : myUrl;\n        }\n        return this;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 5, "subchunk_id": 0, "start_line": 55, "end_line": 57, "language": "java", "text": "    public UUID getUuid() {\n        return uuid;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 6, "subchunk_id": 0, "start_line": 64, "end_line": 66, "language": "java", "text": "    public void setUuid(UUID uuid) {\n        this.uuid = uuid;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 7, "subchunk_id": 0, "start_line": 74, "end_line": 76, "language": "java", "text": "    public String getTitle() {\n        return title;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 8, "subchunk_id": 0, "start_line": 83, "end_line": 85, "language": "java", "text": "    public void setTitle(String title) {\n        this.title = title;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 9, "subchunk_id": 0, "start_line": 93, "end_line": 95, "language": "java", "text": "    public boolean isCompleted() {\n        return completed;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 10, "subchunk_id": 0, "start_line": 102, "end_line": 104, "language": "java", "text": "    public void setCompleted(boolean completed) {\n        this.completed = completed;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 11, "subchunk_id": 0, "start_line": 112, "end_line": 114, "language": "java", "text": "    public Integer getOrder() {\n        return order;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 12, "subchunk_id": 0, "start_line": 121, "end_line": 123, "language": "java", "text": "    public void setOrder(Integer order) {\n        this.order = order;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 13, "subchunk_id": 0, "start_line": 131, "end_line": 133, "language": "java", "text": "    public String getUrl() {\n        return url;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\Todo.java", "chunk_id": 14, "subchunk_id": 0, "start_line": 134, "end_line": 139, "language": "java", "text": "\n    /** {@inheritDoc} */\n    @Override\n    public String toString() {\n        return \"Todo [url=\" + url + \", uuid=\" + uuid + \", title=\" + title + \", completed=\" + completed + \", order=\" + order + \"]\";\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItem.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 27, "end_line": 27, "language": "java", "text": "    public TodoItem() {}"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItem.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 37, "end_line": 40, "language": "java", "text": "    public TodoItem(String userid, String title) {\n        this.title = title;\n        this.key.setUserId(userid);\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItem.java", "chunk_id": 2, "subchunk_id": 0, "start_line": 48, "end_line": 50, "language": "java", "text": "    public TodoItemKey getKey() {\n        return key;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItem.java", "chunk_id": 3, "subchunk_id": 0, "start_line": 57, "end_line": 59, "language": "java", "text": "    public void setKey(TodoItemKey key) {\n        this.key = key;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItem.java", "chunk_id": 4, "subchunk_id": 0, "start_line": 67, "end_line": 69, "language": "java", "text": "    public String getTitle() {\n        return title;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItem.java", "chunk_id": 5, "subchunk_id": 0, "start_line": 76, "end_line": 78, "language": "java", "text": "    public void setTitle(String title) {\n        this.title = title;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItem.java", "chunk_id": 6, "subchunk_id": 0, "start_line": 86, "end_line": 88, "language": "java", "text": "    public boolean isCompleted() {\n        return completed;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItem.java", "chunk_id": 7, "subchunk_id": 0, "start_line": 95, "end_line": 97, "language": "java", "text": "    public void setCompleted(boolean completed) {\n        this.completed = completed;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItem.java", "chunk_id": 8, "subchunk_id": 0, "start_line": 105, "end_line": 107, "language": "java", "text": "    public Integer getOffset() {\n        return offset;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItem.java", "chunk_id": 9, "subchunk_id": 0, "start_line": 114, "end_line": 116, "language": "java", "text": "    public void setOffset(int offset) {\n        this.offset = offset;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItemKey.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 21, "end_line": 22, "language": "java", "text": "\n    public TodoItemKey() {}"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItemKey.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 23, "end_line": 28, "language": "java", "text": "    \n    public TodoItemKey(String userId, UUID itemId) {\n        super();\n        this.userId = userId;\n        this.itemId = itemId;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItemKey.java", "chunk_id": 2, "subchunk_id": 0, "start_line": 36, "end_line": 38, "language": "java", "text": "    public String getUserId() {\n        return userId;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItemKey.java", "chunk_id": 3, "subchunk_id": 0, "start_line": 45, "end_line": 47, "language": "java", "text": "    public void setUserId(String userId) {\n        this.userId = userId;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItemKey.java", "chunk_id": 4, "subchunk_id": 0, "start_line": 55, "end_line": 57, "language": "java", "text": "    public UUID getItemId() {\n        return itemId;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItemKey.java", "chunk_id": 5, "subchunk_id": 0, "start_line": 64, "end_line": 66, "language": "java", "text": "    public void setItemId(UUID itemId) {\n        this.itemId = itemId;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItemRepository.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 21, "end_line": 21, "language": "java", "text": "    List<TodoItem> findByKeyUserId(String userid);"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoItemRepository.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 29, "end_line": 29, "language": "java", "text": "    void deleteByKeyUserId(String userid);"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoRestController.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 41, "end_line": 44, "language": "java", "text": "    \n    public TodoRestController(TodoItemRepository todoRepo) {\n        this.repo = todoRepo;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoRestController.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 45, "end_line": 52, "language": "java", "text": "    \n    @GetMapping(\"/{user}/todos/\")\n    public Stream<Todo> findAllByUser(HttpServletRequest req, \n            @PathVariable(value = \"user\") String user) {\n        return repo.findByKeyUserId(user).stream()\n                   .map(TodoRestController::mapAsTodo)\n                   .map(t -> t.setUrl(req));\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoRestController.java", "chunk_id": 2, "subchunk_id": 0, "start_line": 53, "end_line": 63, "language": "java", "text": "    \n    @GetMapping(\"/{user}/todos/{uid}\")\n    public ResponseEntity<Todo> findById(HttpServletRequest req,\n            @PathVariable(value = \"user\") String user,\n            @PathVariable(value = \"uid\") String itemId) {\n        Optional<TodoItem> e = repo.findById(new TodoItemKey(user, UUID.fromString(itemId)));\n        if (e.isEmpty()) {\n            return ResponseEntity.notFound().build();\n        }\n        return ResponseEntity.ok(mapAsTodo(e.get()).setUrl(req.getRequestURL().toString()));\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoRestController.java", "chunk_id": 3, "subchunk_id": 0, "start_line": 64, "end_line": 75, "language": "java", "text": "     \n    @PostMapping(\"/{user}/todos/\")\n    public ResponseEntity<Todo> create(HttpServletRequest req, \n            @PathVariable(value = \"user\") String user,\n            @RequestBody Todo todoReq) \n    throws URISyntaxException {\n        TodoItem te = mapAsTodoEntity(todoReq, user);\n        repo.save(te);\n        todoReq.setUuid(te.getKey().getItemId());\n        todoReq.setUrl(req);\n        return ResponseEntity.created(new URI(todoReq.getUrl())).body(todoReq);\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoRestController.java", "chunk_id": 4, "subchunk_id": 0, "start_line": 76, "end_line": 104, "language": "java", "text": "    \n    @PatchMapping(\"/{user}/todos/{uid}\")\n    public ResponseEntity<Todo> update(HttpServletRequest req, \n            @PathVariable(value = \"user\") String user,\n            @PathVariable(value = \"uid\") String uid, \n            @RequestBody Todo todoReq) \n    throws URISyntaxException {\n        \n        // Retrieve existing task\n        Optional<TodoItem> todo = repo.findById(new TodoItemKey(user, UUID.fromString(uid)));\n        if (todo.isEmpty()) return ResponseEntity.notFound().build();\n        \n        // Update based on provided information\n        TodoItem item = todo.get();\n        if (null != todoReq.getTitle() && !\"\".equals(todoReq.getTitle())) {\n            item.setTitle(todoReq.getTitle());\n        }\n        if (null != todoReq.getOrder()) {\n            item.setOffset(todoReq.getOrder());\n        }\n        item.setCompleted(todoReq.isCompleted());\n        \n        // Save\n        repo.save(item);\n        todoReq.setTitle(item.getTitle());\n        todoReq.setUrl(req.getRequestURL().toString());\n        todoReq.setUuid(UUID.fromString(uid));\n        return ResponseEntity.accepted().body(todoReq);\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoRestController.java", "chunk_id": 5, "subchunk_id": 0, "start_line": 105, "end_line": 115, "language": "java", "text": "    \n    @DeleteMapping(\"/{user}/todos/{uid}\")\n    public ResponseEntity<Void> deleteById(\n            @PathVariable(value = \"user\") String user,\n            @PathVariable(value = \"uid\")  String uid) {\n        if (!repo.existsById(new TodoItemKey(user, UUID.fromString(uid)))) {\n            return ResponseEntity.notFound().build();\n        }\n        repo.deleteById(new TodoItemKey(user, UUID.fromString(uid)));\n        return new ResponseEntity<>(HttpStatus.NO_CONTENT);\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoRestController.java", "chunk_id": 6, "subchunk_id": 0, "start_line": 116, "end_line": 121, "language": "java", "text": "    \n    @DeleteMapping(\"/{user}/todos/\")\n    public ResponseEntity<Void> deleteAllByUser(@PathVariable(value = \"user\") String user) {\n        repo.deleteByKeyUserId(user);\n        return new ResponseEntity<>(HttpStatus.NO_CONTENT);\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoRestController.java", "chunk_id": 7, "subchunk_id": 0, "start_line": 122, "end_line": 130, "language": "java", "text": "    \n    private static Todo mapAsTodo(TodoItem te) {\n        Todo todo = new Todo();\n        todo.setTitle(te.getTitle());\n        todo.setOrder(te.getOffset());\n        todo.setUuid(te.getKey().getItemId());\n        todo.setCompleted(te.isCompleted());\n        return todo;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\main\\java\\com\\datastaxdev\\todo\\TodoRestController.java", "chunk_id": 8, "subchunk_id": 0, "start_line": 131, "end_line": 142, "language": "java", "text": "    \n    private TodoItem mapAsTodoEntity(Todo te, String user) {\n        TodoItem todo = new TodoItem();\n        if (null != te.getUuid()) {\n            todo.getKey().setItemId(te.getUuid());\n        }\n        todo.getKey().setUserId(user);\n        todo.setTitle(te.getTitle());\n        todo.setOffset(te.getOrder());\n        todo.setCompleted(te.isCompleted());\n        return todo;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\test\\java\\com\\datastaxdev\\Test01_Connect.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 42, "end_line": 64, "language": "java", "text": "     \n    @Test\n    @DisplayName(\"Test connectivity to Astra explicit values\")\n    public void should_connect_to_Astra() {\n        \n        // Given interface is properly populated\n        Assertions.assertTrue(new File(cloudSecureBundle).exists(), \n                    \"File '\" + cloudSecureBundle + \"' has not been found\\n\"\n                    + \"To run this sample you need to download the secure bundle file from ASTRA WebPage\\n\"\n                    + \"More info here:\");\n        \n        // When connecting to ASTRA\n        try (CqlSession cqlSession = CqlSession.builder()\n                .withCloudSecureConnectBundle(Paths.get(cloudSecureBundle))\n                .withAuthCredentials(username, password)\n                .withKeyspace(keyspace)\n                .build()) {\n            \n            // Then connection is successfull\n            LOGGER.info(\" + [OK] - Connection Established to Astra with Keyspace {}\", \n                    cqlSession.getKeyspace().get());\n        }\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\test\\java\\com\\datastaxdev\\Test02_CreateSchema.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 45, "end_line": 75, "language": "java", "text": "    \n    @Test\n    @DisplayName(\"Test to create a table in ASTRA\")\n    public void should_create_expected_table() {\n        // Given interface is properly populated\n        Assertions.assertTrue(new File(cloudSecureBundle).exists(), \n                    \"File '\" + cloudSecureBundle + \"' has not been found\\n\"\n                    + \"To run this sample you need to download the secure bundle file from ASTRA WebPage\\n\"\n                    + \"More info here:\");\n        \n        // When connecting to ASTRA\n        try (CqlSession cqlSession = CqlSession.builder()\n                .withCloudSecureConnectBundle(Paths.get(cloudSecureBundle))\n                .withAuthCredentials(username, password)\n                .withKeyspace(keyspace)\n                .build()) {\n            LOGGER.info(\"Connection Established to Astra with Keyspace '{}'\", \n                    cqlSession.getKeyspace().get());\n\n            SimpleStatement stmtDropTable = SchemaBuilder\n                    .dropTable(\"todoitems\")\n                    .ifExists().build();\n            // When creating the table\n            cqlSession.execute(stmtDropTable);\n            \n            SimpleStatement stmtCreateTable = SchemaBuilder\n                    .createTable(\"todoitems\")\n                    .ifNotExists()\n                    .withPartitionKey(\"user_id\", DataTypes.TEXT)\n                    .withClusteringColumn(\"item_id\", DataTypes.TIMEUUID)\n                    .withColumn(\"title\",     DataTypes.TEXT)"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\test\\java\\com\\datastaxdev\\Test02_CreateSchema.java", "chunk_id": 0, "subchunk_id": 1, "start_line": 74, "end_line": 86, "language": "java", "text": "                    .withClusteringColumn(\"item_id\", DataTypes.TIMEUUID)\n                    .withColumn(\"title\",     DataTypes.TEXT)\n                    .withColumn(\"completed\", DataTypes.BOOLEAN)\n                    .withColumn(\"offset\",     DataTypes.INT)\n                    .build();\n            \n            // When creating the table\n            cqlSession.execute(stmtCreateTable);\n            \n            // Then table is created\n            LOGGER.info(\"Table '{}' has been created (if needed).\", \"todoitems\");\n        }\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\test\\java\\com\\datastaxdev\\Test02_CreateSchema.java", "chunk_id": 0, "subchunk_id": 2, "start_line": 85, "end_line": 86, "language": "java", "text": "        }\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\test\\java\\com\\datastaxdev\\Test02_CreateSchema.java", "chunk_id": 0, "subchunk_id": 3, "start_line": 86, "end_line": 86, "language": "java", "text": "    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\test\\java\\com\\datastaxdev\\Test03_SaveTask.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 17, "end_line": 26, "language": "java", "text": "    \n\t@Test\n\tvoid shoud_save_task_when_save() {\n\t    // Given\n\t    TodoItem te = new TodoItem(\"john\", \"Sample task1\");\n\t    // When\n\t    repo.save(te);\n\t    // then\n\t    Assertions.assertTrue(repo.existsById(new TodoItemKey(\"john\", te.getKey().getItemId())));\n\t}"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\test\\java\\com\\datastaxdev\\Test04_Controller.java", "chunk_id": 0, "subchunk_id": 0, "start_line": 23, "end_line": 31, "language": "java", "text": "    \n    @Test\n    public void should_retrieve_todolist_v1() {\n        HttpHeaders        headers = new HttpHeaders();\n        HttpEntity<String> entity  = new HttpEntity<String>(null, headers);\n        ResponseEntity<Todo[]> response = restTemplate.exchange(\n             createURLWithPort(\"/api/v1/john/todos/\"), HttpMethod.GET, entity, Todo[].class);\n        Assertions.assertEquals(HttpStatus.OK, response.getStatusCode());\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\java\\src\\test\\java\\com\\datastaxdev\\Test04_Controller.java", "chunk_id": 1, "subchunk_id": 0, "start_line": 32, "end_line": 35, "language": "java", "text": "    \n    private String createURLWithPort(String uri) {\n        return \"http://localhost:\" + port + uri;\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\api.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 12, "end_line": 16, "language": "js", "text": "\napp.get(\"/api/v1/:userId/todos\", async (req, res) => {\n  const todoRes = await todos.getTodos(req.params.userId);\n  res.json(todoRes);\n});"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\api.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 17, "end_line": 21, "language": "js", "text": "\napp.get(\"/api/v1/:userId/todos/:itemId\", async (req, res) => {\n  const todoRes = await todos.getTodo(req.params.userId, req.params.itemId);\n  res.json(todoRes);\n});"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\api.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 22, "end_line": 30, "language": "js", "text": "\napp.post(\"/api/v1/:userId/todos\", async (req, res) => {\n  const todoRes = await todos.createTodo({\n    ...req.body,\n    url: `https://${req.hostname}${req.originalUrl}`,\n    user_id: req.params.userId,\n  });\n  res.json(todoRes);\n});"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\api.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 31, "end_line": 37, "language": "js", "text": "\napp.patch(\"/api/v1/:userId/todos/:itemId\", async (req, res) => {\n  const todoRes = await todos.updateTodo(req.params.userId, req.params.itemId, {\n    ...req.body,\n  });\n  res.json(todoRes);\n});"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\api.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 38, "end_line": 42, "language": "js", "text": "\napp.delete(\"/api/v1/:userId/todos/:itemId\", async (req, res) => {\n  const todoRes = await todos.deleteTodo(req.params.userId, req.params.itemId);\n  res.json(todoRes);\n});"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\api.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 43, "end_line": 47, "language": "js", "text": "\napp.delete(\"/api/v1/:userId/todos\", async (req, res) => {\n  const todoRes = await todos.deleteTodos();\n  res.json(todoRes);\n});"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\api.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 48, "end_line": 52, "language": "js", "text": "\napp.listen(port, async () => {\n  await todos.init();\n  console.log(`Example app listening on port ${port}`);\n});"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\connection.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 19, "end_line": 20, "language": "js", "text": "\nprocess.on(\"exit\", () => client.shutdown());"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\Test01_Connect.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 22, "language": "js", "text": "\n(async () => {\n  try {\n    const result = await client.execute(\"SELECT * FROM system.local\");\n    result.rows.forEach((row) => {\n      console.log(\n        \"Your are now connected to Astra '%s' at '%s'\",\n        row.cluster_name,\n        row.data_center\n      );\n    });\n    console.log(\"SUCCESS\");\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(\"========================================\");\n  process.exit();\n})();"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\Test02_CreateSchema.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 25, "language": "js", "text": "\n(async () => {\n  try {\n    await client.execute(`DROP TABLE IF EXISTS todoitems ;`);\n    await client.execute(`\n        CREATE TABLE IF NOT EXISTS todoitems (\n            user_id         TEXT,\n            item_id         TIMEUUID,\n            title           TEXT,\n            url             TEXT,\n            completed       BOOLEAN,\n            offset          INT,\n            PRIMARY KEY ((user_id), item_id)\n        ) WITH CLUSTERING ORDER BY (item_id ASC);`);\n    console.log(\"SUCCESS\");\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(\"========================================\");\n  process.exit();\n})();"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\Test03_SaveTask.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 18, "language": "js", "text": "\n(async () => {\n  try {\n    await client.execute(\n      \"INSERT INTO todoitems (user_id, item_id, completed, title, offset) VALUES ( 'john', 11111111-5cff-11ec-be16-1fedb0dfd057, true, 'Walk the dog', 0);\"\n    );\n\n    console.log(\"SUCCESS\");\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(\"========================================\");\n  process.exit();\n})();"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\todos.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 7, "language": "js", "text": "\nprocess.on(\"exit\", () => client.shutdown());"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\todos.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 39, "end_line": 43, "language": "js", "text": "    if (res.length) {\n      return res\n        .toArray()\n        .map((item) => ({ ...item, item_id: item.item_id.toString() }));\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\todos.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 79, "end_line": 81, "language": "js", "text": "    if (res) {\n      return { ...res, item_id: res.item_id.toString() };\n    }"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\javascript\\todos.test.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 45, "language": "js", "text": "\ndescribe(\"Todos\", () => {\n  it(\"it should initialize\", async () => {\n    await todos.init();\n    assert.equal(true, true);\n  });\n\n  it(\"it should create a todo\", async () => {\n    const todo = await todos.createTodo({\n      user_id: \"jake\",\n      title: \"hello world\",\n    });\n    assert.equal(todo.title, \"hello world\");\n  });\n\n  it(\"it should get todos\", async () => {\n    const res = await todos.getTodos(\"jake\");\n    assert.equal(res.length, 1);\n  });\n\n  it(\"it should update todos\", async () => {\n    const res = await todos.getTodos(\"jake\");\n    const existingTodo = res[0];\n    await todos.updateTodo(\"jake\", existingTodo.item_id, {\n      title: \"hello world 2\",\n    });\n    const todo = await todos.getTodo(\"jake\", existingTodo.item_id);\n    assert.equal(todo.title, \"hello world 2\");\n  });\n\n  it(\"it should delete a todo\", async () => {\n    const res = await todos.getTodos(\"jake\");\n    const existingTodo = res[0];\n    await todos.deleteTodo(\"jake\", existingTodo.item_id);\n    const todo = await todos.getTodo(\"jake\", existingTodo.item_id);\n    assert.equal(todo, null);\n  });\n\n  it(\"it should delete todos\", async () => {\n    await todos.deleteTodos();\n    assert.equal(true, true);\n  });\n});"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\api.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 19, "end_line": 21, "language": "py", "text": "def get_todos(user_id):\n    res = [dict(x) for x in Todos.filter(user_id=user_id)]\n    return jsonify(res)"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\api.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 25, "end_line": 29, "language": "py", "text": "def delete_todos(user_id):\n    session.execute(\n        f\"TRUNCATE TABLE {KEYSPACE}.todoitems\")\n    sync_table(Todos)\n    return jsonify({\"success\": True})"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\api.py", "chunk_id": 2, "subchunk_id": 0, "start_line": 33, "end_line": 42, "language": "py", "text": "def create_todo(user_id):\n    try:\n        request_json = request.get_json(force=True)\n        item_id = uuid.uuid1()\n        request_json[\"item_id\"] = item_id\n        request_json[\"url\"] = f\"https://{request.headers.get('X-Forwarded-Host', 'localhost')}/api/v1/{user_id}/todos/{item_id}\"\n        new_todo = Todos.create(user_id=user_id, **request_json)\n        return jsonify(dict(new_todo))\n    except ValidationError as e:\n        return jsonify({\"error\": str(e)}), 400"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\api.py", "chunk_id": 3, "subchunk_id": 0, "start_line": 46, "end_line": 51, "language": "py", "text": "def get_todo(user_id, item_id):\n    try:\n        todo = Todos.get(user_id=user_id, item_id=item_id)\n        return jsonify(dict(todo))\n    except Model.DoesNotExist:\n        return jsonify({\"error\": \"not found\"}), 404"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\api.py", "chunk_id": 4, "subchunk_id": 0, "start_line": 55, "end_line": 61, "language": "py", "text": "def delete_todo(user_id, item_id):\n    try:\n        todo = Todos.get(user_id=user_id, item_id=item_id)\n        todo.delete()\n        return jsonify(dict(todo))\n    except Model.DoesNotExist:\n        return jsonify({\"error\": \"not found\"}), 404"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\api.py", "chunk_id": 5, "subchunk_id": 0, "start_line": 65, "end_line": 74, "language": "py", "text": "def update_todo(user_id, item_id):\n    try:\n        todo = Todos.get(user_id=user_id, item_id=item_id)\n        request_json = request.get_json(force=True)\n        todo.update(**request_json)\n        return jsonify(dict(todo))\n    except Model.DoesNotExist:\n        return jsonify({\"error\": \"not found\"}), 404\n    except ValidationError as e:\n        return jsonify({\"error\": str(e)}), 400"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\connection.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 30, "end_line": 32, "language": "py", "text": "def shutdown_driver():\n    cluster.shutdown()\n    session.shutdown()"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\Test01_Connect.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 16, "language": "py", "text": "#!/usr/bin/env python3\nfrom connection import session\n\nprint('========================================')\nprint('Start exercise')\ntry:\n    output = session.execute(\"SELECT * FROM system.local\")\n    for row in output:\n        print('You are now connected to cluster %s at %s' %\n              (row.cluster_name, row.data_center))\nexcept Exception as e:\n    print(e)\n    print('Failure')\nelse:\n    print('Success')\nprint('========================================')"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\Test02_CreateSchema.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 23, "language": "py", "text": "#!/usr/bin/env python3\nfrom connection import session\n\nprint('========================================')\nprint('Start exercise by dropping and creating table')\ntry:\n    session.execute(\"\"\"DROP TABLE IF EXISTS todoitems;\"\"\")\n    session.execute(\"\"\"CREATE TABLE IF NOT EXISTS todoitems (\n                        user_id         TEXT,\n                        item_id         TIMEUUID,\n                        title           TEXT,\n                        url             TEXT,\n                        completed       BOOLEAN,\n                        offset          INT,\n                        PRIMARY KEY ((user_id), item_id)\n                    ) WITH CLUSTERING ORDER BY (item_id ASC);\n                    \"\"\")\nexcept Exception as e:\n    print(e)\n    print('Failure')\nelse:\n    print('Success')\nprint('========================================')"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\Test03_SaveTask.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 15, "language": "py", "text": "#!/usr/bin/env python3\nimport uuid\nfrom connection import session\n\nprint('========================================')\nprint('Start exercise')\ntry:\n    session.execute(\n        \"INSERT INTO todoitems (user_id, item_id, completed, title, offset) VALUES ( 'john', 11111111-5cff-11ec-be16-1fedb0dfd057, true, 'Walk the dog', 0);\")\nexcept Exception as e:\n    print(e)\n    print('Failure')\nelse:\n    print('Success')\nprint('========================================')"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\test_api.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 12, "language": "py", "text": "    def test_get_empty_todos():\n        get_res = client.get(f\"/api/v1/{USER_ID}/todos\")\n        get_res_json = get_res.get_json()\n        assert len(get_res_json) == 0"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\test_api.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 15, "end_line": 19, "language": "py", "text": "    def test_create_todo():\n        res = client.post(f\"/api/v1/{USER_ID}/todos\",\n                          json={\"title\": \"hello world\"})\n        res_json = res.get_json()\n        assert res_json[\"title\"] == \"hello world\""}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\test_api.py", "chunk_id": 2, "subchunk_id": 0, "start_line": 22, "end_line": 24, "language": "py", "text": "    def test_not_create_todo():\n        res = client.post(f\"/api/v1/{USER_ID}/todos\", json={\"title\": \"\"})\n        assert res.status_code == 400"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\test_api.py", "chunk_id": 3, "subchunk_id": 0, "start_line": 27, "end_line": 33, "language": "py", "text": "    def test_get_todo():\n        res = client.post(f\"/api/v1/{USER_ID}/todos\",\n                          json={\"title\": \"hello world 2\"})\n        res_json = res.get_json()\n        get_res = client.get(f\"/api/v1/{USER_ID}/todos/{res_json['item_id']}\")\n        get_res_json = get_res.get_json()\n        assert get_res_json[\"title\"] == \"hello world 2\""}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\test_api.py", "chunk_id": 4, "subchunk_id": 0, "start_line": 36, "end_line": 38, "language": "py", "text": "    def test_not_get_todo():\n        get_res = client.get(f\"/api/v1/{USER_ID}/todos/{uuid.uuid1()}\")\n        assert get_res.status_code == 404"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\test_api.py", "chunk_id": 5, "subchunk_id": 0, "start_line": 41, "end_line": 44, "language": "py", "text": "    def test_get_todos():\n        get_res = client.get(f\"/api/v1/{USER_ID}/todos\")\n        get_res_json = get_res.get_json()\n        assert len(get_res_json) == 2"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\test_api.py", "chunk_id": 6, "subchunk_id": 0, "start_line": 47, "end_line": 59, "language": "py", "text": "    def test_delete_todo():\n        res = client.post(f\"/api/v1/{USER_ID}/todos\",\n                          json={\"title\": \"hello world 3\"})\n        res_json = res.get_json()\n        delete_res = client.delete(\n            f\"/api/v1/{USER_ID}/todos/{res_json['item_id']}\")\n        delete_res_json = delete_res.get_json()\n        assert delete_res_json[\"title\"] == \"hello world 3\"\n        get_res = client.get(f\"/api/v1/{USER_ID}/todos/{res_json['item_id']}\")\n        assert get_res.status_code == 404\n        del_res = client.delete(\n            f\"/api/v1/{USER_ID}/todos/{res_json['item_id']}\")\n        assert del_res.status_code == 404"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\test_api.py", "chunk_id": 7, "subchunk_id": 0, "start_line": 62, "end_line": 76, "language": "py", "text": "    def test_update_todo():\n        res = client.post(f\"/api/v1/{USER_ID}/todos\",\n                          json={\"title\": \"hello world 4\"})\n        res_json = res.get_json()\n        patch_res = client.patch(\n            f\"/api/v1/{USER_ID}/todos/{res_json['item_id']}\", json={\"completed\": True})\n        assert patch_res.status_code == 200\n        get_res = client.get(f\"/api/v1/{USER_ID}/todos/{res_json['item_id']}\")\n        get_res_json = get_res.get_json()\n        assert get_res_json[\"completed\"] == True\n        bad_res = client.patch(\n            f\"/api/v1/{USER_ID}/todos/{res_json['item_id']}\", json={\"title\": \"\"})\n        assert bad_res.status_code == 400\n        missing_res = client.patch(f\"/api/v1/{USER_ID}/todos/{uuid.uuid1()}\")\n        assert missing_res.status_code == 404"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\test_api.py", "chunk_id": 8, "subchunk_id": 0, "start_line": 79, "end_line": 85, "language": "py", "text": "    def test_delete_all_todos():\n        delete_res = client.delete(f\"/api/v1/{USER_ID}/todos\")\n        delete_res_json = delete_res.get_json()\n        assert delete_res_json[\"success\"] == True\n        get_res = client.get(f\"/api/v1/{USER_ID}/todos\")\n        get_res_json = get_res.get_json()\n        assert get_res_json == []"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\test_todos.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 9, "language": "py", "text": "def test_create_todo():\n    todo = Todos.create(user_id=\"jake\", title=\"hello world\")\n    assert todo.title == \"hello world\""}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\test_todos.py", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 20, "language": "py", "text": "def test_delete_todo():\n    todo = Todos.create(user_id=\"jake\", title=\"hello world 2\")\n    todo.delete()\n    try:\n        todo = Todos.get(user_id=\"jake\", item_id=todo.item_id)\n        assert False\n    except:\n        assert True"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\test_todos.py", "chunk_id": 2, "subchunk_id": 0, "start_line": 24, "end_line": 27, "language": "py", "text": "def test_update_todo():\n    todo = Todos.create(user_id=\"jake\", title=\"hello world 3\")\n    todo.update(title=\"hello world 4\")\n    assert todo.title == \"hello world 4\""}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\test_todos.py", "chunk_id": 3, "subchunk_id": 0, "start_line": 31, "end_line": 33, "language": "py", "text": "def test_delete_all_todos():\n    session.execute(\n        f\"TRUNCATE TABLE {KEYSPACE}.todoitems\")"}
{"repo_name": "bootcamp-fullstack-apps-with-cassandra", "file_path": "bootcamp-fullstack-apps-with-cassandra\\code\\week4-api-microservices\\python\\todos.py", "chunk_id": 0, "subchunk_id": 0, "start_line": 13, "end_line": 27, "language": "py", "text": "\n\nclass Todos(Model):\n    __keyspace__ = KEYSPACE\n    __table_name__ = \"todoitems\"\n    user_id = columns.Text(primary_key=True, required=True)\n    item_id = columns.TimeUUID(\n        primary_key=True, clustering_order=\"DESC\", default=uuid.uuid1)\n    url = columns.Text()\n    title = columns.Text(required=True)\n    completed = columns.Boolean(default=False)\n    order = columns.Integer(db_field=\"offset\")\n\n\nsync_table(Todos)"}
{"repo_name": "broodl", "file_path": "broodl\\code\\firebase.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 22, "language": "js", "text": "// Import the functions you need from the SDKs you need\nimport { initializeApp } from \"firebase/app\";\nimport { getAuth } from 'firebase/auth'\nimport { getFirestore } from 'firebase/firestore'\n// TODO: Add SDKs for Firebase products that you want to use\n// https://firebase.google.com/docs/web/setup#available-libraries\n\n// Your web app's Firebase configuration\nconst firebaseConfig = {\n    apiKey: process.env.NEXT_PUBLIC_API_KEY,\n    authDomain: process.env.NEXT_PUBLIC_AUTH_DOMAIN,\n    projectId: process.env.NEXT_PUBLIC_PROJECT_ID,\n    storageBucket: process.env.NEXT_PUBLIC_STORAGE_BUCKET,\n    messagingSenderId: process.env.NEXT_PUBLIC_MESSAGING_SENDER_ID,\n    appId: process.env.NEXT_PUBLIC_APP_ID,\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\n\nexport const auth = getAuth(app)\nexport const db = getFirestore(app)"}
{"repo_name": "broodl", "file_path": "broodl\\code\\tailwind.config.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 18, "language": "js", "text": "/** @type {import('tailwindcss').Config} */\nmodule.exports = {\n  content: [\n    \"./pages/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./components/**/*.{js,ts,jsx,tsx,mdx}\",\n    \"./app/**/*.{js,ts,jsx,tsx,mdx}\",\n  ],\n  theme: {\n    extend: {\n      backgroundImage: {\n        \"gradient-radial\": \"radial-gradient(var(--tw-gradient-stops))\",\n        \"gradient-conic\":\n          \"conic-gradient(from 180deg at 50% 50%, var(--tw-gradient-stops))\",\n      },\n    },\n  },\n  plugins: [],\n};"}
{"repo_name": "broodl", "file_path": "broodl\\code\\app\\head.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 10, "language": "js", "text": "\nexport default function Head() {\n    return (\n        <head>\n            <link rel=\"icon\" href=\"favicon.png\" sizes=\"any\" />\n            <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css\" integrity=\"sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==\" crossOrigin=\"anonymous\" referrerPolicy=\"no-referrer\" />\n        </head>\n    )\n}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\app\\layout.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 15, "end_line": 46, "language": "js", "text": "\nexport default function RootLayout({ children }) {\n  const header = (\n    <header className=\"p-4 sm:p-8 flex items-center justify-between gap-4\">\n      <Link href={'/'}>\n        <h1 className={'text-base sm:text-lg textGradient ' + fugaz.className}>Broodl</h1>\n      </Link>\n      <Logout />\n    </header>\n  )\n\n  const footer = (\n    <footer className=\"p-4 sm:p-8 grid place-items-center\">\n      <Link href={'https://youtu.be/lkjrUW8fI40'} target=\"_blank\" className=\"\">\n        <p className={'text-indigo-500 duration-200 hover:text-white hover:bg-indigo-500  ' + fugaz.className}>Built by Smoljames </p>\n      </Link>\n    </footer>\n  )\n\n  return (\n    <html lang=\"en\">\n      <Head />\n      <AuthProvider>\n        <body className={'w-full max-w-[1000px] mx-auto text-sm sm:text-base min-h-screen flex flex-col text-slate-800  ' + opensans.className}>\n          {header}\n          {children}\n          {footer}\n        </body>\n      </AuthProvider>\n    </html>\n  );\n}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\app\\page.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 10, "language": "js", "text": "\nexport default function HomePage() {\n  return (\n    <Main className=\"\">\n      <Hero />\n    </Main>\n  );\n}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\app\\dashboard\\page.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 17, "language": "js", "text": "\nexport default function DashboardPage() {\n\n    return (\n        <Main>\n            <Dashboard />\n        </Main>\n    )\n}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Button.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 14, "language": "jsx", "text": "\nexport default function Button(props) {\n    const { text, dark, full, clickHandler } = props\n\n    return (\n        <button onClick={clickHandler} className={'rounded-full overflow-hidden duration-200 hover:opacity-60 border-2 border-solid border-indigo-600 ' + (dark ? ' text-white bg-indigo-600 ' : ' text-indigo-600 ') + (full ? ' grid place-items-center w-full ' : ' ')}>\n            <p className={'px-6 sm:px-10 whitespace-nowrap py-2 sm:py-3 ' + fugaz.className}>{text}</p>\n        </button>\n    )\n}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Calendar.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 25, "end_line": 37, "language": "jsx", "text": "        // value +1 -1\n        // if we hit the bounds of the months, then we can just adjust the year that is displayed instead\n        if (numericMonth + val < 0) {\n            // set month value = 11 and decrement the year\n            setSelectedYear(curr => curr - 1)\n            setSelectMonth(monthsArr[monthsArr.length - 1])\n        } else if (numericMonth + val > 11) {\n            // set month val = 0 and increment the year\n            setSelectedYear(curr => curr + 1)\n            setSelectMonth(monthsArr[0])\n        } else {\n            setSelectMonth(monthsArr[numericMonth + val])\n        }"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Calendar.jsx", "chunk_id": 0, "subchunk_id": 1, "start_line": 70, "end_line": 74, "language": "jsx", "text": "                                if (!dayDisplay) {\n                                    return (\n                                        <div className='bg-white' key={dayOfWeekIndex} />\n                                    )\n                                }"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\CallToAction.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 30, "language": "jsx", "text": "\nexport default function CallToAction() {\n    const { currentUser } = useAuth()\n\n    if (currentUser) {\n        return (\n            <div className='max-w-[600px] mx-auto w-full'>\n                <Link href={'/dashboard'}>\n                    <Button dark full text=\"Go to dashboard\" />\n                </Link>\n            </div>\n        )\n    }\n\n    return (\n        <div className='grid grid-cols-2 gap-4 w-fit mx-auto'>\n            <Link href={'/dashboard'}>\n                <Button text=\"Sign Up\" />\n            </Link>\n            <Link href={'/dashboard'}>\n                <Button text=\"Login\" dark />\n            </Link>\n        </div>\n    )\n}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Dashboard.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 22, "end_line": 30, "language": "jsx", "text": "    for (let year in data) {\n      for (let month in data[year]) {\n        for (let day in data[year][month]) {\n          let days_mood = data[year][month][day]\n          total_number_of_days++\n          sum_moods += days_mood\n        }\n      }\n    }"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Dashboard.jsx", "chunk_id": 0, "subchunk_id": 1, "start_line": 44, "end_line": 69, "language": "jsx", "text": "    try {\n      const newData = { ...userDataObj }\n      if (!newData?.[year]) {\n        newData[year] = {}\n      }\n      if (!newData?.[year]?.[month]) {\n        newData[year][month] = {}\n      }\n\n      newData[year][month][day] = mood\n      // update the current state\n      setData(newData)\n      // update the global state\n      setUserDataObj(newData)\n      // update firebase\n      const docRef = doc(db, 'users', currentUser.uid)\n      const res = await setDoc(docRef, {\n        [year]: {\n          [month]: {\n            [day]: mood\n          }\n        }\n      }, { merge: true })\n    } catch (err) {\n      console.log('Failed to set data: ', err.message)\n    }"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Dashboard.jsx", "chunk_id": 0, "subchunk_id": 2, "start_line": 83, "end_line": 85, "language": "jsx", "text": "    if (!currentUser || !userDataObj) {\n      return\n    }"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Dashboard.jsx", "chunk_id": 0, "subchunk_id": 3, "start_line": 89, "end_line": 91, "language": "jsx", "text": "  if (loading) {\n    return <Loading />\n  }"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Dashboard.jsx", "chunk_id": 0, "subchunk_id": 4, "start_line": 93, "end_line": 95, "language": "jsx", "text": "  if (!currentUser) {\n    return <Login />\n  }"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Hero.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 18, "language": "jsx", "text": "\nexport default function Hero() {\n    return (\n        <div className='py-4 md:py-10 flex flex-col gap-8 sm:gap-10'>\n            <h1 className={'text-5xl sm:text-6xl md:text-7xl text-center ' + fugaz.className}><span className='textGradient'>Broodl</span> helps you track your <span className='textGradient'>daily</span> mood!</h1>\n            <p className='text-lg sm:text-xl md:text-2xl text-center w-full mx-auto max-w-[600px]'>Create your mood record and see how you feel on <span className='font-semibold'>every day of every year.</span></p>\n            <CallToAction />\n            <Calendar demo />\n        </div>\n    )\n}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Loading.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 9, "language": "jsx", "text": "\nexport default function Loading() {\n    return (\n        <div className='flex flex-col flex-1 justify-center items-center'>\n            <i className=\"fa-solid text-slate-800 fa-spinner animate-spin text-4xl sm:text-5xl\"></i>\n        </div>\n    )\n}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Login.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 17, "end_line": 19, "language": "jsx", "text": "        if (!email || !password || password.length < 6) {\n            return\n        }"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Login.jsx", "chunk_id": 0, "subchunk_id": 1, "start_line": 21, "end_line": 34, "language": "jsx", "text": "        try {\n            if (isRegister) {\n                console.log('Signing up a new user')\n                await signup(email, password)\n            } else {\n                console.log('Logging in existing user')\n                await login(email, password)\n            }\n\n        } catch (err) {\n            console.log(err.message)\n        } finally {\n            setAuthenticating(false)\n        }"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Logout.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 27, "language": "jsx", "text": "\nexport default function Logout() {\n    const { logout, currentUser } = useAuth()\n    const pathname = usePathname()\n\n    if (!currentUser) {\n        return null\n    }\n\n    if (pathname === '/') {\n        return (\n            <Link href={'/dashboard'}>\n                <Button text=\"Go to dashboard\" />\n            </Link>\n        )\n    }\n\n    return (\n        <Button text='Logout' clickHandler={logout} />\n    )\n}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\components\\Main.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 10, "language": "jsx", "text": "\nexport default function Main(props) {\n    const { children } = props\n    return (\n        <main className='flex-1 flex flex-col p-4 sm:p-8'>\n            {children}\n        </main>\n    )\n}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\context\\AuthContext.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 12, "language": "js", "text": "\nexport function useAuth() {\n    return useContext(AuthContext)\n}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\context\\AuthContext.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 56, "language": "js", "text": "\nexport function AuthProvider({ children }) {\n    const [currentUser, setCurrentUser] = useState(null)\n    const [userDataObj, setUserDataObj] = useState(null)\n    const [loading, setLoading] = useState(true)\n\n    // AUTH HANDLERS\n    function signup(email, password) {\n        return createUserWithEmailAndPassword(auth, email, password)\n    }\n\n    function login(email, password) {\n        return signInWithEmailAndPassword(auth, email, password)\n    }\n\n    function logout() {\n        setUserDataObj(null)\n        setCurrentUser(null)\n        return signOut(auth)\n    }\n\n    useEffect(() => {\n        const unsubscribe = onAuthStateChanged(auth, async user => {\n            try {\n                // Set the user to our local context state\n                setLoading(true)\n                setCurrentUser(user)\n                if (!user) {\n                    console.log('No User Found')\n                    return\n                }\n\n                // if user exists, fetch data from firestore database\n                console.log('Fetching User Data')\n                const docRef = doc(db, 'users', user.uid)\n                const docSnap = await getDoc(docRef)\n                let firebaseData = {}\n                if (docSnap.exists()) {\n                    console.log('Found User Data')\n                    firebaseData = docSnap.data()\n                }\n                setUserDataObj(firebaseData)\n            } catch (err) {\n                console.log(err.message)"}
{"repo_name": "broodl", "file_path": "broodl\\code\\context\\AuthContext.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 55, "end_line": 57, "language": "js", "text": "            } catch (err) {\n                console.log(err.message)\n            } finally {"}
{"repo_name": "broodl", "file_path": "broodl\\code\\context\\AuthContext.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 56, "end_line": 57, "language": "js", "text": "                console.log(err.message)\n            } finally {"}
{"repo_name": "broodl", "file_path": "broodl\\code\\context\\AuthContext.js", "chunk_id": 1, "subchunk_id": 3, "start_line": 57, "end_line": 57, "language": "js", "text": "            } finally {"}
{"repo_name": "broodl", "file_path": "broodl\\code\\context\\AuthContext.js", "chunk_id": 1, "subchunk_id": 4, "start_line": 56, "end_line": 79, "language": "js", "text": "                console.log(err.message)\n            } finally {\n                setLoading(false)\n            }\n        })\n        return unsubscribe\n    }, [])\n\n    const value = {\n        currentUser,\n        userDataObj,\n        setUserDataObj,\n        signup,\n        logout,\n        login,\n        loading\n    }\n\n    return (\n        <AuthContext.Provider value={value}>\n            {children}\n        </AuthContext.Provider>\n    )\n}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\context\\AuthContext.js", "chunk_id": 1, "subchunk_id": 5, "start_line": 78, "end_line": 79, "language": "js", "text": "    )\n}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\context\\AuthContext.js", "chunk_id": 1, "subchunk_id": 6, "start_line": 79, "end_line": 79, "language": "js", "text": "}"}
{"repo_name": "broodl", "file_path": "broodl\\code\\utils\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 24, "language": "js", "text": "export const gradients = {\n    indigo: ['#dcd6ff', '#b8adff', '#9285ff', '#7766ff', '#4833ff', '#3525db', '#261ab1', '#1a1093', '#10097a',],\n    green: ['#dcfdc3', '#affc9d', '#7cf86c', '#4bf246', '#0cea1c', '#0dc928', '#0ca82f', '#038731', '#047031',],\n    blue: ['#ccfffa', '#9afefe', '#66f1fc', '#41dffa', '#07c2f7', '#0497d4', '#0171b1', '#02518e', '#003a76',],\n    yellow: ['#fff8db', '#fff0b8', '#ffe495', '#ffd97b', '#ffc84f', '#dba339', '#b78127', '#936118', '#7a4b10',],\n    pink: ['#ffd8f2', '#ffb1ea', '#ff8aea', '#ff6df1', '#ff3dfe', '#cd2ddb', '#9d1fb7', '#731493', '#540b7a',],\n}\n\nexport const baseRating = {\n    \"0\": 2, \"1\": 5, \"2\": 4, \"3\": 1, \"4\": 3,\n    \"5\": 2, \"6\": 4, \"7\": 1, \"8\": 5, \"9\": 3,\n    \"10\": 2, \"11\": 4, \"12\": 1, \"13\": 3, \"14\": 5,\n    \"15\": 2, \"16\": 4, \"17\": 1, \"18\": 3, \"19\": 5,\n    \"20\": 2, \"21\": 4, \"22\": 1, \"23\": 3, \"24\": 5,\n    \"25\": 3, \"26\": 4, \"27\": 2, \"28\": 1, \"29\": 2,\n    \"30\": 4, \"31\": 1, \"32\": 3, \"33\": 5, \"34\": 2,\n    \"35\": 4, \"36\": 1, \"37\": 5, \"38\": 3, \"39\": 2,\n    \"40\": 5, \"41\": 4, \"42\": 1, \"43\": 3,\n}\n\nexport const demoData = {\n    \"15\": 2, \"16\": 4, \"17\": 1, \"18\": 3, \"19\": 5,\n    \"20\": 2, \"21\": 4, \"22\": 1, \"23\": 3, \"24\": 5,\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\App.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 20, "end_line": 23, "language": "js", "text": "  componentDidMount() {\n    store.dispatch(loadUser());\n    pageCursors();\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\App.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 24, "end_line": 37, "language": "js", "text": "  render() {\n    return (\n      <Provider store={store}>\n        <ThemeProvider theme={theme}>\n          <CssBaseline />\n          <Alert />\n          <Routes />\n          <div className=\"cursor\" id=\"cursor\" />\n          <div className=\"cursor2\" id=\"cursor2\" />\n          <div className=\"cursor3\" id=\"cursor3\" />\n        </ThemeProvider>\n      </Provider>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 9, "language": "js", "text": "import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport * as serviceWorker from './serviceWorker';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\nserviceWorker.unregister();"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 10, "language": "js", "text": "\n// Admin\nconst DashboardPage = lazy(() => import('./pages/Admin/Dashboard'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 11, "language": "js", "text": "const MovieList = lazy(() => import('./pages/Admin/MovieList'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 12, "end_line": 12, "language": "js", "text": "const CinemaList = lazy(() => import('./pages/Admin/CinemaList'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 13, "end_line": 13, "language": "js", "text": "const ShowtimeList = lazy(() => import('./pages/Admin/ShowtimeList'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 14, "end_line": 14, "language": "js", "text": "const ReservationList = lazy(() => import('./pages/Admin/ReservationList'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 15, "end_line": 15, "language": "js", "text": "const User = lazy(() => import('./pages/Admin/User'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 16, "end_line": 16, "language": "js", "text": "const Account = lazy(() => import('./pages/Admin/Account'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 17, "end_line": 19, "language": "js", "text": "\n// Register - Login\nconst Register = lazy(() => import('./pages/Public/Register'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 20, "end_line": 20, "language": "js", "text": "const Login = lazy(() => import('./pages/Public/Login'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 9, "subchunk_id": 0, "start_line": 21, "end_line": 23, "language": "js", "text": "\n// Public\nconst HomePage = lazy(() => import('./pages/Public/HomePage'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 10, "subchunk_id": 0, "start_line": 24, "end_line": 24, "language": "js", "text": "const MoviePage = lazy(() => import('./pages/Public/MoviePage'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 11, "subchunk_id": 0, "start_line": 25, "end_line": 25, "language": "js", "text": "const MyDashboard = lazy(() => import('./pages/Public/MyDashboard'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 12, "subchunk_id": 0, "start_line": 26, "end_line": 28, "language": "js", "text": "const MovieCategoryPage = lazy(() =>\n  import('./pages/Public/MovieCategoryPage')\n);"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 13, "subchunk_id": 0, "start_line": 29, "end_line": 29, "language": "js", "text": "const CinemasPage = lazy(() => import('./pages/Public/CinemasPage'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 14, "subchunk_id": 0, "start_line": 30, "end_line": 30, "language": "js", "text": "const BookingPage = lazy(() => import('./pages/Public/BookingPage'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 15, "subchunk_id": 0, "start_line": 31, "end_line": 32, "language": "js", "text": "\nconst Checkin = lazy(() => import('./pages/Public/Checkin'));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 16, "subchunk_id": 0, "start_line": 33, "end_line": 88, "language": "js", "text": "\nconst Routes = () => {\n  return (\n    <Suspense fallback={<Loading />}>\n      <Router>\n        <Switch>\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/register\" component={Register} />\n\n          <WithLayoutRoute\n            exact\n            path=\"/checkin/:reservationId\"\n            component={Checkin}\n            layout={PublicLayout}\n          />\n\n          <WithLayoutRoute\n            exact\n            path=\"/\"\n            layout={PublicLayout}\n            component={HomePage}\n          />\n          <WithLayoutRoute\n            exact\n            path=\"/mydashboard\"\n            layout={PublicLayout}\n            component={MyDashboard}\n          />\n          <WithLayoutRoute\n            exact\n            path=\"/cinemas\"\n            layout={PublicLayout}\n            component={CinemasPage}\n          />\n          <WithLayoutRoute\n            exact\n            path=\"/movie/category/:category\"\n            layout={PublicLayout}\n            component={MovieCategoryPage}\n          />\n          <WithLayoutRoute\n            exact\n            path=\"/movie/:id\"\n            layout={PublicLayout}\n            layoutProps={{ withFooter: false }}\n            component={MoviePage}\n          />\n          <WithLayoutRoute\n            exact\n            path=\"/movie/booking/:id\"\n            layout={PublicLayout}\n            layoutProps={{ withFooter: false }}\n            component={BookingPage}\n          />\n          <ProtectedRoute\n            exact"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 16, "subchunk_id": 1, "start_line": 87, "end_line": 134, "language": "js", "text": "          <ProtectedRoute\n            exact\n            path=\"/admin/dashboard\"\n            layout={AdminLayout}\n            component={DashboardPage}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/admin/users\"\n            layout={AdminLayout}\n            component={User}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/admin/showtimes\"\n            layout={AdminLayout}\n            component={ShowtimeList}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/admin/reservations\"\n            layout={AdminLayout}\n            component={ReservationList}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/admin/cinemas\"\n            layout={AdminLayout}\n            component={CinemaList}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/admin/movies\"\n            layout={AdminLayout}\n            component={MovieList}\n          />\n          <ProtectedRoute\n            exact\n            path=\"/admin/account\"\n            layout={AdminLayout}\n            component={Account}\n          />\n          <Route path=\"*\" component={() => '404 NOT FOUND'} />\n        </Switch>\n      </Router>\n    </Suspense>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 16, "subchunk_id": 2, "start_line": 133, "end_line": 134, "language": "js", "text": "  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\Routes.js", "chunk_id": 16, "subchunk_id": 3, "start_line": 134, "end_line": 134, "language": "js", "text": "};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\serviceWorker.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 22, "end_line": 55, "language": "js", "text": "\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\serviceWorker.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 63, "end_line": 65, "language": "js", "text": "        if (installingWorker == null) {\n          return;\n        }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\serviceWorker.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 67, "end_line": 92, "language": "js", "text": "          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\serviceWorker.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 100, "end_line": 127, "language": "js", "text": "\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\serviceWorker.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 128, "end_line": 135, "language": "js", "text": "\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 16, "language": "js", "text": "export { default as Alert } from './Alert';\nexport { default as CustomizedSnackbar } from './CustomizedSnackbar';\nexport { default as DisplayMode } from './DisplayMode';\nexport { default as FileUpload } from './FileUpload';\nexport { default as Loading } from './Loading';\nexport { default as Paper } from './Paper';\nexport { default as Portlet } from './Portlet';\nexport { default as PortletContent } from './PortletContent';\nexport { default as PortletFooter } from './PortletFooter';\nexport { default as PortletHeader } from './PortletHeader';\nexport { default as PortletLabel } from './PortletLabel';\nexport { default as PortletToolbar } from './PortletToolbar';\nexport { default as ResponsiveDialog } from './ResponsiveDialog';\nexport { default as SearchInput } from './SearchInput';\nexport { default as SnackbarContentWrapper } from './SnackbarContentWrapper';\nexport { default as Status } from './Status';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Alert\\Alert.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 17, "language": "js", "text": "\nconst Alert = ({ alerts }) =>\n  alerts.length > 0 &&\n  alerts.map((alert, index) => (\n    <CustomizedSnackbar\n      key={`custom-alert-${index}-${alert.id}`}\n      isOpen={true}\n      vertical=\"top\"\n      horizontal=\"right\"\n      variant={alert.alertType}\n      message={alert.msg}\n    />\n  ));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Alert\\Alert.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 26, "end_line": 29, "language": "js", "text": "\nconst mapStateToProps = state => ({\n  alerts: state.alertState.alerts\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Alert\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Alert';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\CustomizedSnackbar\\CustomizedSnackbar.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 29, "language": "js", "text": "\nconst CustomizedSnackbar = props => {\n  // const [open, setOpen] = React.useState(false);\n  const { isOpen, vertical, horizontal, variant, message } = props;\n\n  // function handleClose(event) {\n  //   setOpen(false);\n  // }\n\n  return (\n    <Snackbar\n      anchorOrigin={{\n        vertical,\n        horizontal\n      }}\n      open={isOpen}>\n      <SnackbarContentWrapper\n        style={{ color: '#fff' }}\n        // onClose={handleClose}\n        variant={variant}\n        message={message}\n      />\n    </Snackbar>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\CustomizedSnackbar\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './CustomizedSnackbar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\DisplayMode\\DisplayMode.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 34, "language": "js", "text": "\nconst DisplayMode = props => {\n  const { classes, className, mode, onChange } = props;\n\n  const rootClassName = classNames(classes.root, className);\n\n  return (\n    <div className={rootClassName}>\n      <span\n        className={classNames({\n          [classes.option]: true,\n          [classes.optionSelected]: mode === 'grid'\n        })}\n        onClick={onChange}>\n        <AppsIcon className={classes.displayIcon} />\n      </span>\n      <span className={classes.divider} />\n      <span\n        className={classNames({\n          [classes.option]: true,\n          [classes.optionSelected]: mode === 'list'\n        })}\n        onClick={onChange}>\n        <ListIcon className={classes.displayIcon} />\n      </span>\n    </div>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\DisplayMode\\DisplayMode.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 42, "end_line": 46, "language": "js", "text": "\nDisplayMode.defaultProps = {\n  mode: 'grid',\n  onChange: () => {}\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\DisplayMode\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './DisplayMode';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\DisplayMode\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 25, "language": "js", "text": "export default theme => ({\n  root: {\n    flexGrow: 0,\n    flexShrink: 0,\n    overflow: 'hidden',\n    borderRadius: '5px',\n    display: 'inline-flex',\n    border: `1px solid ${theme.palette.border}`\n  },\n  option: {\n    cursor: 'pointer',\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(1),\n    backgroundColor: theme.palette.background.paper\n  },\n  optionSelected: {\n    backgroundColor: theme.palette.background.default,\n    color: theme.palette.primary.main\n  },\n  divider: {\n    width: '1px',\n    backgroundColor: theme.palette.divider\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\FileUpload\\FileUpload.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 19, "language": "js", "text": "\n// Component styles\nconst styles = theme => ({\n  root: {\n    padding: theme.spacing(2)\n  },\n  input: {\n    display: 'none'\n  },\n  button: {\n    minWidth: 100,\n    marginRight: theme.spacing(2)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\FileUpload\\FileUpload.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 20, "end_line": 47, "language": "js", "text": "\nconst FileUpload = props => {\n  const { classes, className, file, onUpload } = props;\n  const rootClassName = classNames(\n    {\n      [classes.root]: true\n    },\n    className\n  );\n\n  return (\n    <Paper className={rootClassName}>\n      <input\n        accept=\"image/*\"\n        className={classes.input}\n        id=\"icon-button-file\"\n        type=\"file\"\n        onChange={onUpload}\n      />\n      <label htmlFor=\"icon-button-file\">\n        <Button variant=\"outlined\" className={classes.button} component=\"span\">\n          Upload\n        </Button>\n      </label>\n      <span>{file ? file.name : 'No file selected'}</span>\n    </Paper>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\FileUpload\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './FileUpload';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Loading\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Loading';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Loading\\Loading.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 7, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  root: { background: theme.palette.common.black, height: '100vh' }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Loading\\Loading.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 8, "end_line": 11, "language": "js", "text": "export default () => {\n  const classes = useStyles();\n  return <div className={classes.root} />;\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Paper\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Paper';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Paper\\Paper.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 23, "language": "js", "text": "\n// Component styles\nconst styles = theme => {\n  return {\n    root: {\n      borderRadius: '4px',\n      maxWidth: '100%',\n      border: 0,\n      boxShadow: '0 10px 40px 0 rgba(16, 36, 94, 0.2)'\n    },\n    squared: {\n      borderRadius: 0\n    },\n    outlined: {\n      border: 0\n    }\n  };\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Paper\\Paper.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 24, "end_line": 42, "language": "js", "text": "\nconst CustomPaper = props => {\n  const { classes, className, outlined, squared, children, ...rest } = props;\n\n  const rootClassName = classNames(\n    {\n      [classes.root]: true,\n      [classes.squared]: squared,\n      [classes.outlined]: outlined\n    },\n    className\n  );\n\n  return (\n    <Paper {...rest} className={rootClassName}>\n      {children}\n    </Paper>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Portlet\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Portlet';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Portlet\\Portlet.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 12, "language": "js", "text": "// Component styles\nconst styles = () => ({\n  root: {\n    display: 'flex',\n    flexDirection: 'column'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Portlet\\Portlet.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 28, "language": "js", "text": "\nconst Portlet = props => {\n  const { classes, className, children, ...rest } = props;\n  const rootClassName = classNames(classes.root, className);\n\n  return (\n    <Paper\n      {...rest}\n      className={rootClassName}\n      elevation={0}\n      outlined\n      squared={false}>\n      {children}\n    </Paper>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletContent\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './PortletContent';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletContent\\PortletContent.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 19, "language": "js", "text": "\n// Component styles\nconst styles = theme => ({\n  root: {\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3),\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n    flexGrow: 1,\n    overflow: 'auto'\n  },\n  noPadding: {\n    padding: 0\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletContent\\PortletContent.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 20, "end_line": 37, "language": "js", "text": "\nconst PortletContent = props => {\n  const { classes, className, children, noPadding, ...rest } = props;\n\n  const rootClassName = classNames(\n    {\n      [classes.root]: true,\n      [classes.noPadding]: noPadding\n    },\n    className\n  );\n\n  return (\n    <div {...rest} className={rootClassName}>\n      {children}\n    </div>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletFooter\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './PortletFooter';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletFooter\\PortletFooter.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 20, "language": "js", "text": "\n// Component styles\nconst styles = theme => ({\n  root: {\n    paddingBottom: theme.spacing(1),\n    paddingTop: theme.spacing(1),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2),\n    borderTop: `1px solid ${theme.palette.border}`,\n    borderBottomLeftRadius: '2px',\n    borderBottomRightRadius: '2px'\n  },\n  noDivider: {\n    borderTop: 'none'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletFooter\\PortletFooter.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 21, "end_line": 38, "language": "js", "text": "\nconst PortletFooter = props => {\n  const { classes, className, noDivider, children, ...rest } = props;\n\n  const rootClassName = classNames(\n    {\n      [classes.root]: true,\n      [classes.noDivider]: noDivider\n    },\n    className\n  );\n\n  return (\n    <div {...rest} className={rootClassName}>\n      {children}\n    </div>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletHeader\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './PortletHeader';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletHeader\\PortletHeader.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 26, "language": "js", "text": "\n// Component styles\nconst styles = theme => ({\n  root: {\n    alignItems: 'center',\n    borderBottom: `1px solid ${theme.palette.border}`,\n    borderTopLeftRadius: '2px',\n    borderTopRightRadius: '2px',\n    display: 'flex',\n    height: '64px',\n    justifyContent: 'space-between',\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3),\n    position: 'relative'\n  },\n  noDivider: {\n    borderBottom: 'none'\n  },\n  noPadding: {\n    padding: 0\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletHeader\\PortletHeader.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 27, "end_line": 45, "language": "js", "text": "\nconst PortletHeader = props => {\n  const { classes, className, noDivider, noPadding, children, ...rest } = props;\n\n  const rootClassName = classNames(\n    {\n      [classes.root]: true,\n      [classes.noDivider]: noDivider,\n      [classes.noPadding]: noPadding\n    },\n    className\n  );\n\n  return (\n    <div {...rest} className={rootClassName}>\n      {children}\n    </div>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletLabel\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './PortletLabel';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletLabel\\PortletLabel.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 27, "language": "js", "text": "\nconst styles = theme => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  icon: {\n    fontSize: '1.3rem',\n    marginRight: theme.spacing(1),\n    color: theme.palette.text.secondary,\n    alignItems: 'center',\n    display: 'flex'\n  },\n  title: {\n    fontWeight: 500\n  },\n  subtitle: {\n    fontWeight: 400,\n    marginLeft: theme.spacing(1),\n    color: theme.palette.text.secondary\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletLabel\\PortletLabel.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 28, "end_line": 49, "language": "js", "text": "\nconst PortletLabel = props => {\n  const { classes, className, icon, title, subtitle, ...rest } = props;\n\n  const rootClassName = classNames(classes.root, className);\n\n  return (\n    <div {...rest} className={rootClassName}>\n      {icon && <span className={classes.icon}>{icon}</span>}\n      {title && (\n        <Typography className={classes.title} variant=\"h5\">\n          {title}\n        </Typography>\n      )}\n      {subtitle && (\n        <Typography className={classes.subtitle} variant=\"subtitle2\">\n          {subtitle}\n        </Typography>\n      )}\n    </div>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletToolbar\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './PortletToolbar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletToolbar\\PortletToolbar.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 12, "language": "js", "text": "\nconst styles = () => ({\n  root: {\n    justifyContent: 'flex-end',\n    alignItems: 'center',\n    display: 'flex'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\PortletToolbar\\PortletToolbar.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 24, "language": "js", "text": "\nconst PortletToolbar = props => {\n  const { classes, className, children, ...rest } = props;\n\n  const rootClassName = classNames(classes.root, className);\n\n  return (\n    <div {...rest} className={rootClassName}>\n      {children}\n    </div>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\ResponsiveDialog\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './ResponsiveDialog';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\ResponsiveDialog\\ResponsiveDialog.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 43, "language": "js", "text": "\nconst ResponsiveDialog = ({\n  id,\n  title = '',\n  contentText,\n  children,\n  open,\n  handleClose,\n  maxWidth = 'lg'\n}) => {\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\n\n  return (\n    <Dialog\n      fullScreen={fullScreen}\n      fullWidth={true}\n      maxWidth={maxWidth}\n      open={open}\n      onClose={handleClose}\n      aria-labelledby={id}>\n      <DialogTitle id={id}>{title}</DialogTitle>\n      <DialogContent>\n        <DialogContentText>{contentText}</DialogContentText>\n        {children}\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\" autoFocus>\n          Done\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\SearchInput\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './SearchInput';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\SearchInput\\SearchInput.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 25, "language": "js", "text": "\nconst SearchInput = props => {\n  const { classes, className, onChange, style, ...rest } = props;\n\n  const rootClassName = classNames(classes.root, className);\n\n  return (\n    <div className={rootClassName} style={style}>\n      <SearchIcon className={classes.icon} />\n      <Input\n        {...rest}\n        className={classes.input}\n        disableUnderline\n        onChange={onChange}\n      />\n    </div>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\SearchInput\\SearchInput.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 33, "end_line": 36, "language": "js", "text": "\nSearchInput.defaultProps = {\n  onChange: () => {}\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\SearchInput\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 24, "language": "js", "text": "export default theme => ({\n  root: {\n    alignItems: 'center',\n    backgroundColor: theme.palette.background.paper,\n    border: `1px solid ${theme.palette.common.neutral}`,\n    borderRadius: '4px',\n    display: 'flex',\n    flexBasis: '420px',\n    paddingBottom: theme.spacing(0.5),\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1),\n    paddingTop: theme.spacing(0.5)\n  },\n  icon: {\n    marginRight: theme.spacing(1),\n    color: theme.palette.text.secondary\n  },\n  input: {\n    flexGrow: 1,\n    fontSize: '14px',\n    lineHeight: '16px',\n    letterSpacing: '-0.05px'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\SnackbarContentWrapper\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './SnackbarContentWrapper';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\SnackbarContentWrapper\\SnackbarContentWrapper.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 20, "end_line": 45, "language": "js", "text": "\nconst styles = theme => ({\n  success: {\n    backgroundColor: green[600]\n  },\n  error: {\n    backgroundColor: theme.palette.error.dark\n  },\n  info: {\n    backgroundColor: theme.palette.primary.dark\n  },\n  warning: {\n    backgroundColor: amber[700]\n  },\n  icon: {\n    fontSize: 20\n  },\n  iconVariant: {\n    opacity: 0.9,\n    marginRight: theme.spacing(1)\n  },\n  message: {\n    display: 'flex',\n    alignItems: 'center'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\SnackbarContentWrapper\\SnackbarContentWrapper.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 46, "end_line": 73, "language": "js", "text": "\nconst SnackbarContentWrapper = props => {\n  const { classes, className, message, onClose, variant, ...rest } = props;\n  const Icon = variantIcon[variant];\n\n  return (\n    <SnackbarContent\n      className={classNames(classes[variant], className)}\n      aria-describedby=\"client-snackbar\"\n      message={\n        <span id=\"client-snackbar\" className={classes.message}>\n          <Icon className={classNames(classes.icon, classes.iconVariant)} />\n          {message}\n        </span>\n      }\n      // action={[\n      //   <IconButton\n      //     key=\"close\"\n      //     aria-label=\"Close\"\n      //     color=\"inherit\"\n      //     onClick={onClose}>\n      //     <CloseIcon className={classes.icon} />\n      //   </IconButton>\n      // ]}\n      {...rest}\n    />\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Status\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Status';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Status\\Status.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 43, "language": "js", "text": "\nconst styles = theme => ({\n  root: {\n    display: 'inline-block',\n    borderRadius: '50%',\n    flexGrow: 0,\n    flexShrink: 0\n  },\n  sm: {\n    height: theme.spacing(1),\n    width: theme.spacing(1)\n  },\n  md: {\n    height: theme.spacing(2),\n    width: theme.spacing(2)\n  },\n  lg: {\n    height: theme.spacing(3),\n    width: theme.spacing(3)\n  },\n  neutral: {\n    backgroundColor: theme.palette.common.neutral\n  },\n  primary: {\n    backgroundColor: theme.palette.primary.main\n  },\n  info: {\n    backgroundColor: theme.palette.info.main\n  },\n  warning: {\n    backgroundColor: theme.palette.warning.main\n  },\n  danger: {\n    backgroundColor: theme.palette.danger.main\n  },\n  success: {\n    backgroundColor: theme.palette.success.main\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\components\\Status\\Status.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 44, "end_line": 58, "language": "js", "text": "\nconst Status = props => {\n  const { classes, className, size, color, ...rest } = props;\n\n  const rootClassName = classNames(\n    {\n      [classes.root]: true,\n      [classes[size]]: size,\n      [classes[color]]: color\n    },\n    className\n  );\n\n  return <span {...rest} className={rootClassName} />;\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\data\\MovieDataService.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 17, "language": "js", "text": "export const genreData = [\n  'action',\n  'adventure',\n  'comedy',\n  'drama',\n  'fantasy',\n  'historical',\n  'horror',\n  'mystery',\n  'romance',\n  'science fiction',\n  'thriller',\n  'political',\n  'western'\n];\n\nexport const languageData = ['english', 'greek', 'german', 'french'];"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 2, "language": "js", "text": "export { default as AdminLayout } from './AdminLayout';\nexport { default as PublicLayout } from './PublicLayout';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\AdminLayout.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 12, "end_line": 17, "language": "js", "text": "  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false\n    };\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\AdminLayout.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 26, "end_line": 29, "language": "js", "text": "\n  handleToggleOpen = () => {\n    this.setState(prevState => ({ isOpen: !prevState.isOpen }));\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\AdminLayout.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 30, "end_line": 33, "language": "js", "text": "\n  handleClose = () => {\n    this.setState({ isOpen: false });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\AdminLayout.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 34, "end_line": 64, "language": "js", "text": "\n  render() {\n    const { isOpen } = this.state;\n    const { title, children, classes } = this.props;\n    return (\n      <Fragment>\n        <Topbar\n          title={title}\n          ToolbarClasses={classes.topbar}\n          isSidebarOpen={isOpen}\n          onToggleSidebar={this.handleToggleOpen}\n        />\n        <Drawer\n          anchor=\"left\"\n          classes={{ paper: classes.drawerPaper }}\n          open={isOpen}\n          onClose={this.handleClose}\n          variant=\"persistent\">\n          <Sidebar className={classes.sidebar} />\n        </Drawer>\n        <main\n          className={classnames({\n            [classes.contentShift]: isOpen,\n            [classes.content]: true\n          })}>\n          {children}\n          <Footer />\n        </main>\n      </Fragment>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './AdminLayout';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 41, "language": "js", "text": "export default theme => ({\n  topbar: {\n    position: 'fixed',\n    width: '100%',\n    top: 0,\n    left: 0,\n    right: 'auto',\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  drawerPaper: {\n    borderRight: 0,\n    zIndex: 1200,\n    width: '271px',\n    top: theme.topBar.height\n  },\n  sidebar: {\n    width: '270px'\n  },\n  content: {\n    height: '100%',\n    padding: theme.spacing(3),\n    paddingTop: theme.spacing(9),\n    backgroundColor: theme.palette.background.default,\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen\n    })\n  },\n  contentShift: {\n    marginLeft: '270px'\n  },\n  [theme.breakpoints.down('sm')]: {\n    content: {\n      padding: 0,\n      paddingTop: theme.spacing(9)\n    }\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "export { default as Footer } from './Footer';\nexport { default as Sidebar } from './Sidebar';\nexport { default as Topbar } from './Topbar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Footer\\Footer.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 21, "language": "js", "text": "\nexport default function Footer() {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Divider />\n      <Typography className={classes.copyright} variant=\"body1\">\n        &copy; George Simos. 2020\n      </Typography>\n      <Typography variant=\"caption\">\n        Crafted with love |{' '}\n        <Link href=\"http://georgesimos.com/\" target=\"_blank\" rel=\"noopener\">\n          George Simos\n        </Link>\n      </Typography>\n    </div>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Footer\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Footer';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Footer\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 13, "language": "js", "text": "\nexport default makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(4),\n    background: theme.palette.background.default,\n    color: theme.palette.contrastText\n  },\n  copyright: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(0.5)\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Sidebar\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Sidebar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Sidebar\\Sidebar.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 21, "end_line": 63, "language": "js", "text": "  render() {\n    const { classes, user } = this.props;\n    return (\n      <section className={classes.root}>\n        <List component=\"div\" disablePadding>\n          <ListItem\n            activeClassName={classes.activeListItem}\n            className={classes.listItem}\n            component={NavLink}\n            to=\"/admin/dashboard\">\n            <ListItemIcon className={classes.listItemIcon}>\n              <DashboardIcon />\n            </ListItemIcon>\n            <ListItemText\n              classes={{ primary: classes.listItemText }}\n              primary=\"Dashboard\"\n            />\n          </ListItem>\n          <ListItem\n            activeClassName={classes.activeListItem}\n            className={classes.listItem}\n            component={NavLink}\n            to=\"/admin/movies\">\n            <ListItemIcon className={classes.listItemIcon}>\n              <DashboardIcon />\n            </ListItemIcon>\n            <ListItemText\n              classes={{ primary: classes.listItemText }}\n              primary=\"Movies\"\n            />\n          </ListItem>\n          <ListItem\n            activeClassName={classes.activeListItem}\n            className={classes.listItem}\n            component={NavLink}\n            to=\"/admin/cinemas\">\n            <ListItemIcon className={classes.listItemIcon}>\n              <DashboardIcon />\n            </ListItemIcon>\n            <ListItemText\n              classes={{ primary: classes.listItemText }}\n              primary=\"Cinemas\"\n            />"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Sidebar\\Sidebar.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 62, "end_line": 103, "language": "js", "text": "              primary=\"Cinemas\"\n            />\n          </ListItem>\n          <ListItem\n            activeClassName={classes.activeListItem}\n            className={classes.listItem}\n            component={NavLink}\n            to=\"/admin/showtimes\">\n            <ListItemIcon className={classes.listItemIcon}>\n              <PeopleIcon />\n            </ListItemIcon>\n            <ListItemText\n              classes={{ primary: classes.listItemText }}\n              primary=\"Showtimes\"\n            />\n          </ListItem>\n          <ListItem\n            activeClassName={classes.activeListItem}\n            className={classes.listItem}\n            component={NavLink}\n            to=\"/admin/reservations\">\n            <ListItemIcon className={classes.listItemIcon}>\n              <PeopleIcon />\n            </ListItemIcon>\n            <ListItemText\n              classes={{ primary: classes.listItemText }}\n              primary=\"Reservations\"\n            />\n          </ListItem>\n          {user && user.role === 'superadmin' && (\n            <ListItem\n              activeClassName={classes.activeListItem}\n              className={classes.listItem}\n              component={NavLink}\n              to=\"/admin/users\">\n              <ListItemIcon className={classes.listItemIcon}>\n                <PeopleIcon />\n              </ListItemIcon>\n              <ListItemText\n                classes={{ primary: classes.listItemText }}\n                primary=\"Users\"\n              />"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Sidebar\\Sidebar.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 102, "end_line": 145, "language": "js", "text": "                primary=\"Users\"\n              />\n            </ListItem>\n          )}\n          <ListItem\n            activeClassName={classes.activeListItem}\n            className={classes.listItem}\n            component={NavLink}\n            to=\"/admin/account\">\n            <ListItemIcon className={classes.listItemIcon}>\n              <AccountBoxIcon />\n            </ListItemIcon>\n            <ListItemText\n              classes={{ primary: classes.listItemText }}\n              primary=\"Account\"\n            />\n          </ListItem>\n        </List>\n        <Divider className={classes.listDivider} />\n        <List\n          component=\"div\"\n          disablePadding\n          subheader={\n            <ListSubheader className={classes.listSubheader}>\n              Support\n            </ListSubheader>\n          }>\n          <ListItem\n            className={classes.listItem}\n            component=\"a\"\n            href=\"http://georgesimos.com\"\n            target=\"_blank\">\n            <ListItemIcon className={classes.listItemIcon}>\n              <InfoIcon />\n            </ListItemIcon>\n            <ListItemText\n              classes={{ primary: classes.listItemText }}\n              primary=\"Customer support\"\n            />\n          </ListItem>\n        </List>\n      </section>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Sidebar\\Sidebar.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 144, "end_line": 145, "language": "js", "text": "    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Sidebar\\Sidebar.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 145, "end_line": 145, "language": "js", "text": "  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Sidebar\\Sidebar.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 147, "end_line": 150, "language": "js", "text": "\nconst mapStateToProps = state => ({\n  user: state.authState.user\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Sidebar\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 65, "language": "js", "text": "export default theme => ({\n  root: {\n    backgroundColor: theme.palette.background.paper,\n    display: 'flex',\n    flexDirection: 'column',\n    height: '100%',\n    paddingTop: theme.spacing(3),\n    paddingLeft: theme.spacing(1),\n    paddingRight: theme.spacing(1)\n  },\n  profile: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    minHeight: 'fit-content'\n  },\n  avatar: {\n    width: '100px',\n    height: '100px'\n  },\n  nameText: {\n    marginTop: theme.spacing(2)\n  },\n  bioText: {},\n  profileDivider: {\n    marginBottom: theme.spacing(2),\n    marginTop: theme.spacing(2)\n  },\n  listSubheader: {\n    color: theme.palette.common.contrastText\n  },\n  listItem: {\n    cursor: 'pointer',\n    '&:hover': {\n      backgroundColor: theme.palette.default.light,\n      borderLeft: `4px solid ${theme.palette.default.dark}`,\n      borderRadius: '4px',\n      '& $listItemIcon': {\n        marginLeft: '-4px'\n      }\n    },\n    '& + &': {\n      marginTop: theme.spacing(1)\n    }\n  },\n  activeListItem: {\n    borderLeft: `4px solid ${theme.palette.default.dark}`,\n    borderRadius: '4px',\n    backgroundColor: theme.palette.default.light,\n    '& $listItemText': {\n      color: theme.palette.common.contrastText\n    },\n    '& $listItemIcon': {\n      marginLeft: '-4px'\n    }\n  },\n  listItemIcon: {\n    marginRight: 0\n  },\n  listItemText: {\n    fontWeight: 500,\n    color: theme.palette.common.contrastText\n  },\n  listDivider: {\n    marginBottom: theme.spacing(2),"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Sidebar\\styles.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 64, "end_line": 97, "language": "js", "text": "  listDivider: {\n    marginBottom: theme.spacing(2),\n    marginTop: theme.spacing(2)\n  },\n  'Mui-selected': {\n    display: 'none'\n  },\n  collapseContainer: { marginTop: theme.spacing(2) },\n  nestedItem: {\n    cursor: 'pointer',\n    paddingLeft: theme.spacing(4),\n    position: 'relative',\n    paddingTop: '3px',\n    paddingBottom: 0,\n    '&:before': {\n      content: '\"\"',\n      position: 'absolute',\n      top: '0px',\n      left: '20px',\n      display: 'block',\n      height: ' 100%',\n      width: '2px',\n      background: '#eee'\n    },\n    '&:hover:before': {\n      background: theme.palette.default.dark\n    }\n  },\n  activeNestedItem: {\n    '&:before': {\n      background: theme.palette.default.dark\n    }\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Sidebar\\styles.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 96, "end_line": 97, "language": "js", "text": "  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Sidebar\\styles.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 97, "end_line": 97, "language": "js", "text": "});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Topbar\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Topbar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Topbar\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 52, "language": "js", "text": "export default theme => ({\n  root: {\n    borderBottom: `1px solid ${theme.palette.borderShadow}`,\n    boxShadow: `0 0 35px 0  ${theme.palette.borderShadow}`,\n    backgroundColor: theme.palette.background.paper,\n    display: 'flex',\n    alignItems: 'center',\n    height: theme.topBar.height,\n    zIndex: theme.zIndex.appBar\n  },\n  toolbar: {\n    minHeight: 'auto',\n    width: '100%',\n    paddingLeft: 0\n  },\n  brandWrapper: {\n    background: theme.palette.default.dark,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '271px',\n    height: theme.topBar.height,\n    flexShrink: 0\n  },\n  logo: {\n    width: 'calc(100% - 160px)',\n    maxWidth: '100%',\n    margin: 'auto',\n    fontFamily: 'Montserrat,sans-serif',\n    fontSize: '22px',\n    fontWeight: 700,\n    letterSpacing: 3,\n    color: theme.palette.common.white\n  },\n  title: {\n    marginLeft: theme.spacing(3),\n    textTransform: 'uppercase',\n    textDecoration: 'none',\n    fontSize: '14px',\n    color: theme.palette.common.white\n  },\n  menuButton: {\n    color: theme.palette.common.white,\n    marginLeft: '-4px'\n  },\n  notificationsButton: {\n    marginLeft: 'auto'\n  },\n  signOutButton: {\n    marginLeft: theme.spacing(1)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Topbar\\Topbar.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 29, "end_line": 32, "language": "js", "text": "\n  handleSignOut = async () => {\n    this.props.logout();\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Topbar\\Topbar.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 33, "end_line": 75, "language": "js", "text": "\n  render() {\n    const {\n      classes,\n      ToolbarClasses,\n      children,\n      isSidebarOpen,\n      onToggleSidebar\n    } = this.props;\n    return (\n      <div className={`${classes.root} , ${ToolbarClasses}`}>\n        <Toolbar className={classes.toolbar}>\n          <div className={classes.brandWrapper}>\n            <div className={classes.logo}>Cinema +</div>\n            <IconButton\n              className={classes.menuButton}\n              aria-label=\"Menu\"\n              onClick={onToggleSidebar}>\n              {isSidebarOpen ? <CloseIcon /> : <MenuIcon />}\n            </IconButton>\n          </div>\n\n          <NavLink className={classes.title} to=\"/\">\n            Cinema App\n          </NavLink>\n\n          <IconButton\n            className={classes.notificationsButton}\n            onClick={() => console.log('Notification')}>\n            <Badge badgeContent={4} color=\"primary\" variant=\"dot\">\n              <NotificationsIcon />\n            </Badge>\n          </IconButton>\n          <IconButton\n            className={classes.signOutButton}\n            onClick={this.handleSignOut}>\n            <InputIcon />\n          </IconButton>\n        </Toolbar>\n        {children}\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\AdminLayout\\components\\Topbar\\Topbar.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 77, "end_line": 79, "language": "js", "text": "const mapStateToProps = state => ({\n  auth: state.authState\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './PublicLayout';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\PublicLayout.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 11, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  root: {\n    backgroundColor: theme.palette.background.dark,\n    color: theme.palette.common.white,\n    height: '100%'\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\PublicLayout.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 23, "language": "js", "text": "\nfunction PublicLayout(props) {\n  const classes = useStyles(props);\n  const { children, withFooter = true } = props;\n  return (\n    <div className={classes.root}>\n      <Navbar />\n      {children}\n      {withFooter && <Footer />}\n    </div>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 2, "language": "js", "text": "export { default as Footer } from './Footer';\nexport { default as Navbar } from './Navbar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Footer\\Footer.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 21, "language": "js", "text": "\nexport default function Footer() {\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      <Divider />\n      <Typography className={classes.copyright} variant=\"body1\">\n        &copy; George Simos. 2020\n      </Typography>\n      <Typography variant=\"caption\">\n        Crafted with love |{' '}\n        <Link href=\"http://georgesimos.com/\" target=\"_blank\" rel=\"noopener\">\n          George Simos\n        </Link>\n      </Typography>\n    </div>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Footer\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Footer';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Footer\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 13, "language": "js", "text": "\nexport default makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(4),\n    background: theme.palette.background.default,\n    color: theme.palette.contrastText\n  },\n  copyright: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(0.5)\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Navbar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\Navbar.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 14, "end_line": 17, "language": "js", "text": "\n  componentDidMount() {\n    window.addEventListener('scroll', this.handleScroll);\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\Navbar.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 18, "end_line": 21, "language": "js", "text": "\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\Navbar.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 22, "end_line": 27, "language": "js", "text": "\n  handleScroll = () => {\n    this.setState({\n      scrollPos: window.pageYOffset\n    });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\Navbar.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 28, "end_line": 72, "language": "js", "text": "\n  render() {\n    const { showMenu, scrollPos } = this.state;\n    const { classes, isAuth, user, logout } = this.props;\n    return (\n      <Fragment>\n        <nav\n          className={classnames({\n            [classes.navbar]: true,\n            [classes.navbarColor]: scrollPos > 30\n          })}>\n          <Link className={classes.logoLink} to=\"/\">\n            <Typography className={classes.logo} variant=\"h2\">\n              Cinema +\n            </Typography>\n          </Link>\n          <div className={classes.navLinks}>\n            <Link className={classes.navLink} to=\"/\">\n              Home\n            </Link>\n            <Link className={classes.navLink} to=\"/movie/category/nowShowing\">\n              Now Showing\n            </Link>\n            <Link className={classes.navLink} to=\"/movie/category/comingSoon\">\n              Coming Soon\n            </Link>\n            <Link className={classes.navLink} to=\"/cinemas\">\n              Cinemas\n            </Link>\n          </div>\n\n          <div className={classes.navAccount}>\n            <UserPopover logout={logout}>\n              <List component=\"nav\">\n                {user && (\n                  <ListItem>\n                    <Link\n                      className={classes.navLink}\n                      to={\n                        user.role !== 'guest'\n                          ? '/admin/dashboard'\n                          : '/mydashboard'\n                      }>\n                      Dashboard\n                    </Link>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\Navbar.js", "chunk_id": 3, "subchunk_id": 1, "start_line": 71, "end_line": 118, "language": "js", "text": "                      Dashboard\n                    </Link>\n                  </ListItem>\n                )}\n\n                {isAuth ? (\n                  <ListItem>\n                    <Link className={classes.navLink} onClick={logout} to=\"/\">\n                      Logout\n                    </Link>\n                  </ListItem>\n                ) : (\n                  <ListItem>\n                    <Link className={classes.navLink} to=\"/login\">\n                      Login\n                    </Link>\n                  </ListItem>\n                )}\n              </List>\n            </UserPopover>\n          </div>\n\n          <div className={classes.navMobile}>\n            <div\n              className={classes.navIcon}\n              onClick={() => this.setState({ showMenu: !this.state.showMenu })}>\n              <div\n                className={classnames(\n                  classes.navIconLine,\n                  classes.navIconLine__left\n                )}\n              />\n              <div className={classes.navIconLine} />\n              <div\n                className={classnames(\n                  classes.navIconLine,\n                  classes.navIconLine__right\n                )}\n              />\n            </div>\n          </div>\n        </nav>\n        <div\n          className={classnames({\n            [classes.navActive]: showMenu,\n            [classes.nav]: true\n          })}>\n          <div className={classes.navContent}>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\Navbar.js", "chunk_id": 3, "subchunk_id": 2, "start_line": 117, "end_line": 152, "language": "js", "text": "          })}>\n          <div className={classes.navContent}>\n            <div className={classes.currentPageShadow}>Movies</div>\n            <ul\n              className={classes.innerNav}\n              onClick={() => this.setState({ showMenu: !this.state.showMenu })}>\n              <li className={classes.innerNavListItem}>\n                <Link className={classes.innerNavLink} to=\"/\">\n                  Home\n                </Link>\n              </li>\n              <li className={classes.innerNavListItem}>\n                <Link\n                  className={classes.innerNavLink}\n                  to=\"/movie/category/nowShowing\">\n                  Now Showing\n                </Link>\n              </li>\n              <li className={classes.innerNavListItem}>\n                <Link\n                  className={classes.innerNavLink}\n                  to=\"/movie/category/comingSoon\">\n                  Coming Soon\n                </Link>\n              </li>\n              <li className={classes.innerNavListItem}>\n                <Link className={classes.innerNavLink} to=\"/cinemas\">\n                  Cinemas\n                </Link>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\Navbar.js", "chunk_id": 3, "subchunk_id": 3, "start_line": 151, "end_line": 152, "language": "js", "text": "    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\Navbar.js", "chunk_id": 3, "subchunk_id": 4, "start_line": 152, "end_line": 152, "language": "js", "text": "  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\Navbar.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 154, "end_line": 158, "language": "js", "text": "\nconst mapStateToProps = state => ({\n  isAuth: state.authState.isAuthenticated,\n  user: state.authState.user\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 68, "language": "js", "text": "export default theme => ({\n  navbar: {\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    width: '100%',\n    padding: '1.25rem 20px',\n    display: 'flex',\n    flexWrap: 'wrap',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    transform: 'translate3d(0,0,0)',\n    backfaceVisibility: 'hidden',\n    zIndex: 999,\n    transition: 'all 300ms ease-in'\n  },\n  navbarColor: {\n    background: theme.palette.background.dark,\n    transition: 'all 200ms ease-out'\n  },\n  logoLink: {\n    display: 'inline-block',\n    paddingTop: '.15rem',\n    paddingBottom: '.15rem',\n    marginRight: '20px',\n    fontSize: '1.5rem',\n    lineHeight: 'inherit',\n    whiteSpace: 'nowrap',\n    textDecoration: 'none'\n  },\n  logo: {\n    maxHeight: '2.4rem',\n    width: 'auto',\n    fontSize: '2rem',\n    letterSpacing: '1px',\n    color: theme.palette.common.white\n  },\n  navLinks: {\n    marginLeft: 'auto',\n    display: 'flex'\n  },\n  navLink: {\n    position: 'relative',\n    color: theme.palette.common.white,\n    padding: '0 .5rem',\n    margin: '0 1rem',\n    fontSize: '1.1rem',\n    fontWeight: '600',\n    cursor: 'pointer',\n    textDecoration: 'none',\n    zIndex: 2,\n    '&:after': {\n      content: '\"\"',\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      width: '100%',\n      opacity: 0,\n      height: 0,\n      backgroundColor: 'rgba(255,255,255,0.5)',\n      transition: 'all 200ms linear',\n      zIndex: 1\n    },\n    '&:hover:after': {\n      opacity: 1,\n      height: '9px'\n    }\n  },"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\styles.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 67, "end_line": 131, "language": "js", "text": "    }\n  },\n  navAccount: { marginLeft: 'auto', marginRight: theme.spacing(3) },\n  navMobile: { marginRight: theme.spacing(1) },\n  navIcon: {\n    display: 'none',\n    height: '30px',\n    width: '30px',\n    position: 'relative',\n    zIndex: 2,\n    cursor: 'pointer',\n    '&:hover $navIconLine__left, &:hover $navIconLine__right': {\n      width: '30px'\n    }\n  },\n  navIconLine: {\n    height: '2px',\n    width: '30px',\n    display: 'block',\n    backgroundColor: theme.palette.common.white,\n    marginBottom: '7px',\n    transition: ' transform .2s ease, background-color .5s ease'\n  },\n  navIconLine__left: {\n    width: '20px',\n    transition: 'all 200ms linear'\n  },\n  navIconLine__right: {\n    width: '20px',\n    transition: 'all 200ms linear'\n  },\n\n  nav: {\n    display: 'flex',\n    position: 'fixed',\n    top: 0,\n    left: 0,\n    right: 0,\n    bottom: 0,\n    zIndex: -1,\n    paddingLeft: 0,\n    marginBottom: 0,\n    '&:before, &:after': {\n      content: '\"\"',\n      position: 'fixed',\n      width: '100vw',\n      height: '100vh',\n      background: 'rgba(255, 255, 255, 0.1)',\n      zIndex: '-1',\n      transition: 'transform cubic-bezier(0.77, 0, 0.175, 1) 0.8s',\n      transform: 'translateX(0%) translateY(-100%)'\n    },\n    '&:before': {\n      background: theme.palette.common.black,\n      transitionDelay: '0s'\n    },\n    '&:after': {\n      transitionDelay: '.1s'\n    }\n  },\n  navActive: {\n    visibility: 'visible',\n    zIndex: 9,\n    '&:before': {\n      transitionDelay: '0s',"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\styles.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 130, "end_line": 192, "language": "js", "text": "    '&:before': {\n      transitionDelay: '0s',\n      transform: 'translateX(0%) translateY(0%)'\n    },\n    '&:after': {\n      transitionDelay: '.1s',\n      transform: 'translateX(0%) translateY(0%)'\n    },\n    '& $navContent': {\n      visibility: 'visible'\n    },\n    '& $navContent $currentPageShadow': {\n      transitionDelay: '.5s',\n      opacity: 0.03,\n      marginTop: '0'\n    },\n    '& $navContent $innerNavListItem': {\n      transitionDelay: '.5s',\n      opacity: 1,\n      transform: 'translateX(0%)',\n      transition: 'opacity .3s ease, transform .3s ease, color .3s ease'\n    }\n  },\n  navContent: {\n    position: 'fixed',\n    visibility: 'hidden',\n    top: '50%',\n    transform: 'translate(0%, -50%)',\n    width: '100%'\n  },\n  currentPageShadow: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%',\n    transform: 'translate(-50%, -50%)',\n    fontFamily: 'sans-serif',\n    fontSize: '10rem',\n    fontWeight: 800,\n    marginTop: '25px',\n    color: '#fff',\n    opacity: 0,\n    transition: 'all 300ms linear'\n  },\n  innerNav: {\n    position: 'relative',\n    padding: 0,\n    margin: 0,\n    zIndex: 2\n  },\n  innerNavListItem: {\n    opacity: 0,\n    position: 'relative',\n    display: 'block',\n    textAlign: 'center',\n    fontSize: '4rem',\n    lineHeight: '1.05',\n    letterSpacing: '3px',\n    transform: 'translate(0%, 100%)',\n    transition: 'opacity .2s ease, transform .3s ease'\n  },\n  innerNavLink: {\n    position: 'relative',\n    color: theme.palette.common.white,"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\styles.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 191, "end_line": 222, "language": "js", "text": "    position: 'relative',\n    color: theme.palette.common.white,\n    padding: '0 .5rem',\n    margin: '0 1rem',\n    fontSize: '2rem',\n    fontWeight: 600,\n    cursor: 'pointer',\n    textDecoration: 'none',\n    zIndex: 2,\n    '&:after': {\n      content: '\"\"',\n      position: 'absolute',\n      bottom: 0,\n      left: 0,\n      width: '100%',\n      opacity: 0,\n      height: 0,\n      marginTop: '3px',\n      backgroundColor: 'rgba(255,255,255,0.5)',\n      transition: 'all 200ms linear',\n      zIndex: 1\n    },\n    '&:hover:after': {\n      opacity: 1,\n      height: 15\n    }\n  },\n  [theme.breakpoints.down('sm')]: {\n    navIcon: { display: 'block' },\n    navLinks: { display: 'none' }\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\styles.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 221, "end_line": 222, "language": "js", "text": "  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\styles.js", "chunk_id": 0, "subchunk_id": 5, "start_line": 222, "end_line": 222, "language": "js", "text": "});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\components\\UserPopover\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './UserPopover';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\layouts\\PublicLayout\\components\\Navbar\\components\\UserPopover\\UserPopover.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 42, "language": "js", "text": "\nexport default function UserPopover(props) {\n  const [anchorEl, setAnchorEl] = React.useState(null);\n\n  function handleClick(event) {\n    setAnchorEl(event.currentTarget);\n  }\n\n  function handleClose() {\n    setAnchorEl(null);\n  }\n\n  const open = Boolean(anchorEl);\n  const id = open ? 'simple-popover' : undefined;\n\n  return (\n    <>\n      <IconButton aria-describedby={id} onClick={handleClick}>\n        <PersonIcon fontSize=\"large\" />\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center'\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center'\n        }}>\n        {props.children}\n      </Popover>\n    </>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\Account.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 14, "language": "js", "text": "\n// Component styles\nconst styles = theme => ({\n  root: {\n    padding: theme.spacing(4)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\Account.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 23, "end_line": 50, "language": "js", "text": "\n  render() {\n    const { image } = this.state;\n    const { classes, user, uploadImage } = this.props;\n    return (\n      <div className={classes.root}>\n        <Grid container spacing={4}>\n          <Grid item lg={4} md={6} xl={4} xs={12}>\n            <AccountProfile\n              file={image}\n              user={user}\n              onUpload={event => {\n                const file = event.target.files[0];\n                this.setState({ image: file });\n              }}\n            />\n          </Grid>\n          <Grid item lg={8} md={6} xl={8} xs={12}>\n            <AccountDetails\n              file={image}\n              user={user}\n              uploadImage={uploadImage}\n            />\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\Account.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 56, "end_line": 59, "language": "js", "text": "\nconst mapStateToProps = ({ authState }) => ({\n  user: authState.user\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Account';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\components\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 2, "language": "js", "text": "export { default as AccountDetails } from './AccountDetails';\nexport { default as AccountProfile } from './AccountProfile';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\components\\AccountDetails\\AccountDetails.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 24, "end_line": 28, "language": "js", "text": "\n  componentDidMount() {\n    const { name, email, phone } = this.props.user;\n    this.setState({ name, email, phone });\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\components\\AccountDetails\\AccountDetails.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 29, "end_line": 34, "language": "js", "text": "\n  handleFieldChange = (field, value) => {\n    const newState = { ...this.state };\n    newState[field] = value;\n    this.setState(newState);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\components\\AccountDetails\\AccountDetails.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 35, "end_line": 58, "language": "js", "text": "\n  onUpdateUser = async () => {\n    try {\n      const { name, email, phone, password } = this.state;\n      const token = localStorage.getItem('jwtToken');\n      let body = { name, email, phone };\n      if (password) body = { ...body, password };\n      const url = '/users/me';\n      const response = await fetch(url, {\n        method: 'PATCH',\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(body)\n      });\n      if (response.ok) {\n        const user = await response.json();\n        if (this.props.file) this.props.uploadImage(user._id, this.props.file);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\components\\AccountDetails\\AccountDetails.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 59, "end_line": 104, "language": "js", "text": "\n  render() {\n    const { classes, className } = this.props;\n    const { name, phone, email, password } = this.state;\n\n    const rootClassName = classNames(classes.root, className);\n\n    return (\n      <Portlet className={rootClassName}>\n        <PortletHeader>\n          <PortletLabel\n            subtitle=\"The information can be edited\"\n            title=\"Profile\"\n          />\n        </PortletHeader>\n        <PortletContent noPadding>\n          <form autoComplete=\"off\" noValidate>\n            <div className={classes.field}>\n              <TextField\n                className={classes.textField}\n                helperText=\"Please specify the first name\"\n                label=\"FUll Name\"\n                margin=\"dense\"\n                required\n                value={name}\n                variant=\"outlined\"\n                onChange={event =>\n                  this.handleFieldChange('name', event.target.value)\n                }\n              />\n              <TextField\n                className={classes.textField}\n                label=\"Email Address\"\n                margin=\"dense\"\n                required\n                value={email}\n                variant=\"outlined\"\n                onChange={event =>\n                  this.handleFieldChange('email', event.target.value)\n                }\n              />\n            </div>\n            <div className={classes.field}>\n              <TextField\n                className={classes.textField}\n                label=\"Phone Number\""}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\components\\AccountDetails\\AccountDetails.js", "chunk_id": 3, "subchunk_id": 1, "start_line": 103, "end_line": 137, "language": "js", "text": "                className={classes.textField}\n                label=\"Phone Number\"\n                margin=\"dense\"\n                type=\"number\"\n                value={phone}\n                variant=\"outlined\"\n                onChange={event =>\n                  this.handleFieldChange('phone', event.target.value)\n                }\n              />\n              <TextField\n                className={classes.textField}\n                label=\"Password\"\n                margin=\"dense\"\n                type=\"password\"\n                value={password}\n                variant=\"outlined\"\n                onChange={event =>\n                  this.handleFieldChange('password', event.target.value)\n                }\n              />\n            </div>\n          </form>\n        </PortletContent>\n        <PortletFooter className={classes.portletFooter}>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            onClick={this.onUpdateUser}>\n            Save details\n          </Button>\n        </PortletFooter>\n      </Portlet>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\components\\AccountDetails\\AccountDetails.js", "chunk_id": 3, "subchunk_id": 2, "start_line": 136, "end_line": 137, "language": "js", "text": "    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\components\\AccountDetails\\AccountDetails.js", "chunk_id": 3, "subchunk_id": 3, "start_line": 137, "end_line": 137, "language": "js", "text": "  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\components\\AccountDetails\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './AccountDetails';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\components\\AccountDetails\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 17, "language": "js", "text": "export default theme => ({\n  root: {},\n  field: {\n    margin: theme.spacing(3)\n  },\n  textField: {\n    width: '420px',\n    maxWidth: '100%',\n    marginRight: theme.spacing(3)\n  },\n  portletFooter: {\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3),\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\components\\AccountProfile\\AccountProfile.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 17, "end_line": 61, "language": "js", "text": "  render() {\n    const { user, classes, className, file, onUpload } = this.props;\n    const rootClassName = classNames(classes.root, className);\n\n    return (\n      <Portlet className={rootClassName}>\n        <PortletContent>\n          <div className={classes.details}>\n            <div className={classes.info}>\n              <Typography variant=\"h2\">{user.name}</Typography>\n              <Typography className={classes.emailText} variant=\"body1\">\n                {user.email}\n              </Typography>\n              <Typography className={classes.dateText} variant=\"body1\">\n                Join at: {moment(user.createdAt).format('DD/MM/YYYY')}\n              </Typography>\n            </div>\n            <Avatar\n              className={classes.avatar}\n              src={user.imageurl ? user.imageurl : '/images/avatars/avatar.png'}\n            />\n          </div>\n        </PortletContent>\n        <PortletFooter>\n          <input\n            accept=\"image/*\"\n            className={classes.input}\n            id=\"icon-button-file\"\n            type=\"file\"\n            onChange={onUpload}\n          />\n          <label htmlFor=\"icon-button-file\">\n            <Button\n              className={classes.uploadButton}\n              component=\"span\"\n              color=\"primary\"\n              variant=\"text\">\n              Upload picture\n            </Button>\n          </label>\n          <span>{file && file.name}</span>\n        </PortletFooter>\n      </Portlet>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\components\\AccountProfile\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './AccountProfile';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Account\\components\\AccountProfile\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 27, "language": "js", "text": "export default theme => ({\n  root: {},\n  details: {\n    display: 'flex'\n  },\n  emailText: {\n    marginTop: theme.spacing(1),\n    color: theme.palette.text.secondary\n  },\n  dateText: {\n    color: theme.palette.text.secondary\n  },\n  avatar: {\n    marginLeft: 'auto',\n    height: '110px',\n    width: '110px',\n    flexShrink: 0,\n    flexGrow: 0\n  },\n  progressWrapper: {\n    marginTop: theme.spacing(2)\n  },\n  input: { display: 'none' },\n  uploadButton: {\n    marginRight: theme.spacing(2)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\CinemaList.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 14, "end_line": 21, "language": "js", "text": "  constructor(props) {\n    super(props);\n    this.state = {\n      editCinema: null,\n      openEditDialog: false,\n      search: ''\n    };\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\CinemaList.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 22, "end_line": 26, "language": "js", "text": "\n  componentDidMount() {\n    const { cinemas, getCinemas } = this.props;\n    if (!cinemas.length) getCinemas();\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\CinemaList.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 27, "end_line": 30, "language": "js", "text": "\n  openEditDialog = cinema => {\n    this.setState({ openEditDialog: true, editCinema: cinema });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\CinemaList.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 31, "end_line": 34, "language": "js", "text": "\n  CloseEditDialog = () => {\n    this.setState({ openEditDialog: false, editCinema: null });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\CinemaList.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 35, "end_line": 38, "language": "js", "text": "\n  editCinema(cinema) {\n    this.OpenEditDialog(cinema);\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\CinemaList.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 39, "end_line": 80, "language": "js", "text": "\n  render() {\n    const { classes, cinemas } = this.props;\n    const { editCinema, search } = this.state;\n    const filteredCinemas = match(search, cinemas, 'name');\n    return (\n      <div className={classes.root}>\n        <CinemaToolbar\n          search={this.state.search}\n          onChangeSearch={e => this.setState({ search: e.target.value })}\n        />\n        <div className={classes.content}>\n          {filteredCinemas.length === 0 ? (\n            <CircularProgress />\n          ) : (\n            <Grid container spacing={3}>\n              {filteredCinemas.map(cinema => (\n                <Grid\n                  item\n                  key={cinema._id}\n                  lg={4}\n                  md={6}\n                  xs={12}\n                  onClick={() => this.openEditDialog(cinema)}>\n                  <CinemaCard cinema={cinema} />\n                </Grid>\n              ))}\n            </Grid>\n          )}\n        </div>\n        <ResponsiveDialog\n          id=\"Edit-cinema\"\n          open={this.state.openEditDialog}\n          handleClose={() => this.CloseEditDialog()}>\n          <AddCinema\n            editCinema={editCinema}\n            handleClose={() => this.CloseEditDialog()}\n          />\n        </ResponsiveDialog>\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\CinemaList.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 86, "end_line": 89, "language": "js", "text": "\nconst mapStateToProps = ({ cinemaState }) => ({\n  cinemas: cinemaState.cinemas\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './CinemaList';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 20, "language": "js", "text": "export default theme => ({\n  root: {\n    padding: theme.spacing(3)\n  },\n  content: {\n    marginTop: theme.spacing(2)\n  },\n  progressWrapper: {\n    paddingTop: '48px',\n    paddingBottom: '24px',\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  pagination: {\n    marginTop: '24px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 2, "language": "js", "text": "export { default as AddCinema } from './AddCinema';\nexport { default as CinemaToolbar } from './CinemaToolbar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\AddCinema\\AddCinema.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 28, "end_line": 34, "language": "js", "text": "\n  componentDidMount() {\n    if (this.props.editCinema) {\n      const { image, ...rest } = this.props.editCinema;\n      this.setState({ ...rest });\n    }\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\AddCinema\\AddCinema.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 35, "end_line": 40, "language": "js", "text": "\n  handleFieldChange = (field, value) => {\n    const newState = { ...this.state };\n    newState[field] = value;\n    this.setState(newState);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\AddCinema\\AddCinema.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 41, "end_line": 67, "language": "js", "text": "\n  onSubmitAction = async type => {\n    const {\n      getCinemas,\n      createCinemas,\n      updateCinemas,\n      removeCinemas\n    } = this.props;\n    const {\n      _id,\n      name,\n      image,\n      ticketPrice,\n      city,\n      seatsAvailable,\n      seats\n    } = this.state;\n    const cinema = { name, ticketPrice, city, seatsAvailable, seats };\n    let notification = {};\n    type === 'create'\n      ? (notification = await createCinemas(image, cinema))\n      : type === 'update'\n      ? (notification = await updateCinemas(image, cinema, _id))\n      : (notification = await removeCinemas(_id));\n    this.setState({ notification });\n    if (notification && notification.status === 'success') getCinemas();\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\AddCinema\\AddCinema.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 68, "end_line": 76, "language": "js", "text": "\n  handleSeatsChange = (index, value) => {\n    if (value > 10) return;\n    const { seats } = this.state;\n    seats[index] = Array.from({ length: value }, () => 0);\n    this.setState({\n      seats\n    });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\AddCinema\\AddCinema.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 77, "end_line": 82, "language": "js", "text": "\n  onAddSeatRow = () => {\n    this.setState(prevState => ({\n      seats: [...prevState.seats, []]\n    }));\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\AddCinema\\AddCinema.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 83, "end_line": 121, "language": "js", "text": "\n  renderSeatFields = () => {\n    const { seats } = this.state;\n    const { classes } = this.props;\n    return (\n      <>\n        <div className={classes.field}>\n          <Button onClick={() => this.onAddSeatRow()}>\n            <Add /> add Seats\n          </Button>\n        </div>\n        {seats.length > 0 &&\n          seats.map((seat, index) => (\n            <div key={`seat-${index}-${seat.length}`} className={classes.field}>\n              <TextField\n                key={`new-seat-${index}`}\n                className={classes.textField}\n                label={\n                  'Add number of seats for row : ' +\n                  (index + 10).toString(36).toUpperCase()\n                }\n                margin=\"dense\"\n                required\n                value={seat.length}\n                variant=\"outlined\"\n                type=\"number\"\n                inputProps={{\n                  min: 0,\n                  max: 10\n                }}\n                onChange={event =>\n                  this.handleSeatsChange(index, event.target.value)\n                }\n              />\n            </div>\n          ))}\n      </>\n    );\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\AddCinema\\AddCinema.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 122, "end_line": 171, "language": "js", "text": "\n  render() {\n    const { classes, className } = this.props;\n    const {\n      name,\n      image,\n      ticketPrice,\n      city,\n      seatsAvailable,\n      notification\n    } = this.state;\n\n    const rootClassName = classNames(classes.root, className);\n    const mainTitle = this.props.editCinema ? 'Edit Cinema' : 'Add Cinema';\n    const submitButton = this.props.editCinema\n      ? 'Update Cinema'\n      : 'Save Details';\n    const submitAction = this.props.editCinema\n      ? () => this.onSubmitAction('update')\n      : () => this.onSubmitAction('create');\n\n    return (\n      <div className={rootClassName}>\n        <Typography variant=\"h4\" className={classes.title}>\n          {mainTitle}\n        </Typography>\n        <form autoComplete=\"off\" noValidate>\n          <div className={classes.field}>\n            <TextField\n              className={classes.textField}\n              helperText=\"Please specify the cinema name\"\n              label=\"Name\"\n              margin=\"dense\"\n              required\n              value={name}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('name', event.target.value)\n              }\n            />\n\n            <TextField\n              fullWidth\n              className={classes.textField}\n              label=\"City\"\n              margin=\"dense\"\n              required\n              variant=\"outlined\"\n              value={city}\n              onChange={event =>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\AddCinema\\AddCinema.js", "chunk_id": 6, "subchunk_id": 1, "start_line": 170, "end_line": 218, "language": "js", "text": "              value={city}\n              onChange={event =>\n                this.handleFieldChange('city', event.target.value)\n              }\n            />\n          </div>\n          <div className={classes.field}>\n            <FileUpload\n              className={classes.textField}\n              file={image}\n              onUpload={event => {\n                const file = event.target.files[0];\n                this.handleFieldChange('image', file);\n              }}\n            />\n          </div>\n\n          <div className={classes.field}>\n            <TextField\n              className={classes.textField}\n              label=\"Ticket Price\"\n              margin=\"dense\"\n              type=\"number\"\n              value={ticketPrice}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('ticketPrice', event.target.value)\n              }\n            />\n            <TextField\n              className={classes.textField}\n              label=\"Seats Available\"\n              margin=\"dense\"\n              required\n              value={seatsAvailable}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('seatsAvailable', event.target.value)\n              }\n            />\n          </div>\n          {this.renderSeatFields()}\n        </form>\n\n        <Button\n          className={classes.buttonFooter}\n          color=\"primary\"\n          variant=\"contained\"\n          onClick={submitAction}>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\AddCinema\\AddCinema.js", "chunk_id": 6, "subchunk_id": 2, "start_line": 217, "end_line": 250, "language": "js", "text": "          variant=\"contained\"\n          onClick={submitAction}>\n          {submitButton}\n        </Button>\n        {this.props.editCinema && (\n          <Button\n            color=\"secondary\"\n            className={classes.buttonFooter}\n            variant=\"contained\"\n            onClick={() => this.onSubmitAction('remove')}>\n            Delete Cinema\n          </Button>\n        )}\n\n        {notification && notification.status ? (\n          notification.status === 'success' ? (\n            <Typography\n              className={classes.infoMessage}\n              color=\"primary\"\n              variant=\"caption\">\n              {notification.message}\n            </Typography>\n          ) : (\n            <Typography\n              className={classes.infoMessage}\n              color=\"error\"\n              variant=\"caption\">\n              {notification.message}\n            </Typography>\n          )\n        ) : null}\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\AddCinema\\AddCinema.js", "chunk_id": 6, "subchunk_id": 3, "start_line": 249, "end_line": 250, "language": "js", "text": "    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\AddCinema\\AddCinema.js", "chunk_id": 6, "subchunk_id": 4, "start_line": 250, "end_line": 250, "language": "js", "text": "  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\AddCinema\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './AddCinema';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\AddCinema\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 24, "language": "js", "text": "export default theme => ({\n  root: {},\n  title: { marginLeft: theme.spacing(3) },\n  field: {\n    margin: theme.spacing(3),\n    display: 'flex'\n  },\n  textField: {\n    width: '100%',\n    marginRight: theme.spacing(3)\n  },\n  portletFooter: {\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3),\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  buttonFooter: {\n    margin: theme.spacing(3)\n  },\n  infoMessage: {\n    marginLeft: theme.spacing(3)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\CinemaToolbar\\CinemaToolbar.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 14, "end_line": 17, "language": "js", "text": "\n  OpenAddDialog() {\n    this.setState({ openAddDialog: true });\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\CinemaToolbar\\CinemaToolbar.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 18, "end_line": 21, "language": "js", "text": "\n  CloseAddDialog() {\n    this.setState({ openAddDialog: false });\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\CinemaToolbar\\CinemaToolbar.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 22, "end_line": 56, "language": "js", "text": "\n  render() {\n    const { openAddDialog } = this.state;\n    const { classes, className, search, onChangeSearch } = this.props;\n\n    const rootClassName = classNames(classes.root, className);\n\n    return (\n      <Fragment>\n        <div className={rootClassName}>\n          <div className={classes.row}>\n            <SearchInput\n              className={classes.searchInput}\n              placeholder=\"Search cinema\"\n              value={search}\n              onChange={onChangeSearch}\n            />\n            <Button\n              onClick={() => this.OpenAddDialog()}\n              color=\"primary\"\n              size=\"small\"\n              variant=\"outlined\">\n              Add\n            </Button>\n          </div>\n        </div>\n        <ResponsiveDialog\n          id=\"Add-cinema\"\n          open={openAddDialog}\n          handleClose={() => this.CloseAddDialog()}>\n          <AddCinema />\n        </ResponsiveDialog>\n      </Fragment>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\CinemaToolbar\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './CinemaToolbar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\CinemaList\\components\\CinemaToolbar\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 16, "language": "js", "text": "export default theme => ({\n  root: {},\n  row: {\n    height: '42px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: theme.spacing(1)\n  },\n  spacer: {\n    flexGrow: 1\n  },\n  searchInput: {\n    marginRight: theme.spacing(1)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\Dashboard.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 24, "language": "js", "text": "\nconst styles = theme => ({\n  root: {\n    textAlign: 'center',\n    padding: theme.spacing(4)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\Dashboard.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 27, "end_line": 32, "language": "js", "text": "  componentDidMount() {\n    this.props.getUsers();\n    this.props.getCinemas();\n    this.props.getMovies();\n    this.props.getReservations();\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\Dashboard.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 33, "end_line": 58, "language": "js", "text": "\n  getBestMovies = (reservations, movies, total = 5) => {\n    const reservationCounter = reservations.map(reservation => ({\n      movieId: reservation.movieId,\n      count: reservations.filter(r => r.movieId === reservation.movieId).length\n    }));\n\n    const result = [];\n    const map = new Map();\n    for (const item of reservationCounter) {\n      if (!map.has(item.movieId)) {\n        map.set(item.movieId, true); // set any value to Map\n        result.push({\n          movieId: item.movieId,\n          count: item.count\n        });\n      }\n    }\n    return result\n      .sort((a, b) => b.count - a.count)\n      .slice(0, total)\n      .map(res => ({\n        movie: movies.find(movie => movie._id === res.movieId),\n        count: res.count\n      }));\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\Dashboard.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 59, "end_line": 89, "language": "js", "text": "\n  render() {\n    const { classes, users, cinemas, movies, reservations } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <Grid container spacing={4}>\n          <Grid item lg={3} sm={6} xl={3} xs={12}>\n            <TotalUsers users={users.length} />\n          </Grid>\n          <Grid item lg={3} sm={6} xl={3} xs={12}>\n            <TotalCinemas cinemas={cinemas.length} />\n          </Grid>\n          <Grid item lg={3} sm={6} xl={3} xs={12}>\n            <TotalMovies movies={movies.length} />\n          </Grid>\n          <Grid item lg={3} sm={6} xl={3} xs={12}>\n            <TotalReservations reservations={reservations.length} />\n          </Grid>\n          <Grid item lg={8} md={12} xl={9} xs={12}>\n            <BestMovies\n              bestMovies={this.getBestMovies(reservations, movies, 5)}\n            />\n          </Grid>\n          <Grid item lg={4} md={6} xl={3} xs={12}>\n            <UsersByDevice />\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\Dashboard.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 91, "end_line": 102, "language": "js", "text": "\nconst mapStateToProps = ({\n  userState,\n  cinemaState,\n  movieState,\n  reservationState\n}) => ({\n  users: userState.users,\n  cinemas: cinemaState.cinemas,\n  movies: movieState.movies,\n  reservations: reservationState.reservations\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Dashboard';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 6, "language": "js", "text": "export { default as TotalUsers } from './TotalUsers';\nexport { default as TotalCinemas } from './TotalCinemas';\nexport { default as TotalMovies } from './TotalMovies';\nexport { default as TotalReservations } from './TotalReservations';\nexport { default as BestMovies } from './BestMovies';\nexport { default as UsersByDevice } from './UsersByDevice';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\BestMovies\\BestMovies.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 28, "language": "js", "text": "\nconst useStyles = makeStyles(() => ({\n  root: {},\n  chartContainer: {\n    height: 400,\n    position: 'relative'\n  },\n  actions: {\n    justifyContent: 'flex-end'\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\BestMovies\\BestMovies.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 29, "end_line": 74, "language": "js", "text": "\nconst BestMovies = props => {\n  const { className, bestMovies } = props;\n  const classes = useStyles();\n\n  const data = {\n    labels: bestMovies.map(movie => movie.movie.title.toUpperCase()),\n    datasets: [\n      {\n        label: 'This year',\n        backgroundColor: palette.primary.main,\n        data: bestMovies.map(movie => movie.count)\n      },\n      {\n        label: 'Last year',\n        backgroundColor: palette.neutral,\n        data: [11, 20, 12, 29, 30]\n      }\n    ]\n  };\n\n  return (\n    <Card className={classnames(classes.root, className)}>\n      <CardHeader\n        action={\n          <Button size=\"small\" variant=\"text\">\n            Best 5<ArrowDropDownIcon />\n          </Button>\n        }\n        title=\"Best Movies\"\n      />\n      <Divider />\n      <CardContent>\n        <div className={classes.chartContainer}>\n          <Bar data={data} options={options} />\n        </div>\n      </CardContent>\n      <Divider />\n      <CardActions className={classes.actions}>\n        <Button color=\"primary\" size=\"small\" variant=\"text\">\n          Overview <ArrowRightIcon />\n        </Button>\n      </CardActions>\n    </Card>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\BestMovies\\chart.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 64, "language": "js", "text": "import palette from '../../../../../theme/palette';\n\nexport const data = {\n  labels: ['1 Aug', '2 Aug', '3 Aug', '4 Aug', '5 Aug', '6 Aug'],\n  datasets: [\n    {\n      label: 'This year',\n      backgroundColor: palette.primary.main,\n      data: [18, 5, 19, 27, 29, 19, 20]\n    },\n    {\n      label: 'Last year',\n      backgroundColor: palette.neutral,\n      data: [11, 20, 12, 29, 30, 25, 13]\n    }\n  ]\n};\n\nexport const options = {\n  responsive: true,\n  maintainAspectRatio: false,\n  animation: false,\n  legend: { display: false },\n  cornerRadius: 20,\n  tooltips: {\n    enabled: true,\n    mode: 'index',\n    intersect: false,\n    borderWidth: 1,\n    borderColor: palette.divider,\n    backgroundColor: palette.white,\n    titleFontColor: palette.text.primary,\n    bodyFontColor: palette.text.secondary,\n    footerFontColor: palette.text.secondary\n  },\n  layout: { padding: 0 },\n  scales: {\n    xAxes: [\n      {\n        barThickness: 12,\n        maxBarThickness: 10,\n        barPercentage: 0.5,\n        categoryPercentage: 0.5,\n        ticks: {\n          fontColor: palette.text.secondary\n        },\n        gridLines: {\n          display: false,\n          drawBorder: false\n        }\n      }\n    ],\n    yAxes: [\n      {\n        ticks: {\n          fontColor: palette.text.secondary,\n          beginAtZero: true,\n          min: 0\n        },\n        gridLines: {\n          borderDash: [2],\n          borderDashOffset: [2],\n          color: palette.divider,\n          drawBorder: false,"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\BestMovies\\chart.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 63, "end_line": 72, "language": "js", "text": "          color: palette.divider,\n          drawBorder: false,\n          zeroLineBorderDash: [2],\n          zeroLineBorderDashOffset: [2],\n          zeroLineColor: palette.divider\n        }\n      }\n    ]\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\BestMovies\\chart.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 71, "end_line": 72, "language": "js", "text": "  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\BestMovies\\chart.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 72, "end_line": 72, "language": "js", "text": "};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\BestMovies\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './BestMovies';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalCinemas\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './TotalCinemas';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalCinemas\\TotalCinemas.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 41, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: '100%'\n  },\n  content: {\n    alignItems: 'center',\n    display: 'flex'\n  },\n  title: {\n    fontWeight: 700\n  },\n  avatar: {\n    backgroundColor: theme.palette.error.main,\n    height: 56,\n    width: 56\n  },\n  icon: {\n    height: 32,\n    width: 32\n  },\n  difference: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    alignItems: 'center'\n  },\n  differenceIcon: {\n    color: theme.palette.error.dark\n  },\n  differenceValue: {\n    color: theme.palette.error.dark,\n    marginRight: theme.spacing(1)\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalCinemas\\TotalCinemas.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 42, "end_line": 80, "language": "js", "text": "\nconst TotalCinemas = props => {\n  const { className, cinemas } = props;\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classnames(classes.root, className)}>\n      <CardContent>\n        <Grid container justify=\"space-between\">\n          <Grid item>\n            <Typography\n              className={classes.title}\n              color=\"textSecondary\"\n              gutterBottom\n              variant=\"body2\">\n              TOTAL CINEMAS\n            </Typography>\n            <Typography variant=\"h3\">{cinemas}</Typography>\n          </Grid>\n          <Grid item>\n            <Avatar className={classes.avatar}>\n              <TheatersIcon className={classes.icon} />\n            </Avatar>\n          </Grid>\n        </Grid>\n        <div className={classes.difference}>\n          <ArrowDownwardIcon className={classes.differenceIcon} />\n          <Typography className={classes.differenceValue} variant=\"body2\">\n            16%\n          </Typography>\n          <Typography className={classes.caption} variant=\"caption\">\n            Since last month\n          </Typography>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalMovies\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './TotalMovies';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalMovies\\TotalMovies.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 41, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: '100%'\n  },\n  content: {\n    alignItems: 'center',\n    display: 'flex'\n  },\n  title: {\n    fontWeight: 700\n  },\n  avatar: {\n    backgroundColor: theme.palette.error.main,\n    height: 56,\n    width: 56\n  },\n  icon: {\n    height: 32,\n    width: 32\n  },\n  difference: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    alignItems: 'center'\n  },\n  differenceIcon: {\n    color: theme.palette.error.dark\n  },\n  differenceValue: {\n    color: theme.palette.error.dark,\n    marginRight: theme.spacing(1)\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalMovies\\TotalMovies.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 42, "end_line": 80, "language": "js", "text": "\nconst TotalMovies = props => {\n  const { className, movies } = props;\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classnames(classes.root, className)}>\n      <CardContent>\n        <Grid container justify=\"space-between\">\n          <Grid item>\n            <Typography\n              className={classes.title}\n              color=\"textSecondary\"\n              gutterBottom\n              variant=\"body2\">\n              TOTAL MOVIES\n            </Typography>\n            <Typography variant=\"h3\">{movies}</Typography>\n          </Grid>\n          <Grid item>\n            <Avatar className={classes.avatar}>\n              <TheatersIcon className={classes.icon} />\n            </Avatar>\n          </Grid>\n        </Grid>\n        <div className={classes.difference}>\n          <ArrowDownwardIcon className={classes.differenceIcon} />\n          <Typography className={classes.differenceValue} variant=\"body2\">\n            16%\n          </Typography>\n          <Typography className={classes.caption} variant=\"caption\">\n            Since last month\n          </Typography>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalProfit\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './TotalProfit';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalProfit\\TotalProfit.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 31, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: '100%',\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText\n  },\n  content: {\n    alignItems: 'center',\n    display: 'flex'\n  },\n  title: {\n    fontWeight: 700\n  },\n  avatar: {\n    backgroundColor: theme.palette.white,\n    color: theme.palette.primary.main,\n    height: 56,\n    width: 56\n  },\n  icon: {\n    height: 32,\n    width: 32\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalProfit\\TotalProfit.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 32, "end_line": 63, "language": "js", "text": "\nconst TotalProfit = props => {\n  const { className } = props;\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classnames(classes.root, className)}>\n      <CardContent>\n        <Grid container justify=\"space-between\">\n          <Grid item>\n            <Typography\n              className={classes.title}\n              color=\"inherit\"\n              gutterBottom\n              variant=\"body2\">\n              TOTAL PROFIT\n            </Typography>\n            <Typography color=\"inherit\" variant=\"h3\">\n              $23,200\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Avatar className={classes.avatar}>\n              <AttachMoneyIcon className={classes.icon} />\n            </Avatar>\n          </Grid>\n        </Grid>\n      </CardContent>\n    </Card>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalReservations\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './TotalReservations';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalReservations\\TotalReservations.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 31, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: '100%',\n    backgroundColor: theme.palette.primary.main,\n    color: theme.palette.primary.contrastText\n  },\n  content: {\n    alignItems: 'center',\n    display: 'flex'\n  },\n  title: {\n    fontWeight: 700\n  },\n  avatar: {\n    backgroundColor: theme.palette.white,\n    color: theme.palette.primary.main,\n    height: 56,\n    width: 56\n  },\n  icon: {\n    height: 32,\n    width: 32\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalReservations\\TotalReservations.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 32, "end_line": 63, "language": "js", "text": "\nconst TotalReservations = props => {\n  const { className, reservations } = props;\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classnames(classes.root, className)}>\n      <CardContent>\n        <Grid container justify=\"space-between\">\n          <Grid item>\n            <Typography\n              className={classes.title}\n              color=\"inherit\"\n              gutterBottom\n              variant=\"body2\">\n              TOTAL RESERVATIONS\n            </Typography>\n            <Typography color=\"inherit\" variant=\"h3\">\n              {reservations}\n            </Typography>\n          </Grid>\n          <Grid item>\n            <Avatar className={classes.avatar}>\n              <EventIcon className={classes.icon} />\n            </Avatar>\n          </Grid>\n        </Grid>\n      </CardContent>\n    </Card>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalUsers\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './TotalUsers';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalUsers\\TotalUsers.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 41, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: '100%'\n  },\n  content: {\n    alignItems: 'center',\n    display: 'flex'\n  },\n  title: {\n    fontWeight: 700\n  },\n  avatar: {\n    backgroundColor: theme.palette.success.main,\n    height: 56,\n    width: 56\n  },\n  icon: {\n    height: 32,\n    width: 32\n  },\n  difference: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    alignItems: 'center'\n  },\n  differenceIcon: {\n    color: theme.palette.success.dark\n  },\n  differenceValue: {\n    color: theme.palette.success.dark,\n    marginRight: theme.spacing(1)\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\TotalUsers\\TotalUsers.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 42, "end_line": 80, "language": "js", "text": "\nconst TotalUsers = props => {\n  const { className, users } = props;\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classnames(classes.root, className)}>\n      <CardContent>\n        <Grid container justify=\"space-between\">\n          <Grid item>\n            <Typography\n              className={classes.title}\n              color=\"textSecondary\"\n              gutterBottom\n              variant=\"body2\">\n              TOTAL USERS\n            </Typography>\n            <Typography variant=\"h3\">{users}</Typography>\n          </Grid>\n          <Grid item>\n            <Avatar className={classes.avatar}>\n              <PeopleIcon className={classes.icon} />\n            </Avatar>\n          </Grid>\n        </Grid>\n        <div className={classes.difference}>\n          <ArrowUpwardIcon className={classes.differenceIcon} />\n          <Typography className={classes.differenceValue} variant=\"body2\">\n            16%\n          </Typography>\n          <Typography className={classes.caption} variant=\"caption\">\n            Since last month\n          </Typography>\n        </div>\n      </CardContent>\n    </Card>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\UsersByDevice\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './UsersByDevice';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\UsersByDevice\\UsersByDevice.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 39, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  root: {\n    height: '100%'\n  },\n  chartContainer: {\n    position: 'relative',\n    height: '300px'\n  },\n  stats: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  device: {\n    textAlign: 'center',\n    padding: theme.spacing(1)\n  },\n  deviceIcon: {\n    color: theme.palette.icon\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\UsersByDevice\\UsersByDevice.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 40, "end_line": 107, "language": "js", "text": "\nconst UsersByDevice = props => {\n  const { className, ...rest } = props;\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const data = {\n    datasets: [\n      {\n        data: [63, 15, 22],\n        backgroundColor: [\n          theme.palette.primary.main,\n          theme.palette.error.main,\n          theme.palette.warning.main\n        ],\n        borderWidth: 8,\n        borderColor: theme.palette.white,\n        hoverBorderColor: theme.palette.white\n      }\n    ],\n    labels: ['Desktop', 'Tablet', 'Mobile']\n  };\n\n  const options = {\n    legend: {\n      display: false\n    },\n    responsive: true,\n    maintainAspectRatio: false,\n    animation: false,\n    cutoutPercentage: 80,\n    layout: { padding: 0 },\n    tooltips: {\n      enabled: true,\n      mode: 'index',\n      intersect: false,\n      borderWidth: 1,\n      borderColor: theme.palette.divider,\n      backgroundColor: theme.palette.white,\n      titleFontColor: theme.palette.text.primary,\n      bodyFontColor: theme.palette.text.secondary,\n      footerFontColor: theme.palette.text.secondary\n    }\n  };\n\n  const devices = [\n    {\n      title: 'Desktop',\n      value: '63',\n      icon: <LaptopMacIcon />,\n      color: theme.palette.primary.main\n    },\n    {\n      title: 'Tablet',\n      value: '15',\n      icon: <TabletMacIcon />,\n      color: theme.palette.error.main\n    },\n    {\n      title: 'Mobile',\n      value: '23',\n      icon: <PhoneIphoneIcon />,\n      color: theme.palette.warning.main\n    }\n  ];\n\n  return ("}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\UsersByDevice\\UsersByDevice.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 106, "end_line": 136, "language": "js", "text": "\n  return (\n    <Card {...rest} className={classnames(classes.root, className)}>\n      <CardHeader\n        action={\n          <IconButton size=\"small\">\n            <RefreshIcon />\n          </IconButton>\n        }\n        title=\"Users By Device\"\n      />\n      <Divider />\n      <CardContent>\n        <div className={classes.chartContainer}>\n          <Doughnut data={data} options={options} />\n        </div>\n        <div className={classes.stats}>\n          {devices.map(device => (\n            <div className={classes.device} key={device.title}>\n              <span className={classes.deviceIcon}>{device.icon}</span>\n              <Typography variant=\"body1\">{device.title}</Typography>\n              <Typography style={{ color: device.color }} variant=\"h2\">\n                {device.value}%\n              </Typography>\n            </div>\n          ))}\n        </div>\n      </CardContent>\n    </Card>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\UsersByDevice\\UsersByDevice.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 135, "end_line": 136, "language": "js", "text": "  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\Dashboard\\components\\UsersByDevice\\UsersByDevice.js", "chunk_id": 1, "subchunk_id": 3, "start_line": 136, "end_line": 136, "language": "js", "text": "};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './MovieList';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\MovieList.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 15, "end_line": 18, "language": "js", "text": "  componentDidMount() {\n    const { movies, getMovies } = this.props;\n    if (!movies.length) getMovies();\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\MovieList.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 19, "end_line": 46, "language": "js", "text": "\n  renderMovies() {\n    const { classes } = this.props;\n    const movies = match(this.state.search, this.props.movies, 'title');\n\n    if (!movies.length) {\n      return (\n        <div className={classes.progressWrapper}>\n          <CircularProgress />\n        </div>\n      );\n    }\n    return (\n      <Grid container spacing={3}>\n        {movies.map(movie => (\n          <Grid\n            item\n            key={movie._id}\n            lg={4}\n            md={6}\n            xs={12}\n            onClick={() => this.props.onSelectMovie(movie)}>\n            <MovieCard movie={movie} />\n          </Grid>\n        ))}\n      </Grid>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\MovieList.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 47, "end_line": 65, "language": "js", "text": "\n  render() {\n    const { classes, selectedMovie } = this.props;\n    return (\n      <div className={classes.root}>\n        <MovieToolbar\n          search={this.state.search}\n          onChangeSearch={e => this.setState({ search: e.target.value })}\n        />\n        <div className={classes.content}>{this.renderMovies()}</div>\n        <ResponsiveDialog\n          id=\"Edit-movie\"\n          open={Boolean(selectedMovie)}\n          handleClose={() => this.props.onSelectMovie(null)}>\n          <AddMovie edit={selectedMovie} />\n        </ResponsiveDialog>\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\MovieList.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 71, "end_line": 78, "language": "js", "text": "\nconst mapStateToProps = ({ movieState }) => ({\n  movies: movieState.movies,\n  latestMovies: movieState.latestMovies,\n  comingSoon: movieState.comingSoon,\n  nowShowing: movieState.nowShowing,\n  selectedMovie: movieState.selectedMovie\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 20, "language": "js", "text": "export default theme => ({\n  root: {\n    padding: theme.spacing(3)\n  },\n  content: {\n    marginTop: theme.spacing(2)\n  },\n  progressWrapper: {\n    paddingTop: '48px',\n    paddingBottom: '24px',\n    display: 'flex',\n    justifyContent: 'center'\n  },\n  pagination: {\n    marginTop: '24px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-end'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 2, "language": "js", "text": "export { default as MovieCard } from './MovieCard/MovieCard';\nexport { default as MovieToolbar } from './MovieToolbar/MovieToolbar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 34, "end_line": 60, "language": "js", "text": "\n  componentDidMount() {\n    if (this.props.edit) {\n      const {\n        title,\n        language,\n        genre,\n        director,\n        cast,\n        description,\n        duration,\n        releaseDate,\n        endDate\n      } = this.props.edit;\n      this.setState({\n        title,\n        language,\n        genre: genre.split(','),\n        director,\n        cast,\n        description,\n        duration,\n        releaseDate,\n        endDate\n      });\n    }\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 61, "end_line": 67, "language": "js", "text": "\n  componentDidUpdate(prevProps) {\n    if (prevProps.movie !== this.props.movie) {\n      const { title, genre, language } = this.props.movie;\n      this.setState({ title, genre, language });\n    }\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 68, "end_line": 73, "language": "js", "text": "\n  handleChange = e => {\n    this.setState({\n      state: e.target.value\n    });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 74, "end_line": 79, "language": "js", "text": "\n  handleFieldChange = (field, value) => {\n    const newState = { ...this.state };\n    newState[field] = value;\n    this.setState(newState);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 80, "end_line": 85, "language": "js", "text": "\n  onAddMovie = () => {\n    const { image, genre, ...rest } = this.state;\n    const movie = { ...rest, genre: genre.join(',') };\n    this.props.addMovie(image, movie);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 86, "end_line": 91, "language": "js", "text": "\n  onUpdateMovie = () => {\n    const { image, genre, ...rest } = this.state;\n    const movie = { ...rest, genre: genre.join(',') };\n    this.props.updateMovie(this.props.edit._id, movie, image);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 92, "end_line": 93, "language": "js", "text": "\n  onRemoveMovie = () => this.props.removeMovie(this.props.edit._id);"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 94, "end_line": 145, "language": "js", "text": "\n  render() {\n    const { classes, className } = this.props;\n    const {\n      title,\n      image,\n      genre,\n      language,\n      duration,\n      description,\n      director,\n      cast,\n      releaseDate,\n      endDate\n    } = this.state;\n\n    const rootClassName = classNames(classes.root, className);\n    const subtitle = this.props.edit ? 'Edit Movie' : 'Add Movie';\n    const submitButton = this.props.edit ? 'Update Movie' : 'Save Details';\n    const submitAction = this.props.edit\n      ? () => this.onUpdateMovie()\n      : () => this.onAddMovie();\n\n    return (\n      <div className={rootClassName}>\n        <Typography variant=\"h4\" className={classes.title}>\n          {subtitle}\n        </Typography>\n        <form autoComplete=\"off\" noValidate>\n          <div className={classes.field}>\n            <TextField\n              className={classes.textField}\n              helperText=\"Please specify the title\"\n              label=\"Title\"\n              margin=\"dense\"\n              required\n              value={title}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('title', event.target.value)\n              }\n            />\n          </div>\n          <div className={classes.field}>\n            <Select\n              multiple\n              displayEmpty\n              className={classes.textField}\n              label=\"Genre\"\n              margin=\"dense\"\n              required\n              value={genre}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 7, "subchunk_id": 1, "start_line": 144, "end_line": 187, "language": "js", "text": "              required\n              value={genre}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('genre', event.target.value)\n              }>\n              {genreData.map((genreItem, index) => (\n                <MenuItem key={genreItem + '-' + index} value={genreItem}>\n                  {genreItem}\n                </MenuItem>\n              ))}\n            </Select>\n          </div>\n          <div className={classes.field}>\n            <TextField\n              fullWidth\n              multiline\n              className={classes.textField}\n              label=\"Description\"\n              margin=\"dense\"\n              required\n              variant=\"outlined\"\n              value={description}\n              onChange={event =>\n                this.handleFieldChange('description', event.target.value)\n              }\n            />\n          </div>\n          <div className={classes.field}>\n            <TextField\n              select\n              className={classes.textField}\n              label=\"Language\"\n              margin=\"dense\"\n              required\n              value={language}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('language', event.target.value)\n              }>\n              {languageData.map((langItem, index) => (\n                <MenuItem key={langItem + '-' + index} value={langItem}>\n                  {langItem}\n                </MenuItem>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 7, "subchunk_id": 2, "start_line": 186, "end_line": 232, "language": "js", "text": "                  {langItem}\n                </MenuItem>\n              ))}\n            </TextField>\n\n            <TextField\n              className={classes.textField}\n              label=\"Duration\"\n              margin=\"dense\"\n              type=\"number\"\n              value={duration}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('duration', event.target.value)\n              }\n            />\n          </div>\n          <div className={classes.field}>\n            <TextField\n              className={classes.textField}\n              label=\"Director\"\n              margin=\"dense\"\n              required\n              value={director}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('director', event.target.value)\n              }\n            />\n            <TextField\n              className={classes.textField}\n              label=\"Cast\"\n              margin=\"dense\"\n              required\n              value={cast}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('cast', event.target.value)\n              }\n            />\n          </div>\n          <div className={classes.field}>\n            <MuiPickersUtilsProvider utils={MomentUtils}>\n              <KeyboardDatePicker\n                className={classes.textField}\n                inputVariant=\"outlined\"\n                margin=\"normal\""}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 7, "subchunk_id": 3, "start_line": 231, "end_line": 277, "language": "js", "text": "                inputVariant=\"outlined\"\n                margin=\"normal\"\n                id=\"release-date\"\n                label=\"Release Date\"\n                value={releaseDate}\n                onChange={date =>\n                  this.handleFieldChange('releaseDate', date._d)\n                }\n                KeyboardButtonProps={{\n                  'aria-label': 'change date'\n                }}\n              />\n\n              <KeyboardDatePicker\n                className={classes.textField}\n                inputVariant=\"outlined\"\n                margin=\"normal\"\n                id=\"end-date\"\n                label=\"End Date\"\n                value={endDate}\n                onChange={date => this.handleFieldChange('endDate', date._d)}\n                KeyboardButtonProps={{\n                  'aria-label': 'change date'\n                }}\n              />\n            </MuiPickersUtilsProvider>\n          </div>\n          <div className={classes.field}>\n            <FileUpload\n              className={classes.upload}\n              file={image}\n              onUpload={event => {\n                const file = event.target.files[0];\n                this.handleFieldChange('image', file);\n              }}\n            />\n          </div>\n        </form>\n\n        <Button\n          className={classes.buttonFooter}\n          color=\"primary\"\n          variant=\"contained\"\n          onClick={submitAction}>\n          {submitButton}\n        </Button>\n        {this.props.edit && ("}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 7, "subchunk_id": 4, "start_line": 276, "end_line": 288, "language": "js", "text": "        </Button>\n        {this.props.edit && (\n          <Button\n            color=\"secondary\"\n            className={classes.buttonFooter}\n            variant=\"contained\"\n            onClick={this.onRemoveMovie}>\n            Delete Movie\n          </Button>\n        )}\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 7, "subchunk_id": 5, "start_line": 287, "end_line": 288, "language": "js", "text": "    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 7, "subchunk_id": 6, "start_line": 288, "end_line": 288, "language": "js", "text": "  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\AddMovie.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 296, "end_line": 299, "language": "js", "text": "\nconst mapStateToProps = ({ movieState }) => ({\n  movies: movieState.movies\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\AddMovie\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 29, "language": "js", "text": "export default theme => ({\n  root: {},\n  title: { marginLeft: theme.spacing(3) },\n  field: {\n    margin: theme.spacing(3),\n    display: 'flex'\n  },\n  textField: {\n    textTransform: 'capitalize',\n    width: '100%',\n    marginRight: theme.spacing(3)\n  },\n  upload: {\n    width: '100%',\n    marginTop: theme.spacing(2)\n  },\n  portletFooter: {\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3),\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  buttonFooter: {\n    margin: theme.spacing(3)\n  },\n  infoMessage: {\n    marginLeft: theme.spacing(3)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\MovieCard\\MovieCard.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 57, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  root: {\n    maxWidth: '100%',\n    paddingBottom: theme.spacing(2)\n  },\n  imageWrapper: {\n    height: '200px',\n    margin: '0 auto',\n    overflow: 'hidden',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n    'object-fit': 'cover'\n  },\n  details: { padding: theme.spacing(3) },\n  title: {\n    fontSize: '18px',\n    lineHeight: '21px',\n    marginTop: theme.spacing(2),\n    textTransform: 'capitalize'\n  },\n  description: {\n    lineHeight: '16px',\n    height: theme.spacing(4),\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    color: theme.palette.text.secondary,\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(2)\n  },\n  stats: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingTop: theme.spacing(1),\n    paddingLeft: theme.spacing(3)\n  },\n  updateIcon: {\n    color: theme.palette.text.secondary\n  },\n  updateText: {\n    marginLeft: theme.spacing(1),\n    color: theme.palette.text.secondary\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\MovieCard\\MovieCard.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 58, "end_line": 85, "language": "js", "text": "\nfunction MovieCard(props) {\n  const classes = useStyles(props);\n  const { className, movie } = props;\n\n  const rootClassName = classNames(classes.root, className);\n  return (\n    <Paper className={rootClassName}>\n      <div className={classes.imageWrapper}>\n        <img alt=\"movie\" className={classes.image} src={movie.image} />\n      </div>\n      <div className={classes.details}>\n        <Typography className={classes.title} variant=\"h4\">\n          {movie.title}\n        </Typography>\n        <Typography className={classes.description} variant=\"body1\">\n          {movie.description}\n        </Typography>\n      </div>\n      <div className={classes.stats}>\n        <AccessTimeIcon className={classes.updateIcon} />\n        <Typography className={classes.updateText} variant=\"body2\">\n          {movie.duration} minutes\n        </Typography>\n      </div>\n    </Paper>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\MovieToolbar\\MovieToolbar.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 24, "end_line": 27, "language": "js", "text": "\n  OpenAddDialog() {\n    this.setState({ openAddDialog: true });\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\MovieToolbar\\MovieToolbar.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 28, "end_line": 31, "language": "js", "text": "\n  CloseAddDialog() {\n    this.setState({ openAddDialog: false });\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\MovieToolbar\\MovieToolbar.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 32, "end_line": 66, "language": "js", "text": "\n  render() {\n    const { openAddDialog } = this.state;\n    const { classes, className, search, onChangeSearch } = this.props;\n\n    const rootClassName = classNames(classes.root, className);\n\n    return (\n      <Fragment>\n        <div className={rootClassName}>\n          <div className={classes.row}>\n            <SearchInput\n              className={classes.searchInput}\n              placeholder=\"Search movie\"\n              value={search}\n              onChange={onChangeSearch}\n            />\n            <Button\n              onClick={() => this.OpenAddDialog()}\n              color=\"primary\"\n              size=\"small\"\n              variant=\"outlined\">\n              Add\n            </Button>\n          </div>\n        </div>\n        <ResponsiveDialog\n          id=\"Add-movie\"\n          open={openAddDialog}\n          handleClose={() => this.CloseAddDialog()}>\n          <AddMovie />\n        </ResponsiveDialog>\n      </Fragment>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\MovieList\\components\\MovieToolbar\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 16, "language": "js", "text": "export default theme => ({\n  root: {},\n  row: {\n    height: '42px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginTop: theme.spacing(1)\n  },\n  spacer: {\n    flexGrow: 1\n  },\n  searchInput: {\n    marginRight: theme.spacing(1)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './ReservationList';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\ReservationList.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 32, "language": "js", "text": "\n  componentDidMount() {\n    const {\n      reservations,\n      movies,\n      cinemas,\n      getReservations,\n      getMovies,\n      getCinemas\n    } = this.props;\n\n    if (!reservations.length) getReservations();\n    if (!movies.length) getMovies();\n    if (!cinemas.length) getCinemas();\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\ReservationList.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 33, "end_line": 35, "language": "js", "text": "\n  onChangeMode = () =>\n    this.setState(({ mode }) => ({ mode: mode === 'grid' ? 'list' : 'grid' }));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\ReservationList.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 36, "end_line": 37, "language": "js", "text": "\n  onChangeSearch = e => this.setState({ search: e.target.value });"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\ReservationList.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 38, "end_line": 75, "language": "js", "text": "\n  render() {\n    const { mode, search } = this.state;\n    const { classes, reservations, movies, cinemas } = this.props;\n\n    const filteredReservations = match(search, reservations, 'phone');\n\n    return (\n      <div className={classes.root}>\n        <ReservationsToolbar\n          reservations={filteredReservations}\n          search={search}\n          onChangeSearch={this.onChangeSearch}\n          mode={mode}\n          onChangeMode={this.onChangeMode}\n        />\n        <div className={classes.content}>\n          {!filteredReservations.length ? (\n            <div className={classes.progressWrapper}>\n              <CircularProgress />\n            </div>\n          ) : mode === 'list' ? (\n            <ReservationsTable\n              reservations={filteredReservations}\n              movies={movies}\n              cinemas={cinemas}\n            />\n          ) : (\n            <ReservationsCalendar\n              reservations={filteredReservations}\n              movies={movies}\n              cinemas={cinemas}\n            />\n          )}\n        </div>\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\ReservationList.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 77, "end_line": 82, "language": "js", "text": "\nconst mapStateToProps = ({ reservationState, movieState, cinemaState }) => ({\n  reservations: reservationState.reservations,\n  movies: movieState.movies,\n  cinemas: cinemaState.cinemas\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 14, "language": "js", "text": "export default theme => ({\n  root: {\n    padding: theme.spacing(3)\n  },\n  content: {\n    marginTop: theme.spacing(2)\n  },\n  progressWrapper: {\n    paddingTop: '48px',\n    paddingBottom: '24px',\n    display: 'flex',\n    justifyContent: 'center'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 2, "language": "js", "text": "export { default as ReservationsTable } from './ReservationsTable';\nexport { default as ReservationsToolbar } from './ReservationsToolbar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsCalendar\\ReservationsCalendar.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 13, "language": "js", "text": "  onFindAttr = (id, list, attr) => {\n    const item = list.find(item => item._id === id);\n    return item ? item[attr] : `Not ${attr} Found`;\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsCalendar\\ReservationsCalendar.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 14, "end_line": 42, "language": "js", "text": "\n  render() {\n    const { reservations, cinemas, movies } = this.props;\n\n    const events = reservations.map(reservation => ({\n      title: `Movie: ${this.onFindAttr(\n        reservation.movieId,\n        movies,\n        'title'\n      )}-Cinema: ${this.onFindAttr(reservation.cinemaId, cinemas, 'name')}`,\n      start: reservation.date,\n      // startTime: reservation.startAt,\n      // end: reservation.date,\n      url: `/movie/${reservation.movieId}`\n    }));\n\n    return (\n      <FullCalendar\n        defaultView=\"dayGridMonth\"\n        header={{\n          left: 'prev,next today',\n          center: 'title',\n          right: 'dayGridMonth,timeGridWeek,timeGridDay,listWeek'\n        }}\n        plugins={[dayGridPlugin, timeGridPlugin, interactionPlugin]}\n        events={events}\n      />\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsTable\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './ReservationTable';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsTable\\ReservationTable.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 37, "end_line": 37, "language": "js", "text": "    onSelect: () => {},"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsTable\\ReservationTable.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 38, "end_line": 38, "language": "js", "text": "    onShowDetails: () => {}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsTable\\ReservationTable.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 40, "end_line": 43, "language": "js", "text": "\n  handleChangePage = (event, page) => {\n    this.setState({ page });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsTable\\ReservationTable.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 44, "end_line": 47, "language": "js", "text": "\n  handleChangeRowsPerPage = event => {\n    this.setState({ rowsPerPage: event.target.value });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsTable\\ReservationTable.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 48, "end_line": 52, "language": "js", "text": "\n  onFindAttr = (id, list, attr) => {\n    const item = list.find(item => item._id === id);\n    return item ? item[attr] : `Not ${attr} Found`;\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsTable\\ReservationTable.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 53, "end_line": 87, "language": "js", "text": "\n  render() {\n    const { classes, className, reservations, movies, cinemas } = this.props;\n    const { rowsPerPage, page } = this.state;\n    const rootClassName = classNames(classes.root, className);\n\n    return (\n      <Portlet className={rootClassName}>\n        <PortletContent noPadding>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"left\">User</TableCell>\n                <TableCell align=\"left\">Phone</TableCell>\n                <TableCell align=\"left\">Start At</TableCell>\n                <TableCell align=\"left\">Movie</TableCell>\n                <TableCell align=\"left\">Cinema</TableCell>\n                <TableCell align=\"left\">Ticket Price</TableCell>\n                <TableCell align=\"left\">Total</TableCell>\n                <TableCell align=\"left\">Checkin</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {reservations\n                .sort((a, b) => new Date(b.date) - new Date(a.date))\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map(reservation => (\n                  <TableRow\n                    className={classes.tableRow}\n                    hover\n                    key={reservation._id}>\n                    <TableCell className={classes.tableCell}>\n                      {reservation.username}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsTable\\ReservationTable.js", "chunk_id": 5, "subchunk_id": 1, "start_line": 86, "end_line": 121, "language": "js", "text": "                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {reservation.phone}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {reservation.startAt}\n                    </TableCell>\n\n                    <TableCell className={classes.tableCell}>\n                      {this.onFindAttr(reservation.movieId, movies, 'title')}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {this.onFindAttr(reservation.cinemaId, cinemas, 'name')}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {reservation.ticketPrice}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {reservation.total}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {reservation.checkin ? 'yes' : 'no'}\n                    </TableCell>\n                  </TableRow>\n                ))}\n            </TableBody>\n          </Table>\n          <TablePagination\n            backIconButtonProps={{\n              'aria-label': 'Previous Page'\n            }}\n            component=\"div\"\n            count={reservations.length}\n            nextIconButtonProps={{\n              'aria-label': 'Next Page'\n            }}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsTable\\ReservationTable.js", "chunk_id": 5, "subchunk_id": 2, "start_line": 120, "end_line": 131, "language": "js", "text": "              'aria-label': 'Next Page'\n            }}\n            onChangePage={this.handleChangePage}\n            onChangeRowsPerPage={this.handleChangeRowsPerPage}\n            page={page}\n            rowsPerPage={rowsPerPage}\n            rowsPerPageOptions={[5, 10, 25]}\n          />\n        </PortletContent>\n      </Portlet>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsTable\\ReservationTable.js", "chunk_id": 5, "subchunk_id": 3, "start_line": 130, "end_line": 131, "language": "js", "text": "    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsTable\\ReservationTable.js", "chunk_id": 5, "subchunk_id": 4, "start_line": 131, "end_line": 131, "language": "js", "text": "  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsTable\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 27, "language": "js", "text": "export default theme => ({\n  root: {},\n  tableRow: {\n    height: '64px'\n  },\n  tableCell: {\n    whiteSpace: 'nowrap'\n  },\n  tableCellInner: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  avatar: {\n    backgroundColor: theme.palette.primary.main,\n    display: 'inline-flex',\n    fontSize: '14px',\n    fontWeight: 500,\n    height: '36px',\n    width: '36px'\n  },\n  nameText: {\n    display: 'inline-block',\n    marginLeft: theme.spacing(2),\n    fontWeight: 500,\n    cursor: 'pointer'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsToolbar\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 14, "end_line": 39, "language": "js", "text": "\n  render() {\n    const {\n      classes,\n      className,\n      search,\n      mode,\n      onChangeSearch,\n      onChangeMode\n    } = this.props;\n    const rootClassName = classNames(classes.root, className);\n\n    return (\n      <div className={rootClassName}>\n        <div className={classes.row}>\n          <SearchInput\n            className={classes.searchInput}\n            placeholder=\"Search reservation by Phone\"\n            value={search}\n            onChange={onChangeSearch}\n          />\n          <DisplayMode mode={mode} onChange={onChangeMode} />\n        </div>\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ReservationList\\components\\ReservationsToolbar\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 13, "language": "js", "text": "export default theme => ({\n  root: {},\n  row: {\n    height: '42px',\n    display: 'flex',\n    alignItems: 'center',\n    marginTop: theme.spacing(1),\n    justifyContent: 'space-between'\n  },\n  searchInput: {\n    marginRight: theme.spacing(1)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './ShowtimeList';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\ShowtimeList.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 21, "end_line": 25, "language": "js", "text": "\n  componentDidMount() {\n    const { showtimes, getShowtimes } = this.props;\n    if (!showtimes.length) getShowtimes();\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\ShowtimeList.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 26, "end_line": 30, "language": "js", "text": "\n  handleDeleteShowtime = () => {\n    const { selectedShowtimes, deleteShowtime } = this.props;\n    selectedShowtimes.forEach(element => deleteShowtime(element));\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\ShowtimeList.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 31, "end_line": 75, "language": "js", "text": "\n  render() {\n    const {\n      classes,\n      showtimes,\n      selectedShowtimes,\n      openDialog,\n      toggleDialog,\n      selectShowtime,\n      selectAllShowtimes\n    } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <ShowtimesToolbar\n          showtimes={showtimes}\n          toggleDialog={toggleDialog}\n          selectedShowtimes={selectedShowtimes}\n          deleteShowtime={this.handleDeleteShowtime}\n        />\n        <div className={classes.content}>\n          {!showtimes.length ? (\n            <Typography variant=\"h6\">There are no showtimes</Typography>\n          ) : (\n            <ShowtimesTable\n              onSelectShowtime={selectShowtime}\n              selectedShowtimes={selectedShowtimes}\n              selectAllShowtimes={selectAllShowtimes}\n              showtimes={showtimes}\n            />\n          )}\n        </div>\n        <ResponsiveDialog\n          id=\"Add-showtime\"\n          open={openDialog}\n          handleClose={() => toggleDialog()}>\n          <AddShowtime\n            selectedShowtime={showtimes.find(\n              showtime => showtime._id === selectedShowtimes[0]\n            )}\n          />\n        </ResponsiveDialog>\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\ShowtimeList.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 77, "end_line": 82, "language": "js", "text": "\nconst mapStateToProps = ({ showtimeState }) => ({\n  openDialog: showtimeState.openDialog,\n  showtimes: showtimeState.showtimes,\n  selectedShowtimes: showtimeState.selectedShowtimes\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 14, "language": "js", "text": "export default theme => ({\n  root: {\n    padding: theme.spacing(3)\n  },\n  content: {\n    marginTop: theme.spacing(2)\n  },\n  progressWrapper: {\n    paddingTop: '48px',\n    paddingBottom: '24px',\n    display: 'flex',\n    justifyContent: 'center'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "export { default as AddShowtime } from './AddShowtime';\nexport { default as ShowtimesTable } from './ShowtimesTable';\nexport { default as ShowtimesToolbar } from './ShowtimesToolbar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\AddShowtime.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 24, "end_line": 42, "language": "js", "text": "\n  componentDidMount() {\n    if (this.props.selectedShowtime) {\n      const {\n        startAt,\n        startDate,\n        endDate,\n        movieId,\n        cinemaId\n      } = this.props.selectedShowtime;\n      this.setState({\n        startAt,\n        startDate,\n        endDate,\n        movieId,\n        cinemaId\n      });\n    }\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\AddShowtime.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 43, "end_line": 48, "language": "js", "text": "\n  handleChange = e => {\n    this.setState({\n      state: e.target.value\n    });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\AddShowtime.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 49, "end_line": 54, "language": "js", "text": "\n  handleFieldChange = (field, value) => {\n    const newState = { ...this.state };\n    newState[field] = value;\n    this.setState(newState);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\AddShowtime.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 55, "end_line": 66, "language": "js", "text": "\n  onAddShowtime = () => {\n    const { startAt, startDate, endDate, movieId, cinemaId } = this.state;\n    const showtime = {\n      startAt,\n      startDate,\n      endDate,\n      movieId,\n      cinemaId\n    };\n    this.props.addShowtime(showtime);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\AddShowtime.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 67, "end_line": 78, "language": "js", "text": "\n  onUpdateShowtime = () => {\n    const { startAt, startDate, endDate, movieId, cinemaId } = this.state;\n    const showtime = {\n      startAt,\n      startDate,\n      endDate,\n      movieId,\n      cinemaId\n    };\n    this.props.updateShowtime(showtime, this.props.selectedShowtime._id);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\AddShowtime.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 79, "end_line": 86, "language": "js", "text": "\n  onFilterMinDate = () => {\n    const { nowShowing } = this.props;\n    const { movieId } = this.state;\n    const selectedMovie = nowShowing.find(movie => movie._id === movieId);\n    if (selectedMovie) return selectedMovie.startDate;\n    return new Date();\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\AddShowtime.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 87, "end_line": 94, "language": "js", "text": "\n  onFilterMaxDate = () => {\n    const { nowShowing } = this.props;\n    const { movieId } = this.state;\n    const selectedMovie = nowShowing.find(movie => movie._id === movieId);\n    if (selectedMovie) return new Date(selectedMovie.endDate);\n    return false;\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\AddShowtime.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 95, "end_line": 138, "language": "js", "text": "\n  render() {\n    const { nowShowing, cinemas, classes, className } = this.props;\n    const { startAt, startDate, endDate, movieId, cinemaId } = this.state;\n\n    const rootClassName = classNames(classes.root, className);\n    const title = this.props.selectedShowtime\n      ? 'Edit Showtime'\n      : 'Add Showtime';\n    const submitButton = this.props.selectedShowtime\n      ? 'Update Showtime'\n      : 'Save Details';\n    const submitAction = this.props.selectedShowtime\n      ? () => this.onUpdateShowtime()\n      : () => this.onAddShowtime();\n\n    return (\n      <div className={rootClassName}>\n        <Typography variant=\"h4\" className={classes.title}>\n          {title}\n        </Typography>\n        <form autoComplete=\"off\" noValidate>\n          <div className={classes.field}>\n            <TextField\n              fullWidth\n              select\n              className={classes.textField}\n              helperText=\"Please specify the Time\"\n              label=\"Time\"\n              margin=\"dense\"\n              required\n              value={startAt}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('startAt', event.target.value)\n              }>\n              {['18:00', '19:00', '20:00', '21:00', ' 22:00', '23:00'].map(\n                time => (\n                  <MenuItem key={`time-${time}`} value={time}>\n                    {time}\n                  </MenuItem>\n                )\n              )}\n            </TextField>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\AddShowtime.js", "chunk_id": 7, "subchunk_id": 1, "start_line": 137, "end_line": 183, "language": "js", "text": "              )}\n            </TextField>\n          </div>\n          <div className={classes.field}>\n            <TextField\n              fullWidth\n              select\n              className={classes.textField}\n              label=\"Movie\"\n              margin=\"dense\"\n              required\n              value={movieId}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('movieId', event.target.value)\n              }>\n              {nowShowing.map(movie => (\n                <MenuItem key={movie._id} value={movie._id}>\n                  {movie.title}\n                </MenuItem>\n              ))}\n            </TextField>\n\n            <TextField\n              fullWidth\n              select\n              className={classes.textField}\n              label=\"Cinema\"\n              margin=\"dense\"\n              required\n              value={cinemaId}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('cinemaId', event.target.value)\n              }>\n              {cinemas.map(cinema => (\n                <MenuItem key={cinema._id} value={cinema._id}>\n                  {cinema.name}\n                </MenuItem>\n              ))}\n            </TextField>\n          </div>\n\n          <div className={classes.field}>\n            <MuiPickersUtilsProvider utils={MomentUtils}>\n              <KeyboardDatePicker\n                className={classes.textField}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\AddShowtime.js", "chunk_id": 7, "subchunk_id": 2, "start_line": 182, "end_line": 224, "language": "js", "text": "              <KeyboardDatePicker\n                className={classes.textField}\n                inputVariant=\"outlined\"\n                margin=\"normal\"\n                id=\"start-date\"\n                label=\"Start Date\"\n                minDate={new Date()}\n                maxDate={this.onFilterMaxDate()}\n                value={startDate}\n                onChange={date => this.handleFieldChange('startDate', date._d)}\n                KeyboardButtonProps={{\n                  'aria-label': 'change date'\n                }}\n              />\n\n              <KeyboardDatePicker\n                className={classes.textField}\n                inputVariant=\"outlined\"\n                margin=\"normal\"\n                id=\"end-date\"\n                label=\"End Date\"\n                minDate={new Date(startDate)}\n                maxDate={this.onFilterMaxDate()}\n                value={endDate}\n                onChange={date => this.handleFieldChange('endDate', date._d)}\n                KeyboardButtonProps={{\n                  'aria-label': 'change date'\n                }}\n              />\n            </MuiPickersUtilsProvider>\n          </div>\n        </form>\n\n        <Button\n          className={classes.buttonFooter}\n          color=\"primary\"\n          variant=\"contained\"\n          onClick={submitAction}>\n          {submitButton}\n        </Button>\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\AddShowtime.js", "chunk_id": 7, "subchunk_id": 3, "start_line": 223, "end_line": 224, "language": "js", "text": "    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\AddShowtime.js", "chunk_id": 7, "subchunk_id": 4, "start_line": 224, "end_line": 224, "language": "js", "text": "  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\AddShowtime.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 231, "end_line": 236, "language": "js", "text": "\nconst mapStateToProps = ({ movieState, cinemaState }) => ({\n  movies: movieState.movies,\n  nowShowing: movieState.nowShowing,\n  cinemas: cinemaState.cinemas\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './AddShowtime';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\AddShowtime\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 24, "language": "js", "text": "export default theme => ({\n  root: {},\n  title: { marginLeft: theme.spacing(3) },\n  field: {\n    margin: theme.spacing(3),\n    display: 'flex'\n  },\n  textField: {\n    width: '100%',\n    marginRight: theme.spacing(3)\n  },\n  portletFooter: {\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3),\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  buttonFooter: {\n    margin: theme.spacing(3)\n  },\n  infoMessage: {\n    marginLeft: theme.spacing(3)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesTable\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './ShowtimesTable';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesTable\\ShowtimesTable.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 36, "end_line": 36, "language": "js", "text": "    onSelect: () => {},"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesTable\\ShowtimesTable.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 37, "end_line": 37, "language": "js", "text": "    onShowDetails: () => {}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesTable\\ShowtimesTable.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 39, "end_line": 42, "language": "js", "text": "\n  handleChangePage = (event, page) => {\n    this.setState({ page });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesTable\\ShowtimesTable.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 43, "end_line": 46, "language": "js", "text": "\n  handleChangeRowsPerPage = event => {\n    this.setState({ rowsPerPage: event.target.value });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesTable\\ShowtimesTable.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 47, "end_line": 91, "language": "js", "text": "\n  render() {\n    const {\n      classes,\n      className,\n      showtimes,\n      onSelectShowtime,\n      selectedShowtimes,\n      selectAllShowtimes\n    } = this.props;\n    const { rowsPerPage, page } = this.state;\n\n    const rootClassName = classNames(classes.root, className);\n    return (\n      <Portlet className={rootClassName}>\n        <PortletContent noPadding>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"left\">\n                  <Checkbox\n                    checked={selectedShowtimes.length === showtimes.length}\n                    color=\"primary\"\n                    indeterminate={\n                      selectedShowtimes.length > 0 &&\n                      selectedShowtimes.length < showtimes.length\n                    }\n                    onChange={selectAllShowtimes}\n                  />\n                  ID\n                </TableCell>\n                <TableCell align=\"left\">Movie</TableCell>\n                <TableCell align=\"left\">Cinema</TableCell>\n                <TableCell align=\"left\">Start Date</TableCell>\n                <TableCell align=\"left\">End Date</TableCell>\n                <TableCell align=\"left\">Time</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {showtimes\n                .filter(showtime => {\n                  return showtime;\n                })\n                .slice(0, rowsPerPage)\n                .map(showtime => ("}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesTable\\ShowtimesTable.js", "chunk_id": 4, "subchunk_id": 1, "start_line": 90, "end_line": 122, "language": "js", "text": "                .slice(0, rowsPerPage)\n                .map(showtime => (\n                  <TableRow\n                    className={classes.tableRow}\n                    hover\n                    key={showtime._id}\n                    selected={selectedShowtimes.indexOf(showtime._id) !== -1}>\n                    <TableCell className={classes.tableCell}>\n                      <div className={classes.tableCellInner}>\n                        <Checkbox\n                          checked={\n                            selectedShowtimes.indexOf(showtime._id) !== -1\n                          }\n                          color=\"primary\"\n                          onChange={() => onSelectShowtime(showtime._id)}\n                          value=\"true\"\n                        />\n                        <Typography\n                          className={classes.nameText}\n                          variant=\"body1\">\n                          {showtime._id}\n                        </Typography>\n                      </div>\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {showtime.movieId}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {showtime.cinemaId}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {moment(showtime.startDate).format('DD/MM/YYYY')}\n                    </TableCell>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesTable\\ShowtimesTable.js", "chunk_id": 4, "subchunk_id": 2, "start_line": 121, "end_line": 151, "language": "js", "text": "                      {moment(showtime.startDate).format('DD/MM/YYYY')}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {moment(showtime.endDate).format('DD/MM/YYYY')}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {showtime.startAt}\n                    </TableCell>\n                  </TableRow>\n                ))}\n            </TableBody>\n          </Table>\n          <TablePagination\n            backIconButtonProps={{\n              'aria-label': 'Previous Page'\n            }}\n            component=\"div\"\n            count={showtimes.length}\n            nextIconButtonProps={{\n              'aria-label': 'Next Page'\n            }}\n            onChangePage={this.handleChangePage}\n            onChangeRowsPerPage={this.handleChangeRowsPerPage}\n            page={page}\n            rowsPerPage={rowsPerPage}\n            rowsPerPageOptions={[5, 10, 25]}\n          />\n        </PortletContent>\n      </Portlet>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesTable\\ShowtimesTable.js", "chunk_id": 4, "subchunk_id": 3, "start_line": 150, "end_line": 151, "language": "js", "text": "    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesTable\\ShowtimesTable.js", "chunk_id": 4, "subchunk_id": 4, "start_line": 151, "end_line": 151, "language": "js", "text": "  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesTable\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 27, "language": "js", "text": "export default theme => ({\n  root: { color: theme.palette.common.contrastText },\n  tableRow: {\n    height: '64px'\n  },\n  tableCell: {\n    whiteSpace: 'nowrap'\n  },\n  tableCellInner: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  avatar: {\n    backgroundColor: theme.palette.primary.main,\n    display: 'inline-flex',\n    fontSize: '14px',\n    fontWeight: 500,\n    height: '36px',\n    width: '36px'\n  },\n  nameText: {\n    display: 'inline-block',\n    marginLeft: theme.spacing(2),\n    fontWeight: 500,\n    cursor: 'pointer'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesToolbar\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './ShowtimesToolbar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesToolbar\\ShowtimesToolbar.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 19, "end_line": 54, "language": "js", "text": "\n  render() {\n    const {\n      classes,\n      className,\n      selectedShowtimes,\n      toggleDialog,\n      deleteShowtime\n    } = this.props;\n\n    const rootClassName = classNames(classes.root, className);\n\n    return (\n      <div className={rootClassName}>\n        <div className={classes.row}>\n          <div>\n            {selectedShowtimes.length > 0 && (\n              <IconButton\n                className={classes.deleteButton}\n                onClick={deleteShowtime}>\n                <DeleteIcon />\n              </IconButton>\n            )}\n\n            <Button\n              onClick={() => toggleDialog()}\n              color=\"primary\"\n              size=\"small\"\n              variant=\"outlined\">\n              {selectedShowtimes.length === 1 ? 'Edit' : 'Add'}\n            </Button>\n          </div>\n        </div>\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\ShowtimeList\\components\\ShowtimesToolbar\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 17, "language": "js", "text": "export default theme => ({\n  root: {},\n  row: {\n    height: '42px',\n    display: 'flex',\n    alignItems: 'center',\n    marginTop: theme.spacing(1),\n    justifyContent: 'flex-end'\n  },\n  deleteButton: {\n    color: theme.palette.danger.main,\n    marginRight: theme.spacing(1)\n  },\n  searchInput: {\n    marginRight: theme.spacing(1)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './User';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 14, "language": "js", "text": "export default theme => ({\n  root: {\n    padding: theme.spacing(3)\n  },\n  content: {\n    marginTop: theme.spacing(2)\n  },\n  progressWrapper: {\n    paddingTop: '48px',\n    paddingBottom: '24px',\n    display: 'flex',\n    justifyContent: 'center'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\User.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 23, "end_line": 26, "language": "js", "text": "\n  componentDidMount() {\n    this.props.getUsers();\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\User.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 27, "end_line": 30, "language": "js", "text": "\n  handleSelect = selectedUsers => {\n    this.setState({ selectedUsers });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\User.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 31, "end_line": 56, "language": "js", "text": "\n  renderUsers() {\n    const {\n      classes,\n      users,\n      selectedUsers,\n      selectUser,\n      selectAllUsers\n    } = this.props;\n\n    if (!users.length) {\n      return (\n        <div className={classes.progressWrapper}>\n          <CircularProgress />\n        </div>\n      );\n    }\n    return (\n      <UsersTable\n        onSelect={selectUser}\n        onSelectAll={selectAllUsers}\n        users={users}\n        selectedUsers={selectedUsers}\n      />\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\User.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 57, "end_line": 90, "language": "js", "text": "  render() {\n    const {\n      classes,\n      users,\n      selectedUsers,\n      openDialog,\n      toggleUserDialog,\n      addUser,\n      updateUser,\n      deleteUser\n    } = this.props;\n\n    return (\n      <div className={classes.root}>\n        <UsersToolbar\n          users={users}\n          selectedUsers={selectedUsers}\n          toggleDialog={toggleUserDialog}\n          deleteUser={() => deleteUser(selectedUsers[0])}\n        />\n        <div className={classes.content}>{this.renderUsers()}</div>\n        <ResponsiveDialog\n          id=\"Add-user\"\n          open={openDialog}\n          handleClose={() => toggleUserDialog()}>\n          <AddUser\n            selectedUser={users.find(user => user._id === selectedUsers[0])}\n            addUser={addUser}\n            updateUser={updateUser}\n          />\n        </ResponsiveDialog>\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\User.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 92, "end_line": 97, "language": "js", "text": "\nconst mapStateToProps = ({ userState }) => ({\n  users: userState.users,\n  selectedUsers: userState.selectedUsers,\n  openDialog: userState.openDialog\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "export { default as AddUser } from './AddUser/AddUser';\nexport { default as UsersTable } from './UsersTable/UsersTable';\nexport { default as UsersToolbar } from './UsersToolbar/UsersToolbar';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\AddUser\\AddUser.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 19, "end_line": 39, "language": "js", "text": "\n  componentDidMount() {\n    if (this.props.selectedUser) {\n      const {\n        name,\n        username,\n        email,\n        password,\n        role,\n        phone\n      } = this.props.selectedUser;\n      this.setState({\n        name,\n        username,\n        email,\n        password,\n        role,\n        phone\n      });\n    }\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\AddUser\\AddUser.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 40, "end_line": 45, "language": "js", "text": "\n  handleChange = e => {\n    this.setState({\n      state: e.target.value\n    });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\AddUser\\AddUser.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 46, "end_line": 51, "language": "js", "text": "\n  handleFieldChange = (field, value) => {\n    const newState = { ...this.state };\n    newState[field] = value;\n    this.setState(newState);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\AddUser\\AddUser.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 52, "end_line": 56, "language": "js", "text": "\n  onAddUser = () => {\n    const user = { ...this.state };\n    this.props.addUser(user);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\AddUser\\AddUser.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 57, "end_line": 61, "language": "js", "text": "\n  onUpdateUser = () => {\n    const user = { ...this.state };\n    this.props.updateUser(user, this.props.selectedUser._id);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\AddUser\\AddUser.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 62, "end_line": 106, "language": "js", "text": "\n  render() {\n    const { classes, className, selectedUser } = this.props;\n    const { name, username, email, password, role, phone } = this.state;\n\n    const rootClassName = classNames(classes.root, className);\n    const title = selectedUser ? 'Edit User' : 'Add User';\n    const submitButton = selectedUser ? 'Update User' : 'Add User';\n    const submitAction = selectedUser\n      ? () => this.onUpdateUser()\n      : () => this.onAddUser();\n\n    return (\n      <div className={rootClassName}>\n        <Typography variant=\"h4\" className={classes.title}>\n          {title}\n        </Typography>\n        <form autoComplete=\"off\" noValidate>\n          <div className={classes.field}>\n            <TextField\n              fullWidth\n              className={classes.textField}\n              helperText=\"Please specify the Full Name\"\n              label=\"Full Name\"\n              margin=\"dense\"\n              required\n              value={name}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('name', event.target.value)\n              }\n            />\n            <TextField\n              fullWidth\n              className={classes.textField}\n              label=\"Username\"\n              margin=\"dense\"\n              required\n              value={username}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('username', event.target.value)\n              }\n            />\n          </div>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\AddUser\\AddUser.js", "chunk_id": 5, "subchunk_id": 1, "start_line": 105, "end_line": 154, "language": "js", "text": "            />\n          </div>\n          <div className={classes.field}>\n            <TextField\n              fullWidth\n              className={classes.textField}\n              label=\"Email\"\n              margin=\"dense\"\n              required\n              value={email}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('email', event.target.value)\n              }\n            />\n            <TextField\n              fullWidth\n              className={classes.textField}\n              label=\"Password\"\n              margin=\"dense\"\n              required\n              value={password}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('password', event.target.value)\n              }\n            />\n          </div>\n          <div className={classes.field}>\n            <TextField\n              fullWidth\n              className={classes.textField}\n              label=\"Phone\"\n              margin=\"dense\"\n              required\n              value={phone}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('phone', event.target.value)\n              }\n            />\n            <TextField\n              fullWidth\n              select\n              className={classes.textField}\n              helperText=\"Admin or Guest\"\n              label=\"Role\"\n              margin=\"dense\"\n              required\n              value={role}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\AddUser\\AddUser.js", "chunk_id": 5, "subchunk_id": 2, "start_line": 153, "end_line": 177, "language": "js", "text": "              required\n              value={role}\n              variant=\"outlined\"\n              onChange={event =>\n                this.handleFieldChange('role', event.target.value)\n              }>\n              {['admin', 'guest'].map(role => (\n                <MenuItem key={`role-${role}`} value={role}>\n                  {role}\n                </MenuItem>\n              ))}\n            </TextField>\n          </div>\n        </form>\n\n        <Button\n          className={classes.buttonFooter}\n          color=\"primary\"\n          variant=\"contained\"\n          onClick={submitAction}>\n          {submitButton}\n        </Button>\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\AddUser\\AddUser.js", "chunk_id": 5, "subchunk_id": 3, "start_line": 176, "end_line": 177, "language": "js", "text": "    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\AddUser\\AddUser.js", "chunk_id": 5, "subchunk_id": 4, "start_line": 177, "end_line": 177, "language": "js", "text": "  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\AddUser\\AddUser.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 184, "end_line": 189, "language": "js", "text": "\nconst mapStateToProps = ({ movieState, cinemaState }) => ({\n  movies: movieState.movies,\n  nowShowing: movieState.nowShowing,\n  cinemas: cinemaState.cinemas\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\AddUser\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 24, "language": "js", "text": "export default theme => ({\n  root: {},\n  title: { marginLeft: theme.spacing(3) },\n  field: {\n    margin: theme.spacing(3),\n    display: 'flex'\n  },\n  textField: {\n    width: '100%',\n    marginRight: theme.spacing(3)\n  },\n  portletFooter: {\n    paddingLeft: theme.spacing(3),\n    paddingRight: theme.spacing(3),\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2)\n  },\n  buttonFooter: {\n    margin: theme.spacing(3)\n  },\n  infoMessage: {\n    marginLeft: theme.spacing(3)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\UsersTable\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 27, "language": "js", "text": "export default theme => ({\n  root: { color: theme.palette.common.contrastText },\n  tableRow: {\n    height: '64px'\n  },\n  tableCell: {\n    whiteSpace: 'nowrap'\n  },\n  tableCellInner: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  avatar: {\n    backgroundColor: theme.palette.primary.main,\n    display: 'inline-flex',\n    fontSize: '14px',\n    fontWeight: 500,\n    height: '36px',\n    width: '36px'\n  },\n  nameText: {\n    display: 'inline-block',\n    marginLeft: theme.spacing(2),\n    fontWeight: 500,\n    cursor: 'pointer'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\UsersTable\\UsersTable.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 36, "end_line": 36, "language": "js", "text": "    onSelect: () => {}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\UsersTable\\UsersTable.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 38, "end_line": 41, "language": "js", "text": "\n  handleChangePage = (event, page) => {\n    this.setState({ page });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\UsersTable\\UsersTable.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 42, "end_line": 45, "language": "js", "text": "\n  handleChangeRowsPerPage = event => {\n    this.setState({ rowsPerPage: event.target.value });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\UsersTable\\UsersTable.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 46, "end_line": 92, "language": "js", "text": "\n  render() {\n    const {\n      classes,\n      className,\n      users,\n      selectedUsers,\n      onSelect,\n      onSelectAll\n    } = this.props;\n    const { rowsPerPage, page } = this.state;\n\n    const rootClassName = classNames(classes.root, className);\n    return (\n      <Portlet className={rootClassName}>\n        <PortletContent noPadding>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"left\">\n                  <Checkbox\n                    checked={selectedUsers.length === users.length}\n                    color=\"primary\"\n                    indeterminate={\n                      selectedUsers.length > 0 &&\n                      selectedUsers.length < users.length\n                    }\n                    onChange={onSelectAll}\n                  />\n                  Name\n                </TableCell>\n                <TableCell align=\"left\">Username</TableCell>\n                <TableCell align=\"left\">Email</TableCell>\n                <TableCell align=\"left\">Registration date</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {users\n                .filter(user => {\n                  return user;\n                })\n                .slice(0, rowsPerPage)\n                .map(user => (\n                  <TableRow\n                    className={classes.tableRow}\n                    hover\n                    key={user._id}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\UsersTable\\UsersTable.js", "chunk_id": 3, "subchunk_id": 1, "start_line": 91, "end_line": 126, "language": "js", "text": "                    hover\n                    key={user._id}\n                    selected={selectedUsers.indexOf(user._id) !== -1}>\n                    <TableCell className={classes.tableCell}>\n                      <div className={classes.tableCellInner}>\n                        <Checkbox\n                          checked={selectedUsers.indexOf(user._id) !== -1}\n                          color=\"primary\"\n                          onChange={() => onSelect(user._id)}\n                          value=\"true\"\n                        />\n                        <Typography\n                          className={classes.nameText}\n                          variant=\"body1\">\n                          {user.name}\n                        </Typography>\n                      </div>\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {user.username}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {user.email}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {moment(user.createdAt).format('DD/MM/YYYY')}\n                    </TableCell>\n                  </TableRow>\n                ))}\n            </TableBody>\n          </Table>\n          <TablePagination\n            backIconButtonProps={{\n              'aria-label': 'Previous Page'\n            }}\n            component=\"div\""}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\UsersTable\\UsersTable.js", "chunk_id": 3, "subchunk_id": 2, "start_line": 125, "end_line": 140, "language": "js", "text": "            }}\n            component=\"div\"\n            count={users.length}\n            nextIconButtonProps={{\n              'aria-label': 'Next Page'\n            }}\n            onChangePage={this.handleChangePage}\n            onChangeRowsPerPage={this.handleChangeRowsPerPage}\n            page={page}\n            rowsPerPage={rowsPerPage}\n            rowsPerPageOptions={[5, 10, 25]}\n          />\n        </PortletContent>\n      </Portlet>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\UsersTable\\UsersTable.js", "chunk_id": 3, "subchunk_id": 3, "start_line": 139, "end_line": 140, "language": "js", "text": "    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\UsersTable\\UsersTable.js", "chunk_id": 3, "subchunk_id": 4, "start_line": 140, "end_line": 140, "language": "js", "text": "  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\UsersToolbar\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 17, "language": "js", "text": "export default theme => ({\n  root: {},\n  row: {\n    height: '42px',\n    display: 'flex',\n    alignItems: 'center',\n    marginTop: theme.spacing(1),\n    justifyContent: 'flex-end'\n  },\n  deleteButton: {\n    color: theme.palette.danger.main,\n    marginRight: theme.spacing(1)\n  },\n  searchInput: {\n    marginRight: theme.spacing(1)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Admin\\User\\components\\UsersToolbar\\UsersToolbar.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 33, "language": "js", "text": "\nconst UsersToolbar = props => {\n  const { classes, className, toggleDialog, selectedUsers, deleteUser } = props;\n  const rootClassName = classNames(classes.root, className);\n\n  return (\n    <div className={rootClassName}>\n      <div className={classes.row}>\n        <div>\n          {selectedUsers.length > 0 && (\n            <IconButton className={classes.deleteButton} onClick={deleteUser}>\n              <DeleteIcon />\n            </IconButton>\n          )}\n          <Button\n            onClick={toggleDialog}\n            color=\"primary\"\n            size=\"small\"\n            variant=\"outlined\">\n            {selectedUsers.length === 1 ? 'Edit' : 'Add'}\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 39, "end_line": 56, "language": "js", "text": "\n  componentDidMount() {\n    const {\n      user,\n      match,\n      getMovie,\n      getCinemas,\n      getCinemasUserModeling,\n      getShowtimes,\n      getReservations,\n      getSuggestedReservationSeats\n    } = this.props;\n    getMovie(match.params.id);\n    user ? getCinemasUserModeling(user.username) : getCinemas();\n    getShowtimes();\n    getReservations();\n    if (user) getSuggestedReservationSeats(user.username);\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 57, "end_line": 66, "language": "js", "text": "\n  componentDidUpdate(prevProps) {\n    const { selectedCinema, selectedDate, getCinema } = this.props;\n    if (\n      (selectedCinema && prevProps.selectedCinema !== selectedCinema) ||\n      (selectedCinema && prevProps.selectedDate !== selectedDate)\n    ) {\n      getCinema(selectedCinema);\n    }\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 67, "end_line": 87, "language": "js", "text": "\n  // JSpdf Generator For generating the PDF\n  jsPdfGenerator = () => {\n    const { movie, cinema, selectedDate, selectedTime, QRCode } = this.props;\n    const doc = new jsPDF();\n    doc.setFont('helvetica');\n    doc.setFontType('bold');\n    doc.setFontSize(22);\n    doc.text(movie.title, 20, 20);\n    doc.setFontSize(16);\n    doc.text(cinema.name, 20, 30);\n    doc.text(\n      `Date: ${new Date(\n        selectedDate\n      ).toLocaleDateString()} - Time: ${selectedTime}`,\n      20,\n      40\n    );\n    doc.addImage(QRCode, 'JPEG', 15, 40, 160, 160);\n    doc.save(`${movie.title}-${cinema.name}.pdf`);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 88, "end_line": 103, "language": "js", "text": "\n  onSelectSeat = (row, seat) => {\n    const { cinema, setSelectedSeats } = this.props;\n    const seats = [...cinema.seats];\n    const newSeats = [...seats];\n    if (seats[row][seat] === 1) {\n      newSeats[row][seat] = 1;\n    } else if (seats[row][seat] === 2) {\n      newSeats[row][seat] = 0;\n    } else if (seats[row][seat] === 3) {\n      newSeats[row][seat] = 2;\n    } else {\n      newSeats[row][seat] = 2;\n    }\n    setSelectedSeats([row, seat]);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 104, "end_line": 141, "language": "js", "text": "\n  async checkout() {\n    const {\n      movie,\n      cinema,\n      selectedSeats,\n      selectedDate,\n      selectedTime,\n      getReservations,\n      isAuth,\n      user,\n      addReservation,\n      toggleLoginPopup,\n      showInvitationForm,\n      setQRCode\n    } = this.props;\n\n    if (selectedSeats.length === 0) return;\n    if (!isAuth) return toggleLoginPopup();\n\n    const response = await addReservation({\n      date: selectedDate,\n      startAt: selectedTime,\n      seats: this.bookSeats(),\n      ticketPrice: cinema.ticketPrice,\n      total: selectedSeats.length * cinema.ticketPrice,\n      movieId: movie._id,\n      cinemaId: cinema._id,\n      username: user.username,\n      phone: user.phone\n    });\n    if (response.status === 'success') {\n      const { data } = response;\n      setQRCode(data.QRCode);\n      getReservations();\n      showInvitationForm();\n    }\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 142, "end_line": 158, "language": "js", "text": "\n  bookSeats() {\n    const { cinema, selectedSeats } = this.props;\n    const seats = [...cinema.seats];\n\n    if (selectedSeats.length === 0) return;\n\n    const bookedSeats = seats\n      .map(row =>\n        row.map((seat, i) => (seat === 2 ? i : -1)).filter(seat => seat !== -1)\n      )\n      .map((seats, i) => (seats.length ? seats.map(seat => [i, seat]) : -1))\n      .filter(seat => seat !== -1)\n      .reduce((a, b) => a.concat(b));\n\n    return bookedSeats;\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 159, "end_line": 187, "language": "js", "text": "\n  onFilterCinema() {\n    const { cinemas, showtimes, selectedCinema, selectedTime } = this.props;\n    const initialReturn = { uniqueCinemas: [], uniqueTimes: [] };\n    if (!showtimes || !cinemas) return initialReturn;\n\n    const uniqueCinemasId = showtimes\n      .filter(showtime =>\n        selectedTime ? showtime.startAt === selectedTime : true\n      )\n      .map(showtime => showtime.cinemaId)\n      .filter((value, index, self) => self.indexOf(value) === index);\n\n    const uniqueCinemas = cinemas.filter(cinema =>\n      uniqueCinemasId.includes(cinema._id)\n    );\n\n    const uniqueTimes = showtimes\n      .filter(showtime =>\n        selectedCinema ? selectedCinema === showtime.cinemaId : true\n      )\n      .map(showtime => showtime.startAt)\n      .filter((value, index, self) => self.indexOf(value) === index)\n      .sort(\n        (a, b) => new Date('1970/01/01 ' + a) - new Date('1970/01/01 ' + b)\n      );\n\n    return { ...initialReturn, uniqueCinemas, uniqueTimes };\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 188, "end_line": 209, "language": "js", "text": "\n  onGetReservedSeats = () => {\n    const { reservations, cinema, selectedDate, selectedTime } = this.props;\n\n    if (!cinema) return [];\n    const newSeats = [...cinema.seats];\n\n    const filteredReservations = reservations.filter(\n      reservation =>\n        new Date(reservation.date).toLocaleDateString() ===\n          new Date(selectedDate).toLocaleDateString() &&\n        reservation.startAt === selectedTime\n    );\n    if (filteredReservations.length && selectedDate && selectedTime) {\n      const reservedSeats = filteredReservations\n        .map(reservation => reservation.seats)\n        .reduce((a, b) => a.concat(b));\n      reservedSeats.forEach(([row, seat]) => (newSeats[row][seat] = 1));\n      return newSeats;\n    }\n    return newSeats;\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 210, "end_line": 247, "language": "js", "text": "\n  onGetSuggestedSeats = (seats, suggestedSeats) => {\n    const { numberOfTickets, positions } = suggestedSeats;\n\n    const positionsArray = Object.keys(positions).map(key => {\n      return [String(key), positions[key]];\n    });\n\n    positionsArray.sort((a, b) => {\n      return b[1] - a[1];\n    });\n\n    if (positionsArray.every(position => position[1] === 0)) return;\n\n    const step = Math.round(seats.length / 3);\n    let indexArr = [];\n    let suggested;\n    for (let position of positionsArray) {\n      switch (position[0]) {\n        case 'front':\n          indexArr = [0, step];\n          suggested = this.checkSeats(indexArr, seats, numberOfTickets);\n          break;\n        case 'center':\n          indexArr = [step, step * 2];\n          suggested = this.checkSeats(indexArr, seats, numberOfTickets);\n          break;\n        case 'back':\n          indexArr = [step * 2, step * 3];\n          suggested = this.checkSeats(indexArr, seats, numberOfTickets);\n          break;\n        default:\n          break;\n      }\n      if (suggested) this.getSeat(suggested, seats, numberOfTickets);\n      break;\n    }\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 9, "subchunk_id": 0, "start_line": 248, "end_line": 272, "language": "js", "text": "\n  checkSeats = (indexArr, seats, numberOfTickets) => {\n    for (let i = indexArr[0]; i < indexArr[1]; i++) {\n      for (let seat in seats[i]) {\n        let seatNum = Number(seat);\n\n        if (\n          !seats[i][seatNum] &&\n          seatNum + (numberOfTickets - 1) <= seats[i].length\n        ) {\n          let statusAvailability = [];\n          for (let y = 1; y < numberOfTickets; y++) {\n            //check the next seat if available\n            if (!seats[i][seatNum + y]) {\n              statusAvailability.push(true);\n            } else {\n              statusAvailability.push(false);\n            }\n          }\n          if (statusAvailability.every(Boolean)) return [i, seatNum];\n        }\n      }\n    }\n    return null;\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 10, "subchunk_id": 0, "start_line": 273, "end_line": 280, "language": "js", "text": "\n  getSeat = (suggested, seats, numberOfTickets) => {\n    const { setSuggestedSeats } = this.props;\n    for (let i = suggested[1]; i < suggested[1] + numberOfTickets; i++) {\n      const seat = [suggested[0], i];\n      setSuggestedSeats(seat);\n    }\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 11, "subchunk_id": 0, "start_line": 281, "end_line": 282, "language": "js", "text": "\n  onChangeCinema = event => this.props.setSelectedCinema(event.target.value);"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 12, "subchunk_id": 0, "start_line": 283, "end_line": 283, "language": "js", "text": "  onChangeDate = date => this.props.setSelectedDate(date);"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 13, "subchunk_id": 0, "start_line": 284, "end_line": 284, "language": "js", "text": "  onChangeTime = event => this.props.setSelectedTime(event.target.value);"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 14, "subchunk_id": 0, "start_line": 285, "end_line": 312, "language": "js", "text": "\n  sendInvitations = async () => {\n    const invitations = this.createInvitations();\n    if (!invitations) return;\n    try {\n      const token = localStorage.getItem('jwtToken');\n      const url = '/invitations';\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          Authorization: `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(invitations)\n      });\n      if (response.ok) {\n        this.props.resetCheckout();\n        this.props.setAlert('invitations Send', 'success', 5000);\n        return { status: 'success', message: 'invitations Send' };\n      }\n    } catch (error) {\n      this.props.setAlert(error.message, 'error', 5000);\n      return {\n        status: 'error',\n        message: ' invitations have not send, try again.'\n      };\n    }\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 15, "subchunk_id": 0, "start_line": 313, "end_line": 337, "language": "js", "text": "\n  createInvitations = () => {\n    const {\n      user,\n      movie,\n      cinema,\n      selectedDate,\n      selectedTime,\n      invitations\n    } = this.props;\n\n    const invArray = Object.keys(invitations)\n      .map(key => ({\n        to: invitations[key],\n        host: user.name,\n        movie: movie.title,\n        time: selectedTime,\n        date: new Date(selectedDate).toDateString(),\n        cinema: cinema.name,\n        image: cinema.image,\n        seat: key\n      }))\n      .filter(inv => inv.to !== '');\n    return invArray;\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 16, "subchunk_id": 0, "start_line": 338, "end_line": 344, "language": "js", "text": "\n  setSuggestionSeats = (seats, suggestedSeats) => {\n    suggestedSeats.forEach(suggestedSeat => {\n      seats[suggestedSeat[0]][suggestedSeat[1]] = 3;\n    });\n    return seats;\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 17, "subchunk_id": 0, "start_line": 368, "end_line": 370, "language": "js", "text": "    if (suggestedSeats && selectedTime && !suggestedSeat.length) {\n      this.onGetSuggestedSeats(seats, suggestedSeats);\n    }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 17, "subchunk_id": 1, "start_line": 371, "end_line": 374, "language": "js", "text": "    if (suggestedSeat.length && !this.didSetSuggestion) {\n      seats = this.setSuggestionSeats(seats, suggestedSeat);\n      this.didSetSuggestion = true;\n    }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\BookingPage.js", "chunk_id": 18, "subchunk_id": 0, "start_line": 439, "end_line": 470, "language": "js", "text": "\nconst mapStateToProps = (\n  {\n    authState,\n    movieState,\n    cinemaState,\n    showtimeState,\n    reservationState,\n    checkoutState\n  },\n  ownProps\n) => ({\n  isAuth: authState.isAuthenticated,\n  user: authState.user,\n  movie: movieState.selectedMovie,\n  cinema: cinemaState.selectedCinema,\n  cinemas: cinemaState.cinemas,\n  showtimes: showtimeState.showtimes.filter(\n    showtime => showtime.movieId === ownProps.match.params.id\n  ),\n  reservations: reservationState.reservations,\n  selectedSeats: checkoutState.selectedSeats,\n  suggestedSeat: checkoutState.suggestedSeat,\n  selectedCinema: checkoutState.selectedCinema,\n  selectedDate: checkoutState.selectedDate,\n  selectedTime: checkoutState.selectedTime,\n  showLoginPopup: checkoutState.showLoginPopup,\n  showInvitation: checkoutState.showInvitation,\n  invitations: checkoutState.invitations,\n  QRCode: checkoutState.QRCode,\n  suggestedSeats: reservationState.suggestedSeats\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './BookingPage';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 6, "language": "js", "text": "export default theme => ({\n  container: { height: '100%', paddingTop: theme.spacing(10) },\n  [theme.breakpoints.down('md')]: {\n    root: { height: '100%' }\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingCheckout\\BookingCheckout.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 22, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  bannerTitle: {\n    fontSize: theme.spacing(1.4),\n    textTransform: 'uppercase',\n    color: 'rgb(93, 93, 97)',\n    marginBottom: theme.spacing(1)\n  },\n  bannerContent: {\n    fontSize: theme.spacing(2),\n    textTransform: 'capitalize',\n    color: theme.palette.common.white\n  },\n  [theme.breakpoints.down('sm')]: {\n    hideOnSmall: {\n      display: 'none'\n    }\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingCheckout\\BookingCheckout.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 23, "end_line": 69, "language": "js", "text": "\nexport default function BookingCheckout(props) {\n  const classes = useStyles(props);\n  const {\n    user,\n    ticketPrice,\n    selectedSeats,\n    seatsAvailable,\n    onBookSeats\n  } = props;\n\n  return (\n    <Box marginTop={2} bgcolor=\"rgb(18, 20, 24)\">\n      <Grid container>\n        <Grid item xs={8} md={10}>\n          <Grid container spacing={3} style={{ padding: 20 }}>\n            {user && user.name && (\n              <Grid item className={classes.hideOnSmall}>\n                <Typography className={classes.bannerTitle}>Name</Typography>\n                <Typography className={classes.bannerContent}>\n                  {user.name}\n                </Typography>\n              </Grid>\n            )}\n            <Grid item>\n              <Typography className={classes.bannerTitle}>Tickets</Typography>\n              {selectedSeats > 0 ? (\n                <Typography className={classes.bannerContent}>\n                  {selectedSeats} tickets\n                </Typography>\n              ) : (\n                <Typography className={classes.bannerContent}>0</Typography>\n              )}\n            </Grid>\n            <Grid item>\n              <Typography className={classes.bannerTitle}>Price</Typography>\n              <Typography className={classes.bannerContent}>\n                {ticketPrice * selectedSeats} &euro;\n              </Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n        <Grid\n          item\n          xs={4}\n          md={2}\n          style={{"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingCheckout\\BookingCheckout.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 68, "end_line": 85, "language": "js", "text": "          md={2}\n          style={{\n            color: 'rgb(120, 205, 4)',\n            background: 'black',\n            display: 'flex'\n          }}>\n          <Button\n            color=\"inherit\"\n            fullWidth\n            disabled={seatsAvailable <= 0}\n            onClick={() => onBookSeats()}>\n            Checkout\n          </Button>\n        </Grid>\n      </Grid>\n    </Box>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingCheckout\\BookingCheckout.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 84, "end_line": 85, "language": "js", "text": "  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingCheckout\\BookingCheckout.js", "chunk_id": 1, "subchunk_id": 3, "start_line": 85, "end_line": 85, "language": "js", "text": "}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingForm\\BookingForm.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 68, "language": "js", "text": "\nexport default function BookingForm(props) {\n  const {\n    cinemas,\n    showtimes,\n    selectedCinema,\n    onChangeCinema,\n    selectedDate,\n    onChangeDate,\n    times,\n    selectedTime,\n    onChangeTime\n  } = props;\n\n  const showtime = showtimes.find(\n    showtime => showtime.cinemaId === selectedCinema\n  );\n\n  if (!cinemas.length)\n    return (\n      <Box\n        display=\"flex\"\n        width={1}\n        height={1}\n        alignItems=\"center\"\n        justifyContent=\"center\">\n        <Typography align=\"center\" variant=\"h2\" color=\"inherit\">\n          No Cinema Available.\n        </Typography>\n      </Box>\n    );\n\n  return (\n    <Grid container spacing={3}>\n      <Grid item xs>\n        <TextField\n          fullWidth\n          select\n          value={selectedCinema}\n          label=\"Select Cinema\"\n          variant=\"outlined\"\n          onChange={onChangeCinema}>\n          {cinemas.map(cinema => (\n            <MenuItem key={cinema._id} value={cinema._id}>\n              {cinema.name}\n            </MenuItem>\n          ))}\n        </TextField>\n      </Grid>\n      {showtime && (\n        <Grid item xs>\n          <MuiPickersUtilsProvider utils={MomentUtils}>\n            <KeyboardDatePicker\n              inputVariant=\"outlined\"\n              margin=\"none\"\n              fullWidth\n              id=\"start-date\"\n              label=\"Start Date\"\n              minDate={new Date(showtime.startDate)}\n              maxDate={new Date(showtime.endDate)}\n              value={selectedDate}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingForm\\BookingForm.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 67, "end_line": 96, "language": "js", "text": "              maxDate={new Date(showtime.endDate)}\n              value={selectedDate}\n              onChange={date => onChangeDate(date._d)}\n              KeyboardButtonProps={{\n                'aria-label': 'change date'\n              }}\n            />\n          </MuiPickersUtilsProvider>\n        </Grid>\n      )}\n      {selectedDate && (\n        <Grid item xs>\n          <TextField\n            fullWidth\n            select\n            value={selectedTime}\n            label=\"Select Time\"\n            variant=\"outlined\"\n            onChange={onChangeTime}>\n            {times.map((time, index) => (\n              <MenuItem key={time + '-' + index} value={time}>\n                {time}\n              </MenuItem>\n            ))}\n          </TextField>\n        </Grid>\n      )}\n    </Grid>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingForm\\BookingForm.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 95, "end_line": 96, "language": "js", "text": "  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingForm\\BookingForm.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 96, "end_line": 96, "language": "js", "text": "}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingInvitation\\BookingInvitation.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 18, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  root: {\n    marginTop: theme.spacing(3)\n  },\n  paper: { padding: theme.spacing(4) },\n  gridContainer: {\n    marginTop: theme.spacing(4)\n  },\n  successInfo: { margin: theme.spacing(3) },\n  ignoreButton: {\n    marginLeft: theme.spacing(3)\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingInvitation\\BookingInvitation.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 19, "end_line": 20, "language": "js", "text": "\nconst convertToAlphabet = value => (value + 10).toString(36).toUpperCase();"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingInvitation\\BookingInvitation.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 21, "end_line": 66, "language": "js", "text": "\nexport default function BookingInvitation(props) {\n  const classes = useStyles(props);\n  const {\n    selectedSeats,\n    sendInvitations,\n    ignore,\n    invitations,\n    onSetInvitation,\n    onDownloadPDF\n  } = props;\n\n  const notValidInvitations = !Object.keys(invitations).length;\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.paper}>\n        <Typography variant=\"h4\" align=\"center\">\n          Guest Invitation\n        </Typography>\n        <Typography\n          className={classes.successInfo}\n          variant=\"body1\"\n          align=\"center\">\n          You have successfuly booked your seats. Please fill the emails below,\n          to send invitations to your friends!\n        </Typography>\n        <Box width={1} textAlign=\"center\">\n          <Button\n            color=\"primary\"\n            variant=\"outlined\"\n            onClick={() => onDownloadPDF()}>\n            Download Pass\n          </Button>\n        </Box>\n        <Grid className={classes.gridContainer} container spacing={3}>\n          {selectedSeats.map((seat, index) => (\n            <Grid item xs={12} md={6} lg={4} key={'seat-' + index}>\n              <TextField\n                fullWidth\n                label=\"email\"\n                name={`${convertToAlphabet(seat[0])}-${seat[1]}`}\n                helperText={`Please select an Email for Row : ${convertToAlphabet(\n                  seat[0]\n                )} - Seat Number : ${seat[1]}`}\n                margin=\"dense\""}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingInvitation\\BookingInvitation.js", "chunk_id": 2, "subchunk_id": 1, "start_line": 65, "end_line": 100, "language": "js", "text": "                )} - Seat Number : ${seat[1]}`}\n                margin=\"dense\"\n                required\n                value={\n                  invitations[`${convertToAlphabet(seat[0])}-${seat[1]}`] || ''\n                }\n                variant=\"outlined\"\n                onChange={event => onSetInvitation(event)}\n              />\n            </Grid>\n          ))}\n          <Grid item xs={12} container>\n            <Grid item>\n              <Button\n                disabled={notValidInvitations}\n                color=\"primary\"\n                variant=\"outlined\"\n                onClick={() => sendInvitations()}>\n                Send Invitations\n              </Button>\n            </Grid>\n            <Grid item>\n              <Button\n                className={classes.ignoreButton}\n                color=\"secondary\"\n                variant=\"outlined\"\n                onClick={() => ignore()}>\n                Ignore\n              </Button>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Paper>\n    </div>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingInvitation\\BookingInvitation.js", "chunk_id": 2, "subchunk_id": 2, "start_line": 99, "end_line": 100, "language": "js", "text": "  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingInvitation\\BookingInvitation.js", "chunk_id": 2, "subchunk_id": 3, "start_line": 100, "end_line": 100, "language": "js", "text": "}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingSeats\\BookingSeats.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 44, "language": "js", "text": "const useStyles = makeStyles(theme => ({\n  row: {\n    display: 'flex',\n    justifyContent: 'center',\n    width: '100%'\n  },\n  seat: {\n    cursor: 'pointer',\n    color: 'rgba(255,255,255,0.7)',\n    borderRadius: 2,\n    padding: theme.spacing(2),\n    margin: theme.spacing(0.5),\n    fontWeight: 600,\n    '&:hover': {\n      background: 'rgb(120, 205, 4)'\n    }\n  },\n  seatInfoContainer: {\n    width: '50%',\n    margin: 'auto',\n    display: 'flex',\n    alignItems: 'center',\n    textAlign: 'center',\n    color: '#eee'\n  },\n\n  seatInfo: { marginRight: theme.spacing(2) },\n\n  seatInfoLabel: {\n    marginRight: theme.spacing(1),\n    display: 'inline-block',\n    width: 10,\n    height: 10\n  },\n\n  [theme.breakpoints.down('sm')]: {\n    seat: { padding: theme.spacing(1.2), margin: theme.spacing(0.5) },\n    seatInfoContainer: { width: '100%', display: 'block' },\n    seatInfo: { marginTop: theme.spacing(2) }\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingSeats\\BookingSeats.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 45, "end_line": 89, "language": "js", "text": "\nexport default function BookingSeats(props) {\n  const classes = useStyles(props);\n  const { seats, onSelectSeat } = props;\n\n  return (\n    <Fragment>\n      <Box width={1} pt={15}>\n        {seats.length > 0 &&\n          seats.map((seatRows, indexRow) => (\n            <div key={indexRow} className={classes.row}>\n              {seatRows.map((seat, index) => (\n                <Box\n                  key={`seat-${index}`}\n                  onClick={() => onSelectSeat(indexRow, index)}\n                  className={classes.seat}\n                  bgcolor={\n                    seat === 1\n                      ? 'rgb(65, 66, 70)'\n                      : seat === 2\n                      ? 'rgb(120, 205, 4)'\n                      : seat === 3\n                      ? 'rgb(14, 151, 218)'\n                      : 'rgb(96, 93, 169)'\n                  }>\n                  {index + 1}\n                </Box>\n              ))}\n            </div>\n          ))}\n      </Box>\n      <Box width={1} mt={10}>\n        <div className={classes.seatInfoContainer}>\n          <div className={classes.seatInfo}>\n            <div\n              className={classes.seatInfoLabel}\n              style={{ background: 'rgb(96, 93, 169)' }}></div>\n            Seat Available\n          </div>\n          <div className={classes.seatInfo}>\n            <div\n              className={classes.seatInfoLabel}\n              style={{ background: 'rgb(65, 66, 70)' }}></div>\n            Reserved Seat\n          </div>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingSeats\\BookingSeats.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 88, "end_line": 106, "language": "js", "text": "            Reserved Seat\n          </div>\n          <div className={classes.seatInfo}>\n            <div\n              className={classes.seatInfoLabel}\n              style={{ background: 'rgb(120, 205, 4)' }}></div>\n            Selected Seat\n          </div>\n          <div className={classes.seatInfo}>\n            <div\n              className={classes.seatInfoLabel}\n              style={{ background: 'rgb(14, 151, 218)' }}></div>\n            Recommended Seat\n          </div>\n        </div>\n      </Box>\n    </Fragment>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingSeats\\BookingSeats.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 105, "end_line": 106, "language": "js", "text": "  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\BookingSeats\\BookingSeats.js", "chunk_id": 1, "subchunk_id": 3, "start_line": 106, "end_line": 106, "language": "js", "text": "}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\MovieInfo\\MovieInfo.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 50, "language": "js", "text": "const useStyles = makeStyles(theme => ({\n  movieInfos: {\n    background: 'rgba(57, 61, 67, 0.5)',\n    position: 'relative',\n    height: '100%'\n  },\n  background: {\n    position: 'absolute',\n    opacity: 0.4,\n    top: 0,\n    height: '70%',\n    right: 0,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    width: '100%',\n    zIndex: 1\n  },\n  title: {\n    position: 'absolute',\n    top: '60%',\n    right: 0,\n    width: '100%',\n    textAlign: 'center',\n    color: theme.palette.common.white,\n    fontSize: '24px',\n    textTransform: 'capitalize',\n    zIndex: 2\n  },\n  info: {\n    position: 'absolute',\n    padding: theme.spacing(5),\n    top: '70%',\n    right: 0,\n    width: '100%'\n  },\n  infoBox: {\n    color: theme.palette.common.white,\n    marginBottom: theme.spacing(2)\n  },\n  [theme.breakpoints.down('md')]: {\n    movieInfos: { minHeight: '30vh' },\n    background: { height: '100%' },\n    title: { top: '80%' },\n    info: { display: 'none' }\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\MovieInfo\\MovieInfo.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 51, "end_line": 96, "language": "js", "text": "\nexport default function MovieInfo(props) {\n  const classes = useStyles(props);\n  const { movie } = props;\n\n  if (!movie) return <h1>Movie Loading...</h1>;\n\n  return (\n    <Grid item xs={12} md={12} lg={3}>\n      <div className={classes.movieInfos}>\n        <div\n          className={classes.background}\n          style={{\n            backgroundImage: `url(${movie.image})`\n          }}\n        />\n        <Typography className={classes.title}>{movie.title}</Typography>\n        <div className={classes.info}>\n          {movie.director && (\n            <div className={classes.infoBox}>\n              <Typography variant=\"subtitle1\" color=\"inherit\">\n                Director\n              </Typography>\n              <Typography variant=\"caption\" color=\"inherit\">\n                {movie.director}\n              </Typography>\n            </div>\n          )}\n          {movie.cast && (\n            <div className={classes.infoBox}>\n              <Typography variant=\"subtitle1\" color=\"inherit\">\n                Cast\n              </Typography>\n              <Typography variant=\"caption\" color=\"inherit\">\n                {movie.cast}\n              </Typography>\n            </div>\n          )}\n          {movie.genre && (\n            <div className={classes.infoBox}>\n              <Typography variant=\"subtitle1\" color=\"inherit\">\n                Genre\n              </Typography>\n              <Typography variant=\"caption\" color=\"inherit\">\n                {movie.genre}\n              </Typography>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\MovieInfo\\MovieInfo.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 95, "end_line": 103, "language": "js", "text": "                {movie.genre}\n              </Typography>\n            </div>\n          )}\n        </div>\n      </div>\n    </Grid>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\MovieInfo\\MovieInfo.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 102, "end_line": 103, "language": "js", "text": "  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\BookingPage\\components\\MovieInfo\\MovieInfo.js", "chunk_id": 1, "subchunk_id": 3, "start_line": 103, "end_line": 103, "language": "js", "text": "}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Checkin\\Checkin.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 13, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  title: {\n    fontSize: '3rem',\n    lineHeight: '3rem',\n    textAlign: 'center',\n    textTransform: 'capitalize',\n    marginTop: theme.spacing(15),\n    marginBottom: theme.spacing(3)\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Checkin\\Checkin.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 14, "end_line": 61, "language": "js", "text": "\nfunction Checkin(props) {\n  const reservationId = props.match.params.reservationId;\n  const [reservation, setReservation] = useState(null);\n\n  useEffect(() => {\n    checkinReservations(reservationId);\n  }, [reservationId]);\n\n  const checkinReservations = async id => {\n    try {\n      const token = localStorage.getItem('jwtToken');\n      const url = '/reservations/checkin/' + id;\n      const response = await fetch(url, {\n        method: 'GET',\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n      const reservation = await response.json();\n      if (response.ok) {\n        setReservation(reservation);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const classes = useStyles(props);\n  return (\n    <Grid container spacing={2}>\n      <Grid item xs={12}>\n        <Typography className={classes.title} variant=\"h2\" color=\"inherit\">\n          Check In\n        </Typography>\n        {reservation && reservation.checkin ? (\n          <Typography variant=\"body1\" color=\"primary\" align=\"center\">\n            Check in for user: {reservation.username} was successful.\n          </Typography>\n        ) : (\n          <Typography variant=\"body1\" color=\"error\" align=\"center\">\n            Something went wrong...\n          </Typography>\n        )}\n      </Grid>\n    </Grid>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Checkin\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Checkin';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\CinemasPage\\CinemasPage.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 15, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  title: {\n    fontSize: '3rem',\n    lineHeight: '3rem',\n    textAlign: 'center',\n    marginTop: theme.spacing(15),\n    marginBottom: theme.spacing(3)\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\CinemasPage\\CinemasPage.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 16, "end_line": 48, "language": "js", "text": "\nfunction CinemasPage(props) {\n  const classes = useStyles(props);\n  const { cinemas, getCinemas } = props;\n  useEffect(() => {\n    if (!cinemas.length) getCinemas();\n  }, [cinemas, getCinemas]);\n\n  return (\n    <Container maxWidth=\"xl\">\n      <Grid container spacing={2}>\n        <Grid item xs={12}>\n          <Typography className={classes.title} variant=\"h2\" color=\"inherit\">\n            Our Cinemas\n          </Typography>\n        </Grid>\n        <Grid\n          container\n          item\n          xs={12}\n          alignItems=\"center\"\n          justify=\"flex-start\"\n          spacing={2}>\n          {cinemas.map(cinema => (\n            <Grid key={cinema._id} item xs={12} md={4} lg={3}>\n              <CinemaCard cinema={cinema} />\n            </Grid>\n          ))}\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\CinemasPage\\CinemasPage.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 49, "end_line": 52, "language": "js", "text": "\nconst mapStateToProps = ({ cinemaState }) => ({\n  cinemas: cinemaState.cinemas\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\CinemasPage\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './CinemasPage';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 8, "language": "js", "text": "export { default as LatestMovieList } from './LatestMovieList/LatestMovieList';\nexport { default as MovieBanner } from './MovieBanner/MovieBanner';\nexport { default as MovieCard } from './MovieCard/MovieCard';\nexport { default as MovieCardSimple } from './MovieCardSimple/MovieCardSimple';\nexport { default as MovieCarousel } from './MovieCarousel/MovieCarousel';\nexport {\n  default as ResponsiveMovieCard\n} from './ResponsiveMovieCard/ResponsiveMovieCard';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieOverview.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 24, "end_line": 39, "language": "js", "text": "\nconst Stats = ({ stats, classes }) =>\n  stats.map((stat, index) => (\n    <Box key={`${stat.label}-${index}`} display=\"flex\" alignItems=\"center\">\n      <Typography\n        className={classes.label}\n        color=\"inherit\"\n        gutterBottom\n        variant=\"subtitle1\">\n        {stat.label}\n      </Typography>\n      <Typography color=\"inherit\" variant=\"body2\" gutterBottom>\n        {stat.value}\n      </Typography>\n    </Box>\n  ));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieOverview.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 40, "end_line": 87, "language": "js", "text": "\nconst MovieOverview = ({ title, description, image }) => {\n  const classes = useStyles();\n  return (\n    <Grid container spacing={5}>\n      <Grid item>\n        <ButtonBase className={classes.image}>\n          <img className={classes.img} alt=\"movie\" src={image} />\n        </ButtonBase>\n      </Grid>\n      <Grid item xs={8} container direction=\"column\" spacing={2}>\n        <Grid item>\n          <Typography color=\"inherit\" gutterBottom variant=\"h2\">\n            {title}\n          </Typography>\n          <Typography color=\"inherit\" variant=\"body1\" gutterBottom>\n            {description}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\">\n            ID: 1030114\n          </Typography>\n          <Box height={20} />\n        </Grid>\n        <Grid item xs>\n          <Stats\n            classes={classes}\n            stats={[\n              { label: 'Released', value: '19 September 2019' },\n              { label: 'Runtime', value: '1h 20mins' },\n              { label: 'Director', value: 'George Simos' },\n              { label: 'Genre', value: 'Action' },\n              { label: 'Status', value: 'Released' },\n              { label: 'Language', value: 'English' }\n            ]}\n          />\n        </Grid>\n        {/* <Grid item>\n          <Typography\n            color=\"inherit\"\n            variant=\"body2\"\n            style={{ cursor: 'pointer' }}>\n            Remove\n          </Typography>\n        </Grid> */}\n      </Grid>\n    </Grid>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\CinemaCard\\CinemaCard.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 57, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  root: {\n    maxWidth: '100%',\n    paddingBottom: theme.spacing(2),\n    cursor: 'pointer'\n  },\n  imageWrapper: {\n    height: '200px',\n    margin: '0 auto',\n    overflow: 'hidden',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  image: {\n    width: '100%',\n    height: '100%',\n    'object-fit': 'cover'\n  },\n  details: { padding: theme.spacing(3) },\n  name: {\n    fontSize: '18px',\n    lineHeight: '21px',\n    marginTop: theme.spacing(2),\n    textTransform: 'capitalize'\n  },\n  city: {\n    lineHeight: '16px',\n    height: theme.spacing(4),\n    overflow: 'hidden',\n    whiteSpace: 'nowrap',\n    textOverflow: 'ellipsis',\n    color: theme.palette.text.secondary,\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(2)\n  },\n  stats: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingTop: theme.spacing(1),\n    paddingLeft: theme.spacing(3)\n  },\n  eventIcon: {\n    color: theme.palette.text.secondary\n  },\n  eventText: {\n    marginLeft: theme.spacing(1),\n    color: theme.palette.text.secondary\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\CinemaCard\\CinemaCard.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 58, "end_line": 95, "language": "js", "text": "\nfunction CinemaCard(props) {\n  const classes = useStyles(props);\n  const { className, cinema } = props;\n  const cinemaImage =\n    cinema && cinema.image\n      ? cinema.image\n      : 'https://source.unsplash.com/featured/?cinema';\n\n  const rootClassName = classNames(classes.root, className);\n  return (\n    <Paper className={rootClassName}>\n      <div className={classes.imageWrapper}>\n        <img alt=\"cinema\" className={classes.image} src={cinemaImage} />\n      </div>\n      <div className={classes.details}>\n        <Typography className={classes.name} variant=\"h4\">\n          {cinema.name}\n        </Typography>\n        <Typography className={classes.city} variant=\"body1\">\n          {cinema.city}\n        </Typography>\n      </div>\n      <div className={classes.stats}>\n        <AttachMoney className={classes.eventIcon} />\n        <Typography className={classes.eventText} variant=\"body2\">\n          {cinema.ticketPrice} <span>&euro;</span> per movie\n        </Typography>\n      </div>\n      <div className={classes.stats}>\n        <EventSeat className={classes.eventIcon} />\n        <Typography className={classes.eventText} variant=\"body2\">\n          {cinema.seatsAvailable} seats Available\n        </Typography>\n      </div>\n    </Paper>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\LatestMovieList\\LatestMovieList.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 40, "language": "js", "text": "\nconst LatestMovieList = props => {\n  const { classes, movies } = props;\n\n  return (\n    <Container maxWidth=\"xl\" className={classes.container}>\n      <Grid\n        className={classes.fullHeight}\n        container\n        alignItems=\"center\"\n        spacing={1}>\n        <Grid item md={3} xs={12}>\n          <div className={classes.title}>\n            <Typography className={classes.h2} variant=\"h2\" color=\"inherit\">\n              Latest Movies\n            </Typography>\n            <Typography className={classes.h4} variant=\"h4\" color=\"inherit\">\n              Covering March & April 2019\n            </Typography>\n          </div>\n        </Grid>\n        <Grid item md={9} xs={12}>\n          <GridList className={classes.gridList} cols={2.5}>\n            {movies.map(movie => (\n              <MovieCard key={movie._id} movie={movie} />\n            ))}\n          </GridList>\n        </Grid>\n      </Grid>\n    </Container>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\LatestMovieList\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 42, "language": "js", "text": "export default theme => ({\n  container: {\n    color: theme.palette.common.white,\n    backgroundColor: theme.palette.background.dark\n  },\n  fullHeight: {\n    height: '100vh'\n  },\n  title: {\n    width: '50%',\n    color: theme.palette.common.white\n  },\n  h2: {\n    fontSize: '3rem',\n    lineHeight: '3rem'\n  },\n  h4: {\n    fontSize: '1rem'\n  },\n  body2: {\n    paddingTop: '10px',\n    fontSize: '1.2rem',\n    lineHeight: '1.8rem'\n  },\n  gridList: {\n    display: 'flex',\n    flexWrap: 'nowrap',\n    overflowX: 'auto',\n    '-webkit-overflow-scrolling': 'touch',\n    marginTop: 0,\n    cursor: 'grab',\n    touchAction: 'pan-y',\n    userSelect: 'none',\n    ' &::-webkit-scrollbar': {\n      display: 'none'\n    }\n  },\n  [theme.breakpoints.down('sm')]: {\n    title: { width: '100%', textAlign: 'center' },\n    fullHeight: { height: '100%', paddingTop: theme.spacing(20) }\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieBanner\\MovieBanner.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 27, "end_line": 72, "language": "js", "text": "\nfunction MovieBanner(props) {\n  const { movie, fullDescription } = props;\n  const classes = useStyles(props);\n  if (!movie) return null;\n\n  return (\n    <div className={classes.movieHero}>\n      <div className={classes.infoSection}>\n        <header className={classes.movieHeader}>\n          {fullDescription && (\n            <Box mb={3} display=\"flex\" alignItems=\"center\" flexWrap=\"wrap\">\n              {movie.genre.split(',').map((genre, index) => (\n                <Typography\n                  key={`${genre}-${index}`}\n                  className={classes.tag}\n                  variant=\"body1\"\n                  color=\"inherit\">\n                  {genre}\n                </Typography>\n              ))}\n\n              <StyledRating\n                value={4}\n                readOnly\n                size=\"small\"\n                emptyIcon={<StarBorderIcon fontSize=\"inherit\" />}\n              />\n            </Box>\n          )}\n          <Typography\n            className={classes.movieTitle}\n            variant=\"h1\"\n            color=\"inherit\">\n            {movie.title}\n          </Typography>\n          <Typography\n            className={classes.descriptionText}\n            variant=\"body1\"\n            color=\"inherit\">\n            {textTruncate(movie.description, 450)}\n          </Typography>\n          <Typography className={classes.director} variant=\"h4\" color=\"inherit\">\n            By: {movie.director}\n          </Typography>\n          <Typography"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieBanner\\MovieBanner.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 71, "end_line": 108, "language": "js", "text": "          </Typography>\n          <Typography\n            className={classes.duration}\n            variant=\"body1\"\n            color=\"inherit\">\n            {movie.duration} min\n          </Typography>\n          <Typography className={classes.genre} variant=\"body1\" color=\"inherit\">\n            {movie.genre}\n          </Typography>\n        </header>\n      </div>\n      <div\n        className={classes.blurBackground}\n        style={{\n          backgroundImage: `url(${movie.image})`\n        }}\n      />\n      <div className={classes.movieActions}>\n        {fullDescription ? (\n          <Link to={`booking/${movie._id}`} style={{ textDecoration: 'none' }}>\n            <Button variant=\"contained\" className={classes.button}>\n              Buy Tickets\n              <ArrowRightAlt className={classes.buttonIcon} />\n            </Button>\n          </Link>\n        ) : (\n          <Link to={`movie/${movie._id}`} style={{ textDecoration: 'none' }}>\n            <Button className={classnames(classes.button, classes.learnMore)}>\n              Learn More\n              <ArrowRightAlt className={classes.buttonIcon} />\n            </Button>\n          </Link>\n        )}\n      </div>\n    </div>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieBanner\\MovieBanner.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 107, "end_line": 108, "language": "js", "text": "  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieBanner\\MovieBanner.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 108, "end_line": 108, "language": "js", "text": "}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieBanner\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 64, "language": "js", "text": "export default theme => ({\n  movieHero: {\n    position: 'relative',\n    height: props => (props.height ? props.height : '100%'),\n    width: '100%',\n    color: theme.palette.common.white,\n    backgroundColor: theme.palette.background.dark\n  },\n  blurBackground: {\n    position: 'absolute',\n    top: 0,\n    zIndex: 1,\n    height: '100%',\n    right: 0,\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    width: '100%'\n  },\n  infoSection: {\n    position: 'relative',\n    padding: theme.spacing(3),\n    display: 'flex',\n    alignItems: 'center',\n    width: '100%',\n    height: '100%',\n    backgroundBlendMode: 'multiply',\n    background:\n      'linear-gradient(to right, rgba(0,0,0,.9) 25%, transparent 100%)',\n    zIndex: 2\n  },\n  movieHeader: {\n    position: 'relative',\n    padding: theme.spacing(3),\n    maxWidth: '60%'\n  },\n  tag: {\n    padding: theme.spacing(0.3, 3),\n    marginRight: theme.spacing(1),\n    border: '1px solid rgba(255,255,255,0.9)',\n    borderRadius: 25\n  },\n  movieTitle: {\n    maxWidth: '60%',\n    fontSize: '32px',\n    lineHeight: 1.2,\n    fontWeight: 400,\n    textTransform: 'capitalize'\n  },\n  director: {\n    color: '#9ac7fa',\n    fontWeight: '500',\n    fontSize: '16px',\n    marginTop: theme.spacing(1)\n  },\n\n  duration: {\n    display: 'inline-block',\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(1),\n    border: '1px solid rgba(255,255,255,0.13)'\n  },\n  genre: {\n    display: 'inline-block',\n    color: '#cee4fd',"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieBanner\\styles.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 63, "end_line": 122, "language": "js", "text": "    display: 'inline-block',\n    color: '#cee4fd',\n    marginLeft: theme.spacing(2)\n  },\n  descriptionText: {\n    color: '#cfd6e1',\n    padding: theme.spacing(2, 0),\n    maxWidth: '60%'\n  },\n  footer: {\n    position: 'absolute',\n    left: theme.spacing(4),\n    bottom: theme.spacing(2),\n    zIndex: 2\n  },\n  icons: {\n    display: 'inline-block',\n    cursor: 'pointer',\n    color: 'rgba(255, 255, 255, 0.4)',\n    margin: theme.spacing(0, 1),\n    transition: 'all 0.3s',\n    '&:hover': {\n      color: 'rgba(255, 255, 255, 0.8)',\n      transform: 'scale(1.25)',\n      transition: 'all 0.3s',\n      transitionDelay: '0.15s'\n    }\n  },\n  movieActions: { position: 'absolute', bottom: 0, right: 0 },\n  button: {\n    width: 200,\n    height: 70,\n    borderRadius: 0,\n    zIndex: 2\n  },\n  learnMore: { color: theme.palette.common.white },\n  buttonIcon: { marginLeft: theme.spacing(2) },\n  [theme.breakpoints.down('sm')]: {\n    infoSection: {\n      background:\n        'linear-gradient(to right, rgba(0,0,0,.9) 70%, transparent 100%)'\n    },\n    movieHeader: { maxWidth: '90%' },\n    movieTitle: {\n      maxWidth: '100%',\n      fontSize: '16px'\n    },\n    descriptionText: {\n      maxWidth: '100%',\n      fontSize: '12px'\n    },\n    tag: { padding: theme.spacing(0.3, 1), margin: theme.spacing(1, 1, 1, 0) },\n    movieActions: { display: 'flex', width: '100%' },\n    button: {\n      flex: 1,\n      fontSize: 13,\n      height: 'auto',\n      padding: theme.spacing(2)\n    },\n    footer: {"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieBanner\\styles.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 121, "end_line": 127, "language": "js", "text": "    },\n    footer: {\n      left: theme.spacing(1),\n      bottom: theme.spacing(12)\n    }\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieBanner\\styles.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 126, "end_line": 127, "language": "js", "text": "  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieBanner\\styles.js", "chunk_id": 0, "subchunk_id": 4, "start_line": 127, "end_line": 127, "language": "js", "text": "});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieCard\\MovieCard.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 34, "language": "js", "text": "\nconst MovieCard = props => {\n  const { classes, movie } = props;\n\n  return (\n    <Link to={`movie/${movie._id}`} style={{ textDecoration: 'none' }}>\n      <div className={classes.card}>\n        <header\n          className={classes.header}\n          style={{\n            backgroundImage: `url(${movie.image})`\n          }}>\n          <Typography className={classes.h4} variant=\"h4\" color=\"inherit\">\n            {movie.genre}\n          </Typography>\n        </header>\n        <div className={classes.body}>\n          <p>{movie.duration}</p>\n          <h2>{movie.title}</h2>\n          <p>{movie.language}</p>\n          <p>{movie.cast}</p>\n          <p>{movie.director}</p>\n          <p>{textTruncate(movie.description)}</p>\n        </div>\n      </div>\n    </Link>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieCard\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 24, "language": "js", "text": "export default theme => ({\n  card: {\n    display: 'flex',\n    flex: ' 0 0 auto',\n    flexDirection: 'column',\n    width: '400px',\n    boxShadow: `10px 5px 40px 20px ${theme.palette.background.dark}`,\n    margin: '60px 30px'\n  },\n  header: {\n    backgroundColor: '#7fc7d9', // Average color of the background image.\n    backgroundSize: 'cover',\n    height: '200px',\n    padding: '5px 10px',\n    width: '100%',\n    color: theme.palette.common.white\n  },\n  body: {\n    backgroundColor: theme.palette.common.white,\n    color: theme.palette.common.black,\n    padding: '15px',\n    whiteSpace: 'normal'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieCardSimple\\MovieCardSimple.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 25, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  card: {\n    maxWidth: 400,\n    backgroundColor: 'transparent',\n    borderRadius: 0,\n    color: theme.palette.common.white,\n    boxShadow: 'unset'\n  },\n  media: {\n    height: 300\n  },\n  h5: {\n    textTransform: 'capitalize'\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieCardSimple\\MovieCardSimple.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 26, "end_line": 54, "language": "js", "text": "\nconst MovieCardSimple = props => {\n  const classes = useStyles();\n  const { movie } = props;\n\n  return (\n    <Link to={`movie/${movie._id}`} style={{ textDecoration: 'none' }}>\n      <Card className={classes.card}>\n        <CardActionArea>\n          <CardMedia\n            className={classes.media}\n            image={movie.image}\n            title={movie.title}\n          />\n          <CardContent>\n            <Typography\n              className={classes.h5}\n              gutterBottom\n              variant=\"h5\"\n              component=\"h2\"\n              color=\"inherit\">\n              {movie.title}\n            </Typography>\n          </CardContent>\n        </CardActionArea>\n      </Card>\n    </Link>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieCardSimple\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 26, "language": "js", "text": "export default theme => ({\n  card: {\n    display: 'flex',\n    flex: ' 0 0 auto',\n    flexDirection: 'column',\n    width: 400,\n    height: 400,\n    boxShadow: `10px 5px 40px 20px ${theme.palette.background.dark}`,\n    margin: '60px 30px'\n  },\n  header: {\n    backgroundColor: '#7fc7d9', // Average color of the background image.\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    height: '80%',\n    padding: '5px 10px',\n    width: '100%',\n    color: theme.palette.common.white\n  },\n  body: {\n    height: '20%',\n    color: theme.palette.common.white,\n    padding: '15px',\n    whiteSpace: 'normal'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieCarousel\\MovieCarousel.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 13, "end_line": 22, "language": "js", "text": "\nfunction NextArrow(props) {\n  const { currentSlide, slideCount, onClick } = props;\n  const classes = useStyles({ currentSlide, slideCount });\n  return (\n    <div className={classnames(classes.arrow, 'nextArrow')} onClick={onClick}>\n      <ArrowForwardIos color=\"inherit\" fontSize=\"large\" />\n    </div>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieCarousel\\MovieCarousel.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 23, "end_line": 32, "language": "js", "text": "\nfunction PrevArrow(props) {\n  const { currentSlide, onClick } = props;\n  const classes = useStyles({ currentSlide });\n  return (\n    <div className={classnames(classes.arrow, 'prevArrow')} onClick={onClick}>\n      <ArrowBackIos color=\"inherit\" fontSize=\"large\" />\n    </div>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieCarousel\\MovieCarousel.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 33, "end_line": 88, "language": "js", "text": "\nfunction MovieCarousel({ carouselClass, movies = [], title, to = null }) {\n  const classes = useStyles();\n  const settings = {\n    centerMode: true,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 4,\n    swipeToSlide: true,\n    nextArrow: <NextArrow />,\n    prevArrow: <PrevArrow />,\n    responsive: [\n      {\n        breakpoint: 1600,\n        settings: {\n          slidesToShow: 3\n        }\n      },\n      {\n        breakpoint: 1250,\n        settings: {\n          slidesToShow: 2\n        }\n      },\n      {\n        breakpoint: 750,\n        settings: {\n          slidesToShow: 1\n        }\n      }\n    ]\n  };\n  if (!movies.length) return null;\n  return (\n    <div className={carouselClass}>\n      <div className={classes.container}>\n        <Typography className={classes.h2} variant=\"h2\" color=\"inherit\">\n          {title}\n        </Typography>\n        {to==null? null\n           :\n          <Link to={to} style={{ textDecoration: 'none' }}>\n          <Button className={classes.button} color=\"primary\">\n            Explore All\n          </Button>\n        </Link>\n      }\n      </div>\n      <Slider {...settings} className={classes.slider}>\n        {movies.map(movie => (\n          <MovieCardSimple key={movie._id} movie={movie} />\n        ))}\n      </Slider>\n    </div>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\MovieCarousel\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 47, "language": "js", "text": "export default theme => ({\n  container: {\n    display: 'flex',\n    alignItems: 'baseline'\n  },\n  h2: {\n    fontSize: '2rem',\n    color: theme.palette.common.white,\n    margin: theme.spacing(3),\n    textTransform: 'capitalize'\n  },\n  button: {},\n  carousel: {\n    width: '85%',\n    height: '100%',\n    margin: 'auto'\n  },\n  arrow: {\n    cursor: 'pointer',\n    position: 'absolute',\n    top: 0,\n    bottom: 60,\n    width: '20%',\n    display: 'flex',\n    alignItems: 'center',\n    background: 'rgba(0,0,0,.5)',\n    color: theme.palette.common.white,\n    zIndex: 1,\n    '&.prevArrow': {\n      left: 0,\n      justifyContent: 'flex-start',\n      background:\n        ' linear-gradient(90deg, rgba(0,0,0,1) 0%, rgba(0,0,37,0) 100%)',\n      opacity: ({ currentSlide }) => (currentSlide ? 1 : 0)\n    },\n    '&.nextArrow': {\n      right: 0,\n      justifyContent: 'flex-end',\n      background:\n        ' linear-gradient(90deg, rgba(0,0,37,0) 0%, rgba(0,0,0,1) 100%)',\n      opacity: ({ currentSlide, slideCount }) =>\n        currentSlide === slideCount ? 0 : 1\n    }\n  },\n\n  slider: { '& .slick-slide': { padding: theme.spacing(1) } }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\ResponsiveMovieCard\\ResponsiveMovieCard.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 56, "language": "js", "text": "\nconst MovieCard = props => {\n  const { classes, movie } = props;\n\n  return (\n    <Link to={`/movie/${movie._id}`} style={{ textDecoration: 'none' }}>\n      <Paper className={classes.movieCard} elevation={20}>\n        <div className={classes.infoSection}>\n          <header className={classes.movieHeader}>\n            <Typography\n              className={classes.movieTitle}\n              variant=\"h1\"\n              color=\"inherit\">\n              {movie.title}\n            </Typography>\n            <Typography\n              className={classes.director}\n              variant=\"h4\"\n              color=\"inherit\">\n              By: {movie.director}\n            </Typography>\n            <Typography\n              className={classes.duration}\n              variant=\"body1\"\n              color=\"inherit\">\n              {movie.duration} min\n            </Typography>\n            <Typography\n              className={classes.genre}\n              variant=\"body1\"\n              color=\"inherit\">\n              {movie.genre}\n            </Typography>\n          </header>\n\n          <div className={classes.description}>\n            <Typography\n              className={classes.descriptionText}\n              variant=\"body1\"\n              color=\"inherit\">\n              {textTruncate(movie.description, 250)}\n            </Typography>\n          </div>\n          {/* <div className={classes.footer}>\n            <div className={classes.icons}>\n              <ShareIcon fontSize=\"small\" />\n            </div>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\ResponsiveMovieCard\\ResponsiveMovieCard.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 55, "end_line": 74, "language": "js", "text": "              <ShareIcon fontSize=\"small\" />\n            </div>\n            <div className={classes.icons}>\n              <FavoriteIcon fontSize=\"small\" />\n            </div>\n            <div className={classes.icons}>\n              <CaledarIcon fontSize=\"small\" />\n            </div>\n          </div> */}\n        </div>\n        <div\n          className={classes.blurBackground}\n          style={{\n            backgroundImage: `url(${movie.image})`\n          }}\n        />\n      </Paper>\n    </Link>\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\ResponsiveMovieCard\\ResponsiveMovieCard.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 73, "end_line": 74, "language": "js", "text": "  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\ResponsiveMovieCard\\ResponsiveMovieCard.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 74, "end_line": 74, "language": "js", "text": "};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\ResponsiveMovieCard\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 68, "language": "js", "text": "export default theme => ({\n  movieCard: {\n    position: 'relative',\n    height: 350,\n    width: 800,\n    color: theme.palette.common.white,\n    backgroundColor: theme.palette.background.dark,\n    borderRadius: 10,\n    transition: 'all 0.4s',\n    '&:hover': {\n      transform: 'scale(1.02)',\n      transition: 'all 0.4s'\n    }\n  },\n  infoSection: {\n    position: 'relative',\n    width: '100%',\n    height: '100%',\n    backgroundBlendMode: 'multiply',\n    background: 'linear-gradient(to right, #0d0d0c 50%, transparent 100%)',\n    zIndex: 2,\n    borderRadius: 10\n  },\n  movieHeader: {\n    position: 'relative',\n    padding: theme.spacing(3),\n    height: '40%',\n    width: '60%'\n  },\n  movieTitle: {\n    fontSize: '25px',\n    fontWeight: 400,\n    textTransform: 'capitalize'\n  },\n  director: {\n    color: '#9ac7fa',\n    fontWeight: '500',\n    fontSize: '16px',\n    marginTop: theme.spacing(1)\n  },\n  duration: {\n    display: 'inline-block',\n    marginTop: theme.spacing(2),\n    padding: theme.spacing(1),\n    border: '1px solid rgba(255,255,255,0.13)'\n  },\n  genre: {\n    display: 'inline-block',\n    color: '#cee4fd',\n    marginLeft: theme.spacing(2)\n  },\n  description: {\n    padding: theme.spacing(3),\n    height: '50%',\n    width: '50%'\n  },\n  descriptionText: {\n    color: '#cfd6e1'\n  },\n  footer: {\n    height: '10%',\n    paddingLeft: theme.spacing(2),\n    paddingBottom: theme.spacing(3)\n  },\n  icons: {\n    display: 'inline-block',\n    cursor: 'pointer',\n    color: 'rgba(255, 255, 255, 0.4)',"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\ResponsiveMovieCard\\styles.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 67, "end_line": 115, "language": "js", "text": "    cursor: 'pointer',\n    color: 'rgba(255, 255, 255, 0.4)',\n    margin: theme.spacing(0, 1),\n    transition: 'all 0.3s',\n    '&:hover': {\n      color: 'rgba(255, 255, 255, 0.8)',\n      transform: 'scale(1.25)',\n      transition: 'all 0.3s',\n      transitionDelay: '0.15s'\n    }\n  },\n  blurBackground: {\n    position: 'absolute',\n    top: 0,\n    zIndex: 1,\n    height: '100%',\n    right: 0,\n    backgroundSize: 'cover !important',\n    borderRadius: 11,\n    width: '80%',\n    backgroundPosition: '-100% 10% !important'\n  },\n\n  [theme.breakpoints.down('sm')]: {\n    fullWidth: { width: '100%' },\n    movieCard: {\n      width: '90%',\n      margin: '0 auto',\n      height: 'auto'\n    },\n    blurBackground: {\n      width: '100%',\n      backgroundPosition: '50% 50% !important'\n    },\n    movieHeader: {\n      width: '100%',\n      marginTop: theme.spacing(3)\n    },\n    description: {\n      width: '100%'\n    },\n    infoSection: {\n      background:\n        'linear-gradient(to top, rgb(20, 20, 19) 50%, transparent 100%)',\n      zIndex: 2,\n      borderRadius: 10\n    }\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\ResponsiveMovieCard\\styles.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 114, "end_line": 115, "language": "js", "text": "  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\components\\ResponsiveMovieCard\\styles.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 115, "end_line": 115, "language": "js", "text": "});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\HomePage\\HomePage.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 15, "end_line": 30, "language": "js", "text": "  componentDidMount() {\n    const {\n      movies,\n      showtimes,\n      suggested,\n      getMovies,\n      getShowtimes,\n      getMovieSuggestion,\n      user\n    } = this.props;\n    if (!movies.length) getMovies();\n    if (!showtimes.length) getShowtimes();\n    if (user) {\n      if (!suggested.length) getMovieSuggestion(user.username);\n    }\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\HomePage\\HomePage.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 31, "end_line": 37, "language": "js", "text": "\n  componentDidUpdate(prevProps) {\n    if (this.props.user !== prevProps.user) {\n      this.props.user &&\n        this.props.getMovieSuggestion(this.props.user.username);\n    }\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\HomePage\\HomePage.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 38, "end_line": 76, "language": "js", "text": "\n  render() {\n    const {\n      classes,\n      randomMovie,\n      comingSoon,\n      nowShowing,\n      suggested\n    } = this.props;\n    return (\n      <Fragment>\n        <MovieBanner movie={randomMovie} height=\"85vh\" />\n        <Box height={60} />\n        <MovieCarousel\n          carouselClass={classes.carousel}\n          title=\"Suggested for you\"\n          movies={suggested}\n        />\n        <MovieCarousel\n          carouselClass={classes.carousel}\n          title=\"Now Showing\"\n          to=\"/movie/category/nowShowing\"\n          movies={nowShowing}\n        />\n        <MovieCarousel\n          carouselClass={classes.carousel}\n          title=\"Coming Soon\"\n          to=\"/movie/category/comingSoon\"\n          movies={comingSoon}\n        />\n        {false && (\n          <Grid container style={{ height: 500 }}>\n            <Grid item xs={7} style={{ background: '#131334' }}></Grid>\n            <Grid item xs={5} style={{ background: '#010025' }}></Grid>\n          </Grid>\n        )}\n      </Fragment>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\HomePage\\HomePage.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 86, "end_line": 96, "language": "js", "text": "\nconst mapStateToProps = ({ movieState, showtimeState, authState }) => ({\n  movies: movieState.movies,\n  randomMovie: movieState.randomMovie,\n  latestMovies: movieState.latestMovies,\n  comingSoon: movieState.comingSoon,\n  nowShowing: movieState.nowShowing,\n  showtimes: showtimeState.showtimes,\n  suggested: movieState.suggested,\n  user: authState.user\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\HomePage\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './HomePage';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\HomePage\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 6, "language": "js", "text": "export default theme => ({\n  grid: {\n    height: '100%'\n  },\n  carousel: { marginBottom: theme.spacing(6) }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Login\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Login';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Login\\Login.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 55, "language": "js", "text": "\nconst styles = theme => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    height: '100vh'\n  },\n  grid: {\n    height: '100%'\n  },\n  bgWrapper: {\n    [theme.breakpoints.down('md')]: {\n      display: 'none'\n    }\n  },\n  bg: {\n    backgroundColor: theme.palette.common.neutral,\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundImage: 'url(https://source.unsplash.com/featured/?cinema)',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center',\n    opacity: 0.5\n  },\n  content: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  contentHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingTop: theme.spacing(5),\n    paddingBototm: theme.spacing(2),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2)\n  },\n\n  contentBody: {\n    flexGrow: 1,\n    display: 'flex',\n    alignItems: 'center',\n    [theme.breakpoints.down('md')]: {\n      justifyContent: 'center'\n    }\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Login\\Login.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 58, "end_line": 61, "language": "js", "text": "  handleBack = () => {\n    const { history } = this.props;\n    history.goBack();\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Login\\Login.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 62, "end_line": 86, "language": "js", "text": "\n  render() {\n    const { classes } = this.props;\n    return (\n      <div className={classes.root}>\n        <Grid className={classes.grid} container>\n          <Grid className={classes.bgWrapper} item lg={5}>\n            <div className={classes.bg} />\n          </Grid>\n          <Grid className={classes.content} item lg={7} xs={12}>\n            <div className={classes.contentHeader}>\n              <IconButton\n                className={classes.backButton}\n                onClick={this.handleBack}>\n                <ArrowBackIcon />\n              </IconButton>\n            </div>\n            <div className={classes.contentBody}>\n              <LoginForm redirect />\n            </div>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Login\\components\\LoginForm.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 70, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  form: {\n    paddingLeft: '100px',\n    paddingRight: '100px',\n    paddingBottom: '125px',\n    flexBasis: '700px',\n    [theme.breakpoints.down('sm')]: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    }\n  },\n  title: {\n    color: theme.palette.common.contrastText,\n    marginTop: theme.spacing(3)\n  },\n  socialLogin: {\n    margin: theme.spacing(4, 0)\n  },\n  fields: {\n    marginTop: theme.spacing(2)\n  },\n  textField: {\n    width: '100%',\n    '& + & ': {\n      marginTop: theme.spacing(2)\n    }\n  },\n  progress: {\n    display: 'block',\n    marginTop: theme.spacing(2),\n    marginLeft: 'auto',\n    marginRight: 'auto'\n  },\n  loginButton: {\n    marginTop: theme.spacing(2),\n    width: '100%'\n  },\n  register: {\n    marginTop: theme.spacing(2),\n    color: theme.palette.text.secondary\n  },\n  registerUrl: {\n    color: theme.palette.primary.main,\n    fontWeight: 'bold',\n    '&:hover': {\n      color: theme.palette.primary.main\n    }\n  },\n  fieldError: {\n    color: theme.palette.danger.main,\n    marginBottom: theme.spacing(2),\n    marginTop: theme.spacing(1)\n  },\n  submitError: {\n    color: theme.palette.danger.main,\n    alignText: 'center',\n    marginBottom: theme.spacing(1),\n    marginTop: theme.spacing(2)\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Login\\components\\LoginForm.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 71, "end_line": 119, "language": "js", "text": "\nfunction LoginForm(props) {\n  const { facebookLogin, googleLogin, isAuthenticated, user, redirect } = props;\n  const classes = useStyles();\n  const [values, setValues] = useState({ username: '', password: '' });\n\n  useEffect(() => {\n    if (isAuthenticated && redirect) {\n      if (user && user.role === 'superadmin')\n        return history.push('/admin/dashboard');\n      return history.push('/');\n    }\n  }, [isAuthenticated, user, redirect]);\n\n  const handleFieldChange = e =>\n    setValues({\n      ...values,\n      [e.target.name]: e.target.value\n    });\n\n  return (\n    <form className={classes.form}>\n      <Typography className={classes.title} variant=\"h2\">\n        Sign in\n      </Typography>\n\n      <div className={classes.socialLogin}>\n        <GoogleLogin\n          clientId={process.env.REACT_APP_GOOGLE_CLIENT_ID}\n          onSuccess={googleLogin}\n          onFailure={googleLogin}\n          cookiePolicy={'single_host_origin'}\n          render={renderProps => (\n            <Button\n              onClick={renderProps.onClick}\n              disabled={renderProps.disabled}\n              fullWidth\n              variant=\"contained\"\n              style={{\n                borderRadius: 0,\n                background: '#fff',\n                color: '#de5246',\n                marginBottom: 10,\n                height: 60,\n                fontSize: 'calc(.27548vw + 12.71074px)',\n                fontWeight: 700\n              }}>\n              Login With Google\n            </Button>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Login\\components\\LoginForm.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 118, "end_line": 167, "language": "js", "text": "              Login With Google\n            </Button>\n          )}\n        />\n        <FacebookLogin\n          buttonStyle={{ width: '100%', height: 60 }}\n          appId={process.env.REACT_APP_FACEBOOK_APP_ID} //APP ID NOT CREATED YET\n          fields=\"name,email,picture\"\n          callback={facebookLogin}\n        />\n      </div>\n\n      <div className={classes.fields}>\n        <TextField\n          className={classes.textField}\n          label=\"username\"\n          name=\"username\"\n          onChange={event => handleFieldChange(event)}\n          type=\"text\"\n          value={values.username}\n          variant=\"outlined\"\n        />\n        <TextField\n          className={classes.textField}\n          label=\"Password\"\n          name=\"password\"\n          onChange={event => handleFieldChange(event)}\n          type=\"password\"\n          value={values.password}\n          variant=\"outlined\"\n        />\n      </div>\n\n      <Button\n        className={classes.loginButton}\n        color=\"primary\"\n        onClick={() => props.login(values.username, values.password)}\n        size=\"large\"\n        variant=\"contained\">\n        Login now\n      </Button>\n      <Typography className={classes.register} variant=\"body1\">\n        Don't have an account?\n        <Link className={classes.registerUrl} to=\"/register\">\n          register\n        </Link>\n      </Typography>\n    </form>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Login\\components\\LoginForm.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 166, "end_line": 167, "language": "js", "text": "  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Login\\components\\LoginForm.js", "chunk_id": 1, "subchunk_id": 3, "start_line": 167, "end_line": 167, "language": "js", "text": "}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Login\\components\\LoginForm.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 168, "end_line": 172, "language": "js", "text": "\nconst mapStateToProps = state => ({\n  isAuthenticated: state.authState.isAuthenticated,\n  user: state.authState.user\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MovieCategoryPage\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './MovieCategoryPage';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MovieCategoryPage\\MovieCategoryPage.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 19, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  title: {\n    fontSize: '3rem',\n    lineHeight: '3rem',\n    textAlign: 'center',\n    textTransform: 'capitalize',\n    marginTop: theme.spacing(15),\n    marginBottom: theme.spacing(3)\n  },\n  [theme.breakpoints.down('sm')]: {\n    fullWidth: { width: '100%' }\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MovieCategoryPage\\MovieCategoryPage.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 20, "end_line": 64, "language": "js", "text": "\nfunction MovieCategoryPage(props) {\n  const { movies, getMovies } = props;\n  const category = props.match.params.category;\n  useEffect(() => {\n    if (!movies.length) {\n      getMovies();\n    }\n  }, [movies, getMovies]);\n\n  const classes = useStyles(props);\n  return (\n    <Grid container spacing={2}>\n      {!['nowShowing', 'comingSoon'].includes(category) ? (\n        <Grid item xs={12}>\n          <Typography className={classes.title} variant=\"h2\" color=\"inherit\">\n            Category Does not exist.\n          </Typography>\n        </Grid>\n      ) : (\n        <>\n          <Grid item xs={12}>\n            <Typography className={classes.title} variant=\"h2\" color=\"inherit\">\n              {category}\n            </Typography>\n          </Grid>\n          <Grid\n            container\n            item\n            xs={12}\n            direction=\"column\"\n            alignItems=\"center\"\n            justify=\"center\"\n            spacing={2}>\n            {movies.map(movie => (\n              <Grid key={movie._id} item className={classes.fullWidth}>\n                <ResponsiveMovieCard movie={movie} />\n              </Grid>\n            ))}\n          </Grid>\n        </>\n      )}\n    </Grid>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MovieCategoryPage\\MovieCategoryPage.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 65, "end_line": 68, "language": "js", "text": "\nconst mapStateToProps = ({ movieState }, ownProps) => ({\n  movies: movieState[ownProps.match.params.category] || []\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MoviePage\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './MoviePage';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MoviePage\\MoviePage.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 11, "language": "js", "text": "  componentDidMount() {\n    this.props.getMovie(this.props.match.params.id);\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MoviePage\\MoviePage.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 15, "language": "js", "text": "\n  componentWillUnmount() {\n    this.props.onSelectMovie(null);\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MoviePage\\MoviePage.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 16, "end_line": 20, "language": "js", "text": "\n  render() {\n    const { movie } = this.props;\n    return <>{movie && <MovieBanner movie={movie} fullDescription />}</>;\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MoviePage\\MoviePage.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 27, "end_line": 30, "language": "js", "text": "\nconst mapStateToProps = ({ movieState }) => ({\n  movie: movieState.selectedMovie\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './MyDashboard';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\MyDashboard.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 20, "language": "js", "text": "\nconst useStyles = makeStyles(theme => ({\n  title: {\n    fontSize: '3rem',\n    lineHeight: '3rem',\n    textAlign: 'center',\n    textTransform: 'capitalize',\n    marginTop: theme.spacing(15),\n    marginBottom: theme.spacing(3)\n  },\n  [theme.breakpoints.down('sm')]: {\n    fullWidth: { width: '100%' }\n  }\n}));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\MyDashboard.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 21, "end_line": 80, "language": "js", "text": "\nfunction MyDashboard(props) {\n  const {\n    user,\n    reservations,\n    movies,\n    cinemas,\n    getMovies,\n    getReservations,\n    getCinemas\n  } = props;\n\n  useEffect(() => {\n    getMovies();\n    getReservations();\n    getCinemas();\n  }, [getMovies, getReservations, getCinemas]);\n\n  const classes = useStyles(props);\n\n  const myReservations = reservations.filter(\n    reservation => reservation.username === user.username\n  );\n\n  console.log(myReservations);\n\n  return (\n    <Container>\n      <Grid container spacing={2}>\n        {!!myReservations.length && (\n          <>\n            <Grid item xs={12}>\n              <Typography\n                className={classes.title}\n                variant=\"h2\"\n                color=\"inherit\">\n                My Reservations\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <MyReservationTable\n                reservations={myReservations}\n                movies={movies}\n                cinemas={cinemas}\n              />\n            </Grid>\n          </>\n        )}\n        <Grid item xs={12}>\n          <Typography className={classes.title} variant=\"h2\" color=\"inherit\">\n            My Account\n          </Typography>\n        </Grid>\n        <Grid item xs={12}>\n          <Account />\n        </Grid>\n      </Grid>\n    </Container>\n  );\n}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\MyDashboard.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 81, "end_line": 92, "language": "js", "text": "\nconst mapStateToProps = ({\n  authState,\n  movieState,\n  reservationState,\n  cinemaState\n}) => ({\n  user: authState.user,\n  movies: movieState.movies,\n  reservations: reservationState.reservations,\n  cinemas: cinemaState.cinemas\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\components\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default as MyReservationTable } from './MyReservationTable';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\components\\MyReservationTable\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './MyReservationTable';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\components\\MyReservationTable\\MyReservationTable.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 37, "end_line": 37, "language": "js", "text": "    onSelect: () => {},"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\components\\MyReservationTable\\MyReservationTable.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 38, "end_line": 38, "language": "js", "text": "    onShowDetails: () => {}"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\components\\MyReservationTable\\MyReservationTable.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 40, "end_line": 43, "language": "js", "text": "\n  handleChangePage = (event, page) => {\n    this.setState({ page });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\components\\MyReservationTable\\MyReservationTable.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 44, "end_line": 47, "language": "js", "text": "\n  handleChangeRowsPerPage = event => {\n    this.setState({ rowsPerPage: event.target.value });\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\components\\MyReservationTable\\MyReservationTable.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 48, "end_line": 52, "language": "js", "text": "\n  onFindAttr = (id, list, attr) => {\n    const item = list.find(item => item._id === id);\n    return item ? item[attr] : `Not ${attr} Found`;\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\components\\MyReservationTable\\MyReservationTable.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 53, "end_line": 87, "language": "js", "text": "\n  render() {\n    const { classes, className, reservations, movies, cinemas } = this.props;\n    const { rowsPerPage, page } = this.state;\n    const rootClassName = classNames(classes.root, className);\n\n    return (\n      <Portlet className={rootClassName}>\n        <PortletContent noPadding>\n          <Table>\n            <TableHead>\n              <TableRow>\n                <TableCell align=\"left\">Movie</TableCell>\n                <TableCell align=\"left\">Cinema</TableCell>\n                <TableCell align=\"left\">Date</TableCell>\n                <TableCell align=\"left\">Start At</TableCell>\n                <TableCell align=\"left\">Ticket Price</TableCell>\n                <TableCell align=\"left\">Total</TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {reservations\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                .map(reservation => (\n                  <TableRow\n                    className={classes.tableRow}\n                    hover\n                    key={reservation._id}>\n                    <TableCell className={classes.tableCell}>\n                      {this.onFindAttr(reservation.movieId, movies, 'title')}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {this.onFindAttr(reservation.cinemaId, cinemas, 'name')}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\components\\MyReservationTable\\MyReservationTable.js", "chunk_id": 5, "subchunk_id": 1, "start_line": 86, "end_line": 121, "language": "js", "text": "                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {new Date(reservation.date).toLocaleDateString()}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {reservation.startAt}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {reservation.ticketPrice}\n                    </TableCell>\n                    <TableCell className={classes.tableCell}>\n                      {reservation.total}\n                    </TableCell>\n                  </TableRow>\n                ))}\n            </TableBody>\n          </Table>\n          <TablePagination\n            backIconButtonProps={{\n              'aria-label': 'Previous Page'\n            }}\n            component=\"div\"\n            count={reservations.length}\n            nextIconButtonProps={{\n              'aria-label': 'Next Page'\n            }}\n            onChangePage={this.handleChangePage}\n            onChangeRowsPerPage={this.handleChangeRowsPerPage}\n            page={page}\n            rowsPerPage={rowsPerPage}\n            rowsPerPageOptions={[5, 10, 25]}\n          />\n        </PortletContent>\n      </Portlet>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\components\\MyReservationTable\\MyReservationTable.js", "chunk_id": 5, "subchunk_id": 2, "start_line": 120, "end_line": 121, "language": "js", "text": "    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\components\\MyReservationTable\\MyReservationTable.js", "chunk_id": 5, "subchunk_id": 3, "start_line": 121, "end_line": 121, "language": "js", "text": "  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\MyDashboard\\components\\MyReservationTable\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 27, "language": "js", "text": "export default theme => ({\n  root: {},\n  tableRow: {\n    height: '64px'\n  },\n  tableCell: {\n    whiteSpace: 'nowrap'\n  },\n  tableCellInner: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  avatar: {\n    backgroundColor: theme.palette.primary.main,\n    display: 'inline-flex',\n    fontSize: '14px',\n    fontWeight: 500,\n    height: '36px',\n    width: '36px'\n  },\n  nameText: {\n    display: 'inline-block',\n    marginLeft: theme.spacing(2),\n    fontWeight: 500,\n    cursor: 'pointer'\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from './Register';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 31, "end_line": 36, "language": "js", "text": "\n  componentDidUpdate(prevProps) {\n    const { isAuthenticated, history } = this.props;\n    if (prevProps.isAuthenticated !== isAuthenticated || isAuthenticated)\n      history.push('/');\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 37, "end_line": 41, "language": "js", "text": "\n  handleBack = () => {\n    const { history } = this.props;\n    history.goBack();\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 42, "end_line": 47, "language": "js", "text": "\n  handleFieldChange = (field, value) => {\n    const newState = { ...this.state };\n    newState.values[field] = value;\n    this.setState(newState);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 48, "end_line": 52, "language": "js", "text": "\n  handleRegister = () => {\n    const newUser = this.state.values;\n    this.props.register(newUser);\n  };"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 53, "end_line": 89, "language": "js", "text": "\n  render() {\n    const { classes } = this.props;\n    const { values } = this.state;\n\n    const isValid = values.policy;\n\n    return (\n      <div className={classes.root}>\n        <Grid className={classes.grid} container>\n          <Grid className={classes.bgWrapper} item lg={5}>\n            <div className={classes.bg} />\n          </Grid>\n          <Grid className={classes.content} item lg={7} xs={12}>\n            <div className={classes.content}>\n              <div className={classes.contentHeader}>\n                <IconButton\n                  className={classes.backButton}\n                  onClick={this.handleBack}>\n                  <ArrowBackIcon />\n                </IconButton>\n              </div>\n              <div className={classes.contentBody}>\n                <form className={classes.form}>\n                  <Typography className={classes.title} variant=\"h2\">\n                    Create new account\n                  </Typography>\n                  <Typography className={classes.subtitle} variant=\"body1\">\n                    Use your email to create new account... it's free.\n                  </Typography>\n                  <div className={classes.fields}>\n                    <TextField\n                      className={classes.textField}\n                      label=\"Full name\"\n                      name=\"name\"\n                      value={values.name}\n                      onChange={event =>"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 4, "subchunk_id": 1, "start_line": 88, "end_line": 90, "language": "js", "text": "                      value={values.name}\n                      onChange={event =>\n                        this.handleFieldChange('name', event.target.value)"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 4, "subchunk_id": 2, "start_line": 89, "end_line": 90, "language": "js", "text": "                      onChange={event =>\n                        this.handleFieldChange('name', event.target.value)"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 4, "subchunk_id": 3, "start_line": 90, "end_line": 90, "language": "js", "text": "                        this.handleFieldChange('name', event.target.value)"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 4, "subchunk_id": 4, "start_line": 89, "end_line": 124, "language": "js", "text": "                      onChange={event =>\n                        this.handleFieldChange('name', event.target.value)\n                      }\n                      variant=\"outlined\"\n                    />\n                    <TextField\n                      className={classes.textField}\n                      label=\"User name\"\n                      name=\"username\"\n                      value={values.username}\n                      onChange={event =>\n                        this.handleFieldChange('username', event.target.value)\n                      }\n                      variant=\"outlined\"\n                    />\n                    <TextField\n                      className={classes.textField}\n                      label=\"Email address\"\n                      name=\"email\"\n                      value={values.email}\n                      onChange={event =>\n                        this.handleFieldChange('email', event.target.value)\n                      }\n                      variant=\"outlined\"\n                    />\n                    <TextField\n                      className={classes.textField}\n                      label=\"Mobile Phone\"\n                      name=\"phone\"\n                      value={values.phone}\n                      variant=\"outlined\"\n                      onChange={event =>\n                        this.handleFieldChange('phone', event.target.value)\n                      }\n                    />\n                    <TextField"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 4, "subchunk_id": 5, "start_line": 123, "end_line": 156, "language": "js", "text": "                    />\n                    <TextField\n                      className={classes.textField}\n                      label=\"Password\"\n                      type=\"password\"\n                      value={values.password}\n                      variant=\"outlined\"\n                      onChange={event =>\n                        this.handleFieldChange('password', event.target.value)\n                      }\n                    />\n                    <FileUpload\n                      className={classes.upload}\n                      file={values.image}\n                      onUpload={event => {\n                        const file = event.target.files[0];\n                        this.handleFieldChange('image', file);\n                      }}\n                    />\n                    <div className={classes.policy}>\n                      <Checkbox\n                        checked={values.policy}\n                        className={classes.policyCheckbox}\n                        color=\"primary\"\n                        name=\"policy\"\n                        onChange={() =>\n                          this.handleFieldChange('policy', !values.policy)\n                        }\n                      />\n                      <Typography\n                        className={classes.policyText}\n                        variant=\"body1\">\n                        I have read the &nbsp;\n                        <Link className={classes.policyUrl} to=\"#\">"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 4, "subchunk_id": 6, "start_line": 155, "end_line": 187, "language": "js", "text": "                        I have read the &nbsp;\n                        <Link className={classes.policyUrl} to=\"#\">\n                          Terms and Conditions\n                        </Link>\n                        .\n                      </Typography>\n                    </div>\n                  </div>\n\n                  <Button\n                    className={classes.registerButton}\n                    color=\"primary\"\n                    disabled={!isValid}\n                    onClick={this.handleRegister}\n                    size=\"large\"\n                    variant=\"contained\">\n                    Register now\n                  </Button>\n\n                  <Typography className={classes.login} variant=\"body1\">\n                    Have an account?{' '}\n                    <Link className={classes.loginUrl} to=\"/login\">\n                      Login\n                    </Link>\n                  </Typography>\n                </form>\n              </div>\n            </div>\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 4, "subchunk_id": 7, "start_line": 186, "end_line": 187, "language": "js", "text": "    );\n  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 4, "subchunk_id": 8, "start_line": 187, "end_line": 187, "language": "js", "text": "  }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\Register.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 196, "end_line": 199, "language": "js", "text": "\nconst mapStateToProps = state => ({\n  isAuthenticated: state.authState.isAuthenticated\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\styles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 69, "language": "js", "text": "export default theme => ({\n  root: {\n    backgroundColor: theme.palette.background.default,\n    height: '100vh'\n  },\n  grid: {\n    height: '100%'\n  },\n  bgWrapper: {\n    [theme.breakpoints.down('md')]: {\n      display: 'none'\n    }\n  },\n  bg: {\n    backgroundColor: theme.palette.common.neutral,\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundSize: 'cover',\n    backgroundRepeat: 'no-repeat',\n    backgroundPosition: 'center',\n    opacity: 0.5\n  },\n\n  content: {\n    height: '100%',\n    display: 'flex',\n    flexDirection: 'column'\n  },\n  contentHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    paddingTop: theme.spacing(5),\n    paddingBototm: theme.spacing(2),\n    paddingLeft: theme.spacing(2),\n    paddingRight: theme.spacing(2)\n  },\n  backButton: {},\n  logoImage: {\n    marginLeft: theme.spacing(4)\n  },\n  contentBody: {\n    flexGrow: 1,\n    display: 'flex',\n    alignItems: 'center',\n    [theme.breakpoints.down('md')]: {\n      justifyContent: 'center'\n    }\n  },\n  form: {\n    paddingLeft: '100px',\n    paddingRight: '100px',\n    paddingBottom: '125px',\n    flexBasis: '700px',\n    [theme.breakpoints.down('sm')]: {\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2)\n    }\n  },\n  title: {\n    color: theme.palette.common.contrastText,\n    marginTop: theme.spacing(3)\n  },\n  subtitle: {\n    color: theme.palette.text.secondary,\n    marginTop: theme.spacing(0.5)\n  },\n  fields: {"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\styles.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 68, "end_line": 132, "language": "js", "text": "  },\n  fields: {\n    marginTop: theme.spacing(5)\n  },\n  textField: {\n    width: '100%',\n    '& + & ': {\n      marginTop: theme.spacing(2)\n    }\n  },\n  upload: {\n    width: '100%',\n    marginTop: theme.spacing(2)\n  },\n  policy: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  policyCheckbox: {\n    marginLeft: '-14px'\n  },\n  policyText: {\n    display: 'inline',\n    color: theme.palette.text.secondary\n  },\n  policyUrl: {\n    color: theme.palette.text.primary,\n    '&:hover': {\n      cursor: 'pointer',\n      color: theme.palette.primary.main\n    }\n  },\n  progress: {\n    display: 'block',\n    marginTop: theme.spacing(2),\n    marginLeft: 'auto',\n    marginRight: 'auto'\n  },\n  registerButton: {\n    marginTop: theme.spacing(2),\n    width: '100%'\n  },\n  login: {\n    marginTop: theme.spacing(2),\n    color: theme.palette.text.secondary\n  },\n  loginUrl: {\n    color: theme.palette.primary.main,\n    fontWeight: 'bold',\n    '&:hover': {\n      color: theme.palette.primary.main\n    }\n  },\n  fieldError: {\n    color: theme.palette.danger.main,\n    marginBottom: theme.spacing(2),\n    marginTop: theme.spacing(1)\n  },\n  submitError: {\n    color: theme.palette.danger.main,\n    alignText: 'center',\n    marginBottom: theme.spacing(1),\n    marginTop: theme.spacing(2)\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\styles.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 131, "end_line": 132, "language": "js", "text": "  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\pages\\Public\\Register\\styles.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 132, "end_line": 132, "language": "js", "text": "});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\routers\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 2, "language": "js", "text": "export { default as ProtectedRoute } from './ProtectedRoute';\nexport { default as WithLayoutRoute } from './WithLayoutRoute';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\routers\\ProtectedRoute.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 24, "language": "js", "text": "\nconst ProtectedRoute = ({\n  layout: Layout,\n  component: Component,\n  isAuthenticated,\n  ...rest\n}) => (\n  <Route\n    {...rest}\n    render={props =>\n      isAuthenticated ? (\n        <Layout>\n          <Component {...props} />\n        </Layout>\n      ) : (\n        <Redirect to={{ pathname: '/', state: { from: props.location } }} />\n      )\n    }\n  />\n);"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\routers\\ProtectedRoute.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 32, "end_line": 34, "language": "js", "text": "const mapStateToProps = state => ({\n  isAuthenticated: state.authState.isAuthenticated\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\routers\\WithLayoutRoute.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 18, "language": "js", "text": "\nconst WithLayoutRoute = props => {\n  const { layout: Layout, component: Component, layoutProps, ...rest } = props;\n\n  return (\n    <Route\n      {...rest}\n      render={matchProps => (\n        <Layout {...layoutProps}>\n          <Component {...matchProps} />\n        </Layout>\n      )}\n    />\n  );\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 15, "language": "js", "text": "import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\nconst middleware = [thunk];\n\nconst store = createStore(\n  rootReducer,\n  initialState,\n  composeWithDevTools(applyMiddleware(...middleware))\n);\n\nexport default store;"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\alert.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 12, "language": "js", "text": "\nexport const setAlert = (msg, alertType, timeout = 5000) => dispatch => {\n  const id = uuid.v4();\n  dispatch({\n    type: SET_ALERT,\n    payload: { msg, alertType, id }\n  });\n\n  setTimeout(() => dispatch({ type: REMOVE_ALERT, payload: id }), timeout);\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\auth.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 12, "end_line": 32, "language": "js", "text": "\nexport const uploadImage = (id, image) => async dispatch => {\n  try {\n    const data = new FormData();\n    data.append('file', image);\n    const url = '/users/photo/' + id;\n    const response = await fetch(url, {\n      method: 'POST',\n      body: data\n    });\n    const responseData = await response.json();\n    if (response.ok) {\n      dispatch(setAlert('Image Uploaded', 'success', 5000));\n    }\n    if (responseData.error) {\n      dispatch(setAlert(responseData.error.message, 'error', 5000));\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\auth.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 33, "end_line": 58, "language": "js", "text": "\n// Login user\nexport const login = (username, password) => async dispatch => {\n  try {\n    const url = '/users/login';\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ username, password })\n    });\n    const responseData = await response.json();\n    if (response.ok) {\n      const { user } = responseData;\n      user && setUser(user);\n      dispatch({ type: LOGIN_SUCCESS, payload: responseData });\n      dispatch(setAlert(`Welcome ${user.name}`, 'success', 5000));\n    }\n    if (responseData.error) {\n      dispatch({ type: LOGIN_FAIL });\n      dispatch(setAlert(responseData.error.message, 'error', 5000));\n    }\n  } catch (error) {\n    dispatch({ type: LOGIN_FAIL });\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\auth.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 59, "end_line": 86, "language": "js", "text": "\nexport const facebookLogin = e => async dispatch => {\n  try {\n    const { email, userID, name } = e;\n    const options = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, userID, name })\n    };\n    const url = '/users/login/facebook';\n    const response = await fetch(url, options);\n    const responseData = await response.json();\n\n    if (response.ok) {\n      const { user } = responseData;\n      user && setUser(user);\n      dispatch({ type: LOGIN_SUCCESS, payload: responseData });\n      dispatch(setAlert(`Welcome ${user.name}`, 'success', 5000));\n    }\n    if (responseData.error) {\n      dispatch({ type: LOGIN_FAIL });\n      dispatch(setAlert(responseData.error.message, 'error', 5000));\n    }\n  } catch (error) {\n    dispatch({ type: LOGIN_FAIL });\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\auth.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 87, "end_line": 114, "language": "js", "text": "\nexport const googleLogin = ({ profileObj }) => async dispatch => {\n  try {\n    const { email, googleId, name } = profileObj;\n    const options = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({ email, googleId, name })\n    };\n    const url = '/users/login/google';\n    const response = await fetch(url, options);\n    const responseData = await response.json();\n\n    if (response.ok) {\n      const { user } = responseData;\n      user && setUser(user);\n      dispatch({ type: LOGIN_SUCCESS, payload: responseData });\n      dispatch(setAlert(`Welcome ${user.name}`, 'success', 5000));\n    }\n    if (responseData.error) {\n      dispatch({ type: LOGIN_FAIL });\n      dispatch(setAlert(responseData.error.message, 'error', 5000));\n    }\n  } catch (error) {\n    dispatch({ type: LOGIN_FAIL });\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\auth.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 115, "end_line": 149, "language": "js", "text": "\n// Register user\nexport const register = ({\n  name,\n  username,\n  email,\n  phone,\n  image,\n  password\n}) => async dispatch => {\n  try {\n    const url = '/users';\n    const body = { name, username, email, phone, password };\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(body)\n    });\n    const responseData = await response.json();\n    if (response.ok) {\n      const { user } = responseData;\n      user && setUser(user);\n      if (image) dispatch(uploadImage(user._id, image)); // Upload image\n      dispatch({ type: REGISTER_SUCCESS, payload: responseData });\n      dispatch(setAlert('Register Success', 'success', 5000));\n    }\n    if (responseData._message) {\n      dispatch({ type: REGISTER_FAIL });\n      dispatch(setAlert(responseData.message, 'error', 5000));\n    }\n  } catch (error) {\n    dispatch({ type: REGISTER_FAIL });\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\auth.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 150, "end_line": 170, "language": "js", "text": "\n// Load user\nexport const loadUser = () => async dispatch => {\n  if (!isLoggedIn()) return;\n  try {\n    const url = '/users/me';\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: setAuthHeaders()\n    });\n    const responseData = await response.json();\n    if (response.ok) {\n      const { user } = responseData;\n      user && setUser(user);\n      dispatch({ type: USER_LOADED, payload: responseData });\n    }\n    if (!response.ok) dispatch({ type: AUTH_ERROR });\n  } catch (error) {\n    dispatch({ type: AUTH_ERROR });\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\auth.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 171, "end_line": 196, "language": "js", "text": "\n// Logout\nexport const logout = () => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/users/logout';\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    const responseData = await response.json();\n    if (response.ok) {\n      removeUser();\n      dispatch({ type: LOGOUT });\n      dispatch(setAlert('LOGOUT Success', 'success', 5000));\n    }\n    if (responseData.error) {\n      dispatch(setAlert(responseData.error.message, 'error', 5000));\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\checkout.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 13, "end_line": 17, "language": "js", "text": "\nexport const setSelectedSeats = seats => ({\n  type: SET_SELECTED_SEATS,\n  payload: seats\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\checkout.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 18, "end_line": 22, "language": "js", "text": "\nexport const setSuggestedSeats = seats => ({\n  type: SET_SUGGESTED_SEATS,\n  payload: seats\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\checkout.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 23, "end_line": 27, "language": "js", "text": "\nexport const setSelectedCinema = cinema => ({\n  type: SET_SELECTED_CINEMA,\n  payload: cinema\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\checkout.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 28, "end_line": 31, "language": "js", "text": "export const setSelectedDate = date => ({\n  type: SET_SELECTED_DATE,\n  payload: date\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\checkout.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 32, "end_line": 35, "language": "js", "text": "export const setSelectedTime = time => ({\n  type: SET_SELECTED_TIME,\n  payload: time\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\checkout.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 36, "end_line": 39, "language": "js", "text": "export const setInvitation = event => ({\n  type: SET_INVITATION,\n  payload: event\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\checkout.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 40, "end_line": 44, "language": "js", "text": "\nexport const setQRCode = QRCode => ({\n  type: SET_QR_CODE,\n  payload: QRCode\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\checkout.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 45, "end_line": 46, "language": "js", "text": "\nexport const toggleLoginPopup = () => ({ type: TOGGLE_LOGIN_POPUP });"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\checkout.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 47, "end_line": 47, "language": "js", "text": "export const showInvitationForm = () => ({ type: SHOW_INVITATION_FORM });"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\checkout.js", "chunk_id": 9, "subchunk_id": 0, "start_line": 48, "end_line": 48, "language": "js", "text": "export const resetCheckout = () => ({ type: RESET_CHECKOUT });"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\cinemas.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 23, "language": "js", "text": "\nexport const uploadCinemaImage = (id, image) => async dispatch => {\n  try {\n    const data = new FormData();\n    data.append('file', image);\n    const url = '/cinemas/photo/' + id;\n    const response = await fetch(url, {\n      method: 'POST',\n      body: data\n    });\n    const responseData = await response.json();\n    if (response.ok) {\n      dispatch(setAlert('Image Uploaded', 'success', 5000));\n    }\n    if (responseData.error) {\n      dispatch(setAlert(responseData.error.message, 'error', 5000));\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\cinemas.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 24, "end_line": 39, "language": "js", "text": "\nexport const getCinemas = () => async dispatch => {\n  try {\n    const url = '/cinemas';\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' }\n    });\n    const cinemas = await response.json();\n    if (response.ok) {\n      dispatch({ type: GET_CINEMAS, payload: cinemas });\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\cinemas.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 40, "end_line": 55, "language": "js", "text": "\nexport const getCinema = id => async dispatch => {\n  try {\n    const url = '/cinemas/' + id;\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' }\n    });\n    const cinema = await response.json();\n    if (response.ok) {\n      dispatch({ type: GET_CINEMA, payload: cinema });\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\cinemas.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 56, "end_line": 83, "language": "js", "text": "\nexport const createCinemas = (image, newCinema) => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/cinemas';\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newCinema)\n    });\n    const cinema = await response.json();\n    if (response.ok) {\n      dispatch(setAlert('Cinema Created', 'success', 5000));\n      if (image) dispatch(uploadCinemaImage(cinema._id, image));\n      dispatch(getCinemas());\n      return { status: 'success', message: 'Cinema Created' };\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n    return {\n      status: 'error',\n      message: ' Cinema have not been saved, try again.'\n    };\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\cinemas.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 84, "end_line": 109, "language": "js", "text": "\nexport const updateCinemas = (image, cinema, id) => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/cinemas/' + id;\n    const response = await fetch(url, {\n      method: 'PATCH',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(cinema)\n    });\n    if (response.ok) {\n      dispatch(setAlert('Cinema Updated', 'success', 5000));\n      if (image) dispatch(uploadCinemaImage(id, image));\n      return { status: 'success', message: 'Cinema Updated' };\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n    return {\n      status: 'error',\n      message: ' Cinema have not been updated, try again.'\n    };\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\cinemas.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 110, "end_line": 133, "language": "js", "text": "\nexport const removeCinemas = id => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/cinemas/' + id;\n    const response = await fetch(url, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    if (response.ok) {\n      dispatch(setAlert('Cinema Deleted', 'success', 5000));\n      return { status: 'success', message: 'Cinema Removed' };\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n    return {\n      status: 'error',\n      message: ' Cinema have not been deleted, try again.'\n    };\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\cinemas.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 134, "end_line": 149, "language": "js", "text": "\nexport const getCinemasUserModeling = username => async dispatch => {\n  try {\n    const url = '/cinemas/usermodeling/' + username;\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' }\n    });\n    const cinemas = await response.json();\n    if (response.ok) {\n      dispatch({ type: GET_CINEMAS, payload: cinemas });\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 8, "language": "js", "text": "export * from './alert';\nexport * from './auth';\nexport * from './users';\nexport * from './movies';\nexport * from './cinemas';\nexport * from './reservations';\nexport * from './showtimes';\nexport * from './checkout';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\movies.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 23, "language": "js", "text": "\nexport const uploadMovieImage = (id, image) => async dispatch => {\n  try {\n    const data = new FormData();\n    data.append('file', image);\n    const url = '/movies/photo/' + id;\n    const response = await fetch(url, {\n      method: 'POST',\n      body: data\n    });\n    const responseData = await response.json();\n    if (response.ok) {\n      dispatch(setAlert('Image Uploaded', 'success', 5000));\n    }\n    if (responseData.error) {\n      dispatch(setAlert(responseData.error.message, 'error', 5000));\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\movies.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 24, "end_line": 39, "language": "js", "text": "\nexport const getMovies = () => async dispatch => {\n  try {\n    const url = '/movies';\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' }\n    });\n    const movies = await response.json();\n    if (response.ok) {\n      dispatch({ type: GET_MOVIES, payload: movies });\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\movies.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 40, "end_line": 44, "language": "js", "text": "\nexport const onSelectMovie = movie => ({\n  type: SELECT_MOVIE,\n  payload: movie\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\movies.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 45, "end_line": 60, "language": "js", "text": "\nexport const getMovie = id => async dispatch => {\n  try {\n    const url = '/movies/' + id;\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' }\n    });\n    const movie = await response.json();\n    if (response.ok) {\n      dispatch({ type: SELECT_MOVIE, payload: movie });\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\movies.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 61, "end_line": 76, "language": "js", "text": "\nexport const getMovieSuggestion = id => async dispatch => {\n  try {\n    const url = '/movies/usermodeling/' + id;\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: { 'Content-Type': 'application/json' }\n    });\n    const movies = await response.json();\n    if (response.ok) {\n      dispatch({ type: GET_SUGGESTIONS, payload: movies });\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\movies.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 77, "end_line": 99, "language": "js", "text": "\nexport const addMovie = (image, newMovie) => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/movies';\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(newMovie)\n    });\n    const movie = await response.json();\n    if (response.ok) {\n      dispatch(setAlert('Movie have been saved!', 'success', 5000));\n      if (image) dispatch(uploadMovieImage(movie._id, image));\n      dispatch(getMovies());\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\movies.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 100, "end_line": 122, "language": "js", "text": "\nexport const updateMovie = (movieId, movie, image) => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/movies/' + movieId;\n    const response = await fetch(url, {\n      method: 'PUT',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(movie)\n    });\n    if (response.ok) {\n      dispatch(onSelectMovie(null));\n      dispatch(setAlert('Movie have been saved!', 'success', 5000));\n      if (image) dispatch(uploadMovieImage(movieId, image));\n      dispatch(getMovies());\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\movies.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 123, "end_line": 143, "language": "js", "text": "\nexport const removeMovie = movieId => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/movies/' + movieId;\n    const response = await fetch(url, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    if (response.ok) {\n      dispatch(getMovies());\n      dispatch(onSelectMovie(null));\n      dispatch(setAlert('Movie have been Deleted!', 'success', 5000));\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\reservations.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 21, "language": "js", "text": "\nexport const getReservations = () => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/reservations';\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const reservations = await response.json();\n    if (response.ok) {\n      dispatch({ type: GET_RESERVATIONS, payload: reservations });\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\reservations.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 22, "end_line": 43, "language": "js", "text": "\nexport const getSuggestedReservationSeats = username => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/reservations/usermodeling/' + username;\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const reservationSeats = await response.json();\n    if (response.ok) {\n      dispatch({\n        type: GET_RESERVATION_SUGGESTED_SEATS,\n        payload: reservationSeats\n      });\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\reservations.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 44, "end_line": 73, "language": "js", "text": "\nexport const addReservation = reservation => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/reservations';\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(reservation)\n    });\n    if (response.ok) {\n      const { reservation, QRCode } = await response.json();\n      dispatch(setAlert('Reservation Created', 'success', 5000));\n      return {\n        status: 'success',\n        message: 'Reservation Created',\n        data: { reservation, QRCode }\n      };\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n    return {\n      status: 'error',\n      message: ' Reservation have not been created, try again.'\n    };\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\reservations.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 74, "end_line": 98, "language": "js", "text": "\nexport const updateReservation = (reservation, id) => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/reservations/' + id;\n    const response = await fetch(url, {\n      method: 'PATCH',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(reservation)\n    });\n    if (response.ok) {\n      dispatch(setAlert('Reservation Updated', 'success', 5000));\n      return { status: 'success', message: 'Reservation Updated' };\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n    return {\n      status: 'error',\n      message: ' Reservation have not been updated, try again.'\n    };\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\reservations.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 99, "end_line": 122, "language": "js", "text": "\nexport const removeReservation = id => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/reservations/' + id;\n    const response = await fetch(url, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    if (response.ok) {\n      dispatch(setAlert('Reservation Deleted', 'success', 5000));\n      return { status: 'success', message: 'Reservation Removed' };\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n    return {\n      status: 'error',\n      message: ' Reservation have not been deleted, try again.'\n    };\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\showtimes.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 10, "language": "js", "text": "\nexport const toggleDialog = () => ({ type: TOGGLE_DIALOG });"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\showtimes.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 15, "language": "js", "text": "\nexport const selectShowtime = showtime => ({\n  type: SELECT_SHOWTIMES,\n  payload: showtime\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\showtimes.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 16, "end_line": 17, "language": "js", "text": "\nexport const selectAllShowtimes = () => ({ type: SELECT_ALL_SHOWTIMES });"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\showtimes.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 18, "end_line": 36, "language": "js", "text": "\nexport const getShowtimes = () => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/showtimes';\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const showtimes = await response.json();\n    if (response.ok) {\n      dispatch({ type: GET_SHOWTIMES, payload: showtimes });\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\showtimes.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 37, "end_line": 61, "language": "js", "text": "\nexport const addShowtime = showtime => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/showtimes/';\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(showtime)\n    });\n    if (response.ok) {\n      dispatch(setAlert('Showtime Created', 'success', 5000));\n      return { status: 'success', message: 'Showtime Created' };\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n    return {\n      status: 'error',\n      message: ' Cinema have not been saved, try again.'\n    };\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\showtimes.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 62, "end_line": 86, "language": "js", "text": "\nexport const updateShowtime = (showtime, id) => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/showtimes/' + id;\n    const response = await fetch(url, {\n      method: 'PATCH',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(showtime)\n    });\n    if (response.ok) {\n      dispatch(setAlert('Showtime Created', 'success', 5000));\n      return { status: 'success', message: 'Showtime Created' };\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n    return {\n      status: 'error',\n      message: ' Cinema have not been saved, try again.'\n    };\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\showtimes.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 87, "end_line": 112, "language": "js", "text": "\nexport const deleteShowtime = id => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/showtimes/' + id;\n    const response = await fetch(url, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    if (response.ok) {\n      dispatch({ type: DELETE_SHOWTIME, payload: id });\n      dispatch(setAlert('Showtime Deleted', 'success', 5000));\n      dispatch(getShowtimes());\n      return { status: 'success', message: 'Showtime Removed' };\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n    return {\n      status: 'error',\n      message: ' Showtime have not been deleted, try again.'\n    };\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\users.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 12, "end_line": 13, "language": "js", "text": "\nexport const toggleUserDialog = () => ({ type: TOGGLE_USER_DIALOG });"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\users.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 14, "end_line": 18, "language": "js", "text": "\nexport const selectUser = user => ({\n  type: SELECT_USER,\n  payload: user\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\users.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 19, "end_line": 20, "language": "js", "text": "\nexport const selectAllUsers = () => ({ type: SELECT_ALL_USERS });"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\users.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 21, "end_line": 39, "language": "js", "text": "\nexport const getUsers = () => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/users';\n    const response = await fetch(url, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    });\n    const users = await response.json();\n    if (response.ok) {\n      dispatch({ type: GET_USERS, payload: users });\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\users.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 40, "end_line": 69, "language": "js", "text": "\nexport const addUser = user => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/users/';\n    const response = await fetch(url, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    });\n    const data = await response.json();\n    const newUser = data.user;\n    if (response.ok) {\n      dispatch(setAlert('User Created', 'success', 5000));\n      dispatch({ type: ADD_USER, payload: newUser });\n      return { status: 'success', message: 'User Created' };\n    } else {\n      throw new Error(data._message);\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n    return {\n      status: 'error',\n      message: ' User have not been saved, try again.'\n    };\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\users.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 70, "end_line": 99, "language": "js", "text": "\nexport const updateUser = (user, id) => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/users/' + id;\n    const response = await fetch(url, {\n      method: 'PATCH',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(user)\n    });\n    const data = await response.json();\n    const newUser = data.user;\n    if (response.ok) {\n      dispatch(setAlert('User Updated', 'success', 5000));\n      dispatch({ type: UPDATE_USER, payload: newUser });\n      return { status: 'success', message: 'User Updated' };\n    } else {\n      throw new Error(data._message);\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n    return {\n      status: 'error',\n      message: ' User have not been saved, try again.'\n    };\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\actions\\users.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 100, "end_line": 127, "language": "js", "text": "\nexport const deleteUser = id => async dispatch => {\n  try {\n    const token = localStorage.getItem('jwtToken');\n    const url = '/users/' + id;\n    const response = await fetch(url, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    const data = await response.json();\n    if (response.ok) {\n      dispatch(setAlert('User Deleted', 'success', 5000));\n      dispatch({ type: DELETE_USER, payload: id });\n      return { status: 'success', message: 'User Removed' };\n    } else {\n      throw new Error(data._message);\n    }\n  } catch (error) {\n    dispatch(setAlert(error.message, 'error', 5000));\n    return {\n      status: 'error',\n      message: ' User have not been deleted, try again.'\n    };\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\alert.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 12, "language": "js", "text": "\nconst setAlert = (state, { payload }) => ({\n  ...state,\n  alerts: [...state.alerts, payload],\n  showAlert: true\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\alert.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 13, "end_line": 18, "language": "js", "text": "\nconst removeAlert = (state, { payload }) => ({\n  ...state,\n  alerts: [...state.alerts].filter(alert => alert.id !== payload),\n  showAlert: false\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\auth.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 17, "end_line": 36, "language": "js", "text": "\nexport default (state = initialState, action) => {\n  const { type, payload } = action;\n  switch (type) {\n    case USER_LOADED:\n      return { ...state, user: payload, isAuthenticated: true, loading: false };\n    case REGISTER_SUCCESS:\n    case LOGIN_SUCCESS:\n      localStorage.setItem('jwtToken', payload.token);\n      return { ...state, ...payload, isAuthenticated: true, loading: false };\n    case REGISTER_FAIL:\n    case LOGIN_FAIL:\n    case AUTH_ERROR:\n    case LOGOUT:\n      localStorage.removeItem('jwtToken');\n      return initialState;\n    default:\n      return state;\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\checkout.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 25, "end_line": 41, "language": "js", "text": "\nconst setSelectedSeats = (state, seats) => {\n  let newSeats = [];\n  const seatExist = state.selectedSeats.find(\n    seat => JSON.stringify(seat) === JSON.stringify(seats)\n  );\n  !seatExist\n    ? (newSeats = [...state.selectedSeats, seats])\n    : (newSeats = state.selectedSeats.filter(\n        seat => JSON.stringify(seat) !== JSON.stringify(seats)\n      ));\n\n  return {\n    ...state,\n    selectedSeats: newSeats\n  };\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\checkout.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 42, "end_line": 52, "language": "js", "text": "\nconst setSuggestedSeats = (state, seats) => {\n  let newSeats = [];\n\n  newSeats = [...state.suggestedSeat, seats];\n\n  return {\n    ...state,\n    suggestedSeat: newSeats\n  };\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\checkout.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 53, "end_line": 57, "language": "js", "text": "\nconst setSelectedCinema = (state, selectedCinema) => ({\n  ...state,\n  selectedCinema\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\checkout.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 58, "end_line": 61, "language": "js", "text": "const setSelectedDate = (state, selectedDate) => ({\n  ...state,\n  selectedDate\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\checkout.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 62, "end_line": 66, "language": "js", "text": "\nconst setSelectedTime = (state, selectedTime) => ({\n  ...state,\n  selectedTime\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\checkout.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 67, "end_line": 76, "language": "js", "text": "\nconst setInvitation = (state, event) => {\n  return {\n    ...state,\n    invitations: {\n      ...state.invitations,\n      [event.target.name]: event.target.value\n    }\n  };\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\checkout.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 77, "end_line": 81, "language": "js", "text": "\nconst setQRCode = (state, QRCode) => ({\n  ...state,\n  QRCode\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\checkout.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 82, "end_line": 86, "language": "js", "text": "\nconst toggleLoginPopup = state => ({\n  ...state,\n  showLoginPopup: !state.showLoginPopup\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\checkout.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 87, "end_line": 90, "language": "js", "text": "const showInvitationForm = state => ({\n  ...state,\n  showInvitation: !state.showInvitation\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\checkout.js", "chunk_id": 9, "subchunk_id": 0, "start_line": 91, "end_line": 91, "language": "js", "text": "const resetCheckout = () => initialState;"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\cinemas.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 11, "language": "js", "text": "\nconst getCinemas = (state, payload) => ({\n  ...state,\n  cinemas: payload\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\cinemas.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 16, "language": "js", "text": "\nconst getCinema = (state, payload) => ({\n  ...state,\n  selectedCinema: payload\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\cinemas.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 17, "end_line": 29, "language": "js", "text": "\nexport default (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case GET_CINEMAS:\n      return getCinemas(state, payload);\n    case GET_CINEMA:\n      return getCinema(state, payload);\n    default:\n      return state;\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 20, "language": "js", "text": "import { combineReducers } from 'redux';\nimport alert from './alert';\nimport auth from './auth';\nimport users from './users';\nimport movies from './movies';\nimport cinemas from './cinemas';\nimport reservations from './reservations';\nimport showtimes from './showtimes';\nimport checkout from './checkout';\n\nexport default combineReducers({\n  alertState: alert,\n  authState: auth,\n  userState: users,\n  movieState: movies,\n  cinemaState: cinemas,\n  reservationState: reservations,\n  showtimeState: showtimes,\n  checkoutState: checkout\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\movies.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 12, "end_line": 36, "language": "js", "text": "\nconst getMovies = (state, payload) => {\n  const latestMovies = payload\n    .sort((a, b) => Date.parse(b.releaseDate) - Date.parse(a.releaseDate))\n    .slice(0, 5);\n\n  const nowShowing = payload.filter(\n    movie =>\n      new Date(movie.endDate) >= new Date() &&\n      new Date(movie.releaseDate) < new Date()\n  );\n\n  const comingSoon = payload.filter(\n    movie => new Date(movie.releaseDate) > new Date()\n  );\n\n  return {\n    ...state,\n    movies: payload,\n    randomMovie: payload[Math.floor(Math.random() * payload.length)],\n    latestMovies,\n    nowShowing,\n    comingSoon\n  };\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\movies.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 37, "end_line": 41, "language": "js", "text": "\nconst onSelectMovie = (state, payload) => ({\n  ...state,\n  selectedMovie: payload\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\movies.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 42, "end_line": 46, "language": "js", "text": "\nconst getMovieSuggestions = (state, payload) =>({\n  ...state,\n  suggested: payload\n})"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\movies.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 47, "end_line": 61, "language": "js", "text": "\nexport default (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case GET_MOVIES:\n      return getMovies(state, payload);\n    case SELECT_MOVIE:\n      return onSelectMovie(state, payload);\n    case GET_SUGGESTIONS:\n      return getMovieSuggestions(state, payload);\n    default:\n      return state;\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\reservations.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 10, "language": "js", "text": "\nconst getReservations = (state, payload) => ({\n  ...state,\n  reservations: payload\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\reservations.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 11, "end_line": 15, "language": "js", "text": "\nconst getReservationSuggestedSeats = (state, payload) => ({\n  ...state,\n  suggestedSeats: payload\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\reservations.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 16, "end_line": 28, "language": "js", "text": "\nexport default (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case GET_RESERVATIONS:\n      return getReservations(state, payload);\n    case GET_RESERVATION_SUGGESTED_SEATS:\n      return getReservationSuggestedSeats(state, payload);\n    default:\n      return state;\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\showtimes.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 14, "end_line": 18, "language": "js", "text": "\nconst getShowtimes = (state, payload) => ({\n  ...state,\n  showtimes: payload\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\showtimes.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 19, "end_line": 23, "language": "js", "text": "\nconst toggleDialog = state => ({\n  ...state,\n  openDialog: !state.openDialog\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\showtimes.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 24, "end_line": 48, "language": "js", "text": "\nconst selectShowtime = (state, payload) => {\n  const { selectedShowtimes } = state;\n\n  const selectedIndex = selectedShowtimes.indexOf(payload);\n  let newSelected = [];\n\n  if (selectedIndex === -1) {\n    newSelected = newSelected.concat(selectedShowtimes, payload);\n  } else if (selectedIndex === 0) {\n    newSelected = newSelected.concat(selectedShowtimes.slice(1));\n  } else if (selectedIndex === selectedShowtimes.length - 1) {\n    newSelected = newSelected.concat(selectedShowtimes.slice(0, -1));\n  } else if (selectedIndex > 0) {\n    newSelected = newSelected.concat(\n      selectedShowtimes.slice(0, selectedIndex),\n      selectedShowtimes.slice(selectedIndex + 1)\n    );\n  }\n\n  return {\n    ...state,\n    selectedShowtimes: newSelected\n  };\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\showtimes.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 49, "end_line": 55, "language": "js", "text": "\nconst selectAllShowtimes = state => ({\n  ...state,\n  selectedShowtimes: !state.selectedShowtimes.length\n    ? state.showtimes.map(showtime => showtime._id)\n    : []\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\showtimes.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 56, "end_line": 62, "language": "js", "text": "\nconst deleteShowtime = (state, payload) => ({\n  ...state,\n  selectedShowtimes: state.selectedShowtimes.filter(\n    element => element !== payload\n  )\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\showtimes.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 63, "end_line": 81, "language": "js", "text": "\nexport default (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case GET_SHOWTIMES:\n      return getShowtimes(state, payload);\n    case TOGGLE_DIALOG:\n      return toggleDialog(state);\n    case SELECT_SHOWTIMES:\n      return selectShowtime(state, payload);\n    case SELECT_ALL_SHOWTIMES:\n      return selectAllShowtimes(state);\n    case DELETE_SHOWTIME:\n      return deleteShowtime(state, payload);\n    default:\n      return state;\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\users.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 16, "end_line": 20, "language": "js", "text": "\nconst toggleUserDialog = state => ({\n  ...state,\n  openDialog: !state.openDialog\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\users.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 21, "end_line": 45, "language": "js", "text": "\nconst selectUser = (state, payload) => {\n  const { selectedUsers } = state;\n\n  const selectedIndex = selectedUsers.indexOf(payload);\n  let newSelected = [];\n\n  if (selectedIndex === -1) {\n    newSelected = newSelected.concat(selectedUsers, payload);\n  } else if (selectedIndex === 0) {\n    newSelected = newSelected.concat(selectedUsers.slice(1));\n  } else if (selectedIndex === selectedUsers.length - 1) {\n    newSelected = newSelected.concat(selectedUsers.slice(0, -1));\n  } else if (selectedIndex > 0) {\n    newSelected = newSelected.concat(\n      selectedUsers.slice(0, selectedIndex),\n      selectedUsers.slice(selectedIndex + 1)\n    );\n  }\n\n  return {\n    ...state,\n    selectedUsers: newSelected\n  };\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\users.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 46, "end_line": 52, "language": "js", "text": "\nconst selectAllUsers = state => ({\n  ...state,\n  selectedUsers: !state.selectedUsers.length\n    ? state.users.map(user => user._id)\n    : []\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\users.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 53, "end_line": 57, "language": "js", "text": "\nconst getUsers = (state, payload) => ({\n  ...state,\n  users: payload\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\users.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 58, "end_line": 62, "language": "js", "text": "\nconst addUser = (state, payload) => ({\n  ...state,\n  users: [...state.users, payload]\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\users.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 63, "end_line": 67, "language": "js", "text": "\nconst updateUser = (state, payload) => ({\n  ...state,\n  users: [...state.users.filter(user => user._id !== payload._id), payload]\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\users.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 68, "end_line": 73, "language": "js", "text": "\nconst deleteUser = (state, payload) => ({\n  ...state,\n  users: state.users.filter(user => user._id !== payload),\n  selectedUsers: state.selectedUsers.filter(element => element !== payload)\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\reducers\\users.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 74, "end_line": 96, "language": "js", "text": "\nexport default (state = initialState, action) => {\n  const { type, payload } = action;\n\n  switch (type) {\n    case GET_USERS:\n      return getUsers(state, payload);\n    case TOGGLE_USER_DIALOG:\n      return toggleUserDialog(state);\n    case SELECT_USER:\n      return selectUser(state, payload);\n    case SELECT_ALL_USERS:\n      return selectAllUsers(state);\n    case ADD_USER:\n      return addUser(state, payload);\n    case UPDATE_USER:\n      return updateUser(state, payload);\n    case DELETE_USER:\n      return deleteUser(state, payload);\n    default:\n      return state;\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\types\\alert.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 2, "language": "js", "text": "export const SET_ALERT = 'SET_ALERT';\nexport const REMOVE_ALERT = 'REMOVE_ALERT';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\types\\auth.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 7, "language": "js", "text": "export const REGISTER_SUCCESS = 'REGISTER_SUCCESS';\nexport const REGISTER_FAIL = 'REGISTER_FAIL';\nexport const LOGIN_SUCCESS = 'LOGIN_SUCCESS';\nexport const LOGIN_FAIL = 'LOGIN_FAIL';\nexport const USER_LOADED = 'USER_LOADED';\nexport const AUTH_ERROR = 'AUTH_ERROR';\nexport const LOGOUT = 'LOGOUT';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\types\\checkout.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 10, "language": "js", "text": "export const SET_SELECTED_SEATS = 'SET_SELECTED_SEATS';\nexport const SET_SUGGESTED_SEATS = 'SET_SUGGESTED_SEATS';\nexport const SET_SELECTED_CINEMA = 'SET_SELECTED_CINEMA';\nexport const SET_SELECTED_DATE = 'SET_SELECTED_DATE';\nexport const SET_SELECTED_TIME = 'SET_SELECTED_TIME';\nexport const TOGGLE_LOGIN_POPUP = 'TOGGLE_LOGIN_POPUP';\nexport const SHOW_INVITATION_FORM = 'SHOW_INVITATION_FORM';\nexport const SET_INVITATION = 'SET_INVITATION';\nexport const SET_QR_CODE = 'SET_QR_CODE';\nexport const RESET_CHECKOUT = 'RESET_CHECKOUT';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\types\\cinemas.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 4, "language": "js", "text": "export const GET_CINEMAS = 'GET_CINEMAS';\nexport const GET_CINEMA = 'GET_CINEMA';\nexport const SELECT_CINEMA = 'SELECT_CINEMA';\nexport const CREATE_CINEMA = 'CREATE_CINEMA';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\types\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 8, "language": "js", "text": "export * from './alert';\nexport * from './auth';\nexport * from './users';\nexport * from './movies';\nexport * from './cinemas';\nexport * from './reservations';\nexport * from './showtimes';\nexport * from './checkout';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\types\\movies.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "export const GET_MOVIES = 'GET_MOVIES';\nexport const SELECT_MOVIE = 'SELECT_MOVIE';\nexport const GET_SUGGESTIONS = 'GET_SUGGESTIONS';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\types\\reservations.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 2, "language": "js", "text": "export const GET_RESERVATIONS = 'GET_RESERVATIONS';\nexport const GET_RESERVATION_SUGGESTED_SEATS = 'GET_RESERVATION_SUGGESTED_SEATS';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\types\\showtimes.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 7, "language": "js", "text": "export const GET_SHOWTIMES = 'GET_SHOWTIMES';\nexport const ADD_SHOWTIME = 'ADD_SHOWTIME';\nexport const UPDATE_SHOWTIME = 'UPDATE_SHOWTIME';\nexport const DELETE_SHOWTIME = 'DELETE_SHOWTIME';\nexport const TOGGLE_DIALOG = 'TOGGLE_DIALOG';\nexport const SELECT_SHOWTIMES = 'SELECT_SHOWTIMES';\nexport const SELECT_ALL_SHOWTIMES = 'SELECT_ALL_SHOWTIMES';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\store\\types\\users.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 7, "language": "js", "text": "export const GET_USERS = 'GET_USERS';\nexport const ADD_USER = 'ADD_USER';\nexport const UPDATE_USER = 'UPDATE_USER';\nexport const DELETE_USER = 'DELETE_USER';\nexport const TOGGLE_USER_DIALOG = 'TOGGLE_USER_DIALOG';\nexport const SELECT_USER = 'SELECT_USER';\nexport const SELECT_ALL_USERS = 'SELECT_ALL_USERS';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\theme\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 20, "language": "js", "text": "// @ts-nocheck\nimport { createMuiTheme } from '@material-ui/core/styles';\n// import palette from './palette';\nimport paletteDark from './paletteDark';\nimport typography from './typography';\n\n// read more at https://material-ui.com/customization/themes\nconst theme = createMuiTheme({\n  palette: paletteDark,\n  typography,\n  zIndex: {\n    appBar: 1200,\n    drawer: 1100\n  },\n  topBar: {\n    height: '56px'\n  }\n});\n\nexport default theme;"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\theme\\palette.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 73, "language": "js", "text": "import { red, blue, blueGrey, yellow, green } from '@material-ui/core/colors';\nconst white = '#FFF';\nconst black = '#000';\n\nexport default {\n  type: 'light',\n  common: {\n    black,\n    white,\n    commonBackground: white,\n    contrastText: black,\n    neutral: '#E4E7EB',\n    muted: '#9EA0A4'\n  },\n  default: {\n    light: 'rgba(41, 150, 243, .1)',\n    main: 'rgba(0, 40, 73, .9)',\n    dark: 'rgb(0, 40, 73)',\n    logoBg: 'rgb(51, 51, 51)',\n    border: 'rgba(0, 40, 73, .1)',\n    contrastText: white\n  },\n  primary: {\n    contrastText: white,\n    main: '#0767DB',\n    light: '#F6F9FD',\n    dark: '#0B48A0'\n  },\n  secondary: {\n    contrastText: white,\n    main: '#7d58ff',\n    light: '',\n    dark: '#37248F'\n  },\n  success: {\n    light: green[300],\n    main: green[500],\n    dark: green[700],\n    contrastText: white\n  },\n  info: {\n    light: blue[300],\n    main: blue[500],\n    dark: blue[700],\n    contrastText: white\n  },\n  warning: {\n    light: yellow[300],\n    main: yellow[500],\n    dark: yellow[700],\n    contrastText: white\n  },\n  danger: {\n    light: red[300],\n    main: red[500],\n    dark: red[700],\n    contrastText: white\n  },\n  text: {\n    primary: blueGrey[900],\n    secondary: blueGrey[600],\n    link: blue[600]\n  },\n  background: {\n    default: '#f8fafc',\n    dark: 'rgb(26, 26, 26)',\n    paper: white\n  },\n  border: '#DFE3E8',\n  divider: '#DFE3E8',\n  oxfordBlue: 'rgba(5, 41, 73, 1)',\n  prussianBlue: 'rgba(19, 49, 92, 1)',\n  darkCerulean: 'rgba(19, 64, 116, 1)',"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\theme\\palette.js", "chunk_id": 0, "subchunk_id": 1, "start_line": 72, "end_line": 76, "language": "js", "text": "  prussianBlue: 'rgba(19, 49, 92, 1)',\n  darkCerulean: 'rgba(19, 64, 116, 1)',\n  pewterBlue: 'rgba(141, 169, 196, 1)',\n  isabelline: 'rgba(238, 244, 237, 1)'\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\theme\\palette.js", "chunk_id": 0, "subchunk_id": 2, "start_line": 75, "end_line": 76, "language": "js", "text": "  isabelline: 'rgba(238, 244, 237, 1)'\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\theme\\palette.js", "chunk_id": 0, "subchunk_id": 3, "start_line": 76, "end_line": 76, "language": "js", "text": "};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\theme\\paletteDark.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 65, "language": "js", "text": "import { red, blue, lightBlue, yellow, green } from '@material-ui/core/colors';\nconst white = '#FFF';\nconst black = '#000';\n\nexport default {\n  type: 'dark',\n  common: {\n    black,\n    white,\n    commonBackground: 'rgb(45, 45, 45)',\n    contrastText: white,\n    neutral: '#E4E7EB',\n    muted: '#9EA0A4'\n  },\n  default: {\n    light: 'rgba(41, 150, 243, .1)',\n    main: 'rgba(0, 40, 73, .9)',\n    dark: 'rgb(0, 40, 73)',\n    logoBg: 'rgb(51, 51, 51)',\n    border: 'rgba(0, 40, 73, .1)',\n    contrastText: white\n  },\n  primary: {\n    light: lightBlue[300],\n    main: lightBlue[500],\n    dark: lightBlue[700],\n    contrastText: white\n  },\n  success: {\n    light: green[300],\n    main: green[500],\n    dark: green[700],\n    contrastText: white\n  },\n  info: {\n    light: blue[300],\n    main: blue[500],\n    dark: blue[700],\n    contrastText: white\n  },\n  warning: {\n    light: yellow[300],\n    main: yellow[500],\n    dark: yellow[700],\n    contrastText: white\n  },\n  danger: {\n    light: red[300],\n    main: red[500],\n    dark: red[700],\n    contrastText: white\n  },\n  background: {\n    paper: 'rgb(45, 45, 45)',\n    default: 'rgb(26, 26, 26)',\n    dark: 'rgb(26, 26, 26)'\n  },\n  border: '#DFE3E8',\n  divider: '#DFE3E8',\n  oxfordBlue: 'rgba(5, 41, 73, 1)',\n  prussianBlue: 'rgba(19, 49, 92, 1)',\n  darkCerulean: 'rgba(19, 64, 116, 1)',\n  pewterBlue: 'rgba(141, 169, 196, 1)',\n  isabelline: 'rgba(238, 244, 237, 1)'\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\theme\\typography.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 5, "language": "js", "text": "export default {\n  useNextVariants: true,\n  fontSize: 11,\n  fontFamily: ['Montserrat', 'sans-serif', 'Helvetica Neue', 'Arial'].join(',')\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\utils\\auth.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export const isBrowser = () => typeof window !== 'undefined';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\utils\\auth.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 2, "end_line": 5, "language": "js", "text": "export const getUser = () =>\n  isBrowser() && window.localStorage.getItem('user')\n    ? JSON.parse(window.localStorage.getItem('user'))\n    : {};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\utils\\auth.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 6, "end_line": 8, "language": "js", "text": "\nexport const setUser = user =>\n  window.localStorage.setItem('user', JSON.stringify(user));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\utils\\auth.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 9, "end_line": 9, "language": "js", "text": "export const removeUser = () => window.localStorage.removeItem('user');"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\utils\\auth.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 10, "end_line": 13, "language": "js", "text": "export const isLoggedIn = () => {\n  const user = getUser();\n  return !!user.username;\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\utils\\history.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 2, "language": "js", "text": "import { createHashHistory } from 'history';\nexport default createHashHistory();"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\utils\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 5, "language": "js", "text": "export { isBrowser, getUser, setUser, removeUser, isLoggedIn } from './auth';\nexport { default as history } from './history';\nexport { default as pageCursors } from './pageCursors';\nexport { default as setAuthHeaders } from './setAuthHeaders';\nexport { textTruncate, match } from './utils';"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\utils\\pageCursors.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 17, "language": "js", "text": "const pageCursors = () => {\n  let cursor1, cursor2, cursor3;\n  cursor1 = document.getElementById('cursor');\n  cursor2 = document.getElementById('cursor2');\n  cursor3 = document.getElementById('cursor3');\n  //Page cursors\n  document\n    .getElementsByTagName('body')[0]\n    .addEventListener('mousemove', function(event) {\n      cursor1.style.left = event.clientX + 'px';\n      cursor1.style.top = event.clientY + 'px';\n      cursor2.style.left = event.clientX + 'px';\n      cursor2.style.top = event.clientY + 'px';\n      cursor3.style.left = event.clientX + 'px';\n      cursor3.style.top = event.clientY + 'px';\n    });\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\utils\\setAuthHeaders.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 10, "language": "js", "text": "const setAuthHeaders = headersObject => {\n  let headers = { ...headersObject };\n  if (localStorage.jwtToken) {\n    headers = {\n      ...headers,\n      Authorization: `Bearer ${localStorage.jwtToken}`\n    };\n  }\n  return headers;\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\utils\\utils.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 13, "language": "js", "text": "export const textTruncate = (text, length, ending) => {\n  if (length == null) {\n    length = 100;\n  }\n  if (ending == null) {\n    ending = '...';\n  }\n  if (text.length > length) {\n    return text.substring(0, length - ending.length) + ending;\n  } else {\n    return text;\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\client\\src\\utils\\utils.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 14, "end_line": 18, "language": "js", "text": "\nexport const match = (term, array, key) => {\n  const reg = new RegExp(term.split('').join('.*'), 'i');\n  return array.filter(item => item[key] && item[key].match(reg));\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 51, "end_line": 58, "language": "js", "text": "\n// app.get('/api/test', (req, res) => res.send('Hello World'))\n\n// The \"catchall\" handler: for any request that doesn't\n// match one above, send back React's index.html file.\napp.get('/*', (req, res) => {\n  res.sendFile(path.join(__dirname + '../../client/build/index.html'));\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\index.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 59, "end_line": 59, "language": "js", "text": "app.listen(port, () => console.log(`app is running in PORT: ${port}`));"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\db\\mongoose.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 6, "language": "js", "text": "const mongoose = require('mongoose');\n\nmongoose.connect(process.env.MONGODB_URI, {\n  useNewUrlParser: true,\n  useCreateIndex: true,\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\middlewares\\auth.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 19, "language": "js", "text": "\nconst simple = async (req, res, next) => {\n  try {\n    const token = req.header('Authorization').replace('Bearer ', '');\n    const decoded = jwt.verify(token, 'mySecret');\n    const user = await User.findOne({\n      _id: decoded._id,\n      'tokens.token': token,\n    });\n    if (!user) throw new Error();\n    req.token = token;\n    req.user = user;\n    next();\n  } catch (e) {\n    res.status(401).send({ error: 'Please authenticate.' });\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\middlewares\\auth.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 20, "end_line": 36, "language": "js", "text": "\nconst enhance = async (req, res, next) => {\n  try {\n    const token = req.header('Authorization').replace('Bearer ', '');\n    const decoded = jwt.verify(token, 'mySecret');\n    const user = await User.findOne({\n      _id: decoded._id,\n      'tokens.token': token,\n    });\n    if (!user || user.role !== 'superadmin') throw new Error();\n    req.token = token;\n    req.user = user;\n    next();\n  } catch (e) {\n    res.status(401).send({ error: 'Please authenticate.' });\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\models\\cinema.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 36, "language": "js", "text": "const mongoose = require('mongoose');\n\nconst { Schema } = mongoose;\n\nconst cinemaSchema = new Schema({\n  name: {\n    type: String,\n    required: true,\n    trim: true,\n  },\n  ticketPrice: {\n    type: Number,\n    required: true,\n  },\n  city: {\n    type: String,\n    required: true,\n    trim: true,\n    lowercase: true,\n  },\n  seats: {\n    type: [Schema.Types.Mixed],\n    required: true,\n  },\n  seatsAvailable: {\n    type: Number,\n    required: true,\n  },\n  image: {\n    type: String,\n  },\n});\n\nconst Cinema = mongoose.model('Cinema', cinemaSchema);\n\nmodule.exports = Cinema;"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\models\\movie.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 60, "language": "js", "text": "const mongoose = require('mongoose');\n\nconst { Schema } = mongoose;\nconst movieSchema = new Schema({\n  title: {\n    type: String,\n    required: true,\n    trim: true,\n    lowercase: true,\n  },\n  image: {\n    type: String,\n  },\n  language: {\n    type: String,\n    required: true,\n    trim: true,\n    lowercase: true,\n  },\n  genre: {\n    type: String,\n    required: true,\n    trim: true,\n    lowercase: true,\n  },\n  director: {\n    type: String,\n    required: true,\n    trim: true,\n    lowercase: true,\n  },\n  cast: {\n    type: String,\n    required: true,\n    trim: true,\n    lowercase: true,\n  },\n  description: {\n    type: String,\n    required: true,\n    trim: true,\n    lowercase: true,\n  },\n  duration: {\n    type: Number,\n    required: true,\n  },\n  releaseDate: {\n    type: Date,\n    required: true,\n  },\n  endDate: {\n    type: Date,\n    required: true,\n  },\n});\n\nconst Movie = mongoose.model('Movie', movieSchema);\n\nmodule.exports = Movie;"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\models\\reservation.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 52, "language": "js", "text": "const mongoose = require('mongoose');\n\nconst { Schema } = mongoose;\nconst reservationSchema = new Schema({\n  date: {\n    type: Date,\n    required: true,\n  },\n  startAt: {\n    type: String,\n    required: true,\n    trim: true,\n  },\n  seats: {\n    type: [Schema.Types.Mixed],\n    required: true,\n  },\n  ticketPrice: {\n    type: Number,\n    required: true,\n  },\n  total: {\n    type: Number,\n    required: true,\n  },\n  movieId: {\n    type: Schema.Types.ObjectId,\n    ref: 'Movie',\n    required: true,\n  },\n  cinemaId: {\n    type: Schema.Types.ObjectId,\n    ref: 'Cinema',\n    required: true,\n  },\n  username: {\n    type: String,\n    required: true,\n  },\n  phone: {\n    type: String,\n    required: true,\n  },\n  checkin: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst Reservation = mongoose.model('Reservation', reservationSchema);\n\nmodule.exports = Reservation;"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\models\\showtime.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 32, "language": "js", "text": "const mongoose = require('mongoose');\n\nconst { Schema } = mongoose;\nconst showtimeSchema = new Schema({\n  startAt: {\n    type: String,\n    required: true,\n    trim: true,\n  },\n  startDate: {\n    type: Date,\n    required: true,\n  },\n  endDate: {\n    type: Date,\n    required: true,\n  },\n  movieId: {\n    type: Schema.Types.ObjectId,\n    ref: 'Movie',\n    required: true,\n  },\n  cinemaId: {\n    type: Schema.Types.ObjectId,\n    ref: 'Cinema',\n    required: true,\n  },\n});\n\nconst Showtime = mongoose.model('Showtime', showtimeSchema);\n\nmodule.exports = Showtime;"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\models\\user.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 27, "end_line": 31, "language": "js", "text": "      validate(value) {\n        if (!validator.isEmail(value)) {\n          throw new Error('email is invalid');\n        }\n      },"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\models\\user.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 37, "end_line": 41, "language": "js", "text": "      validate(value) {\n        if (value.toLowerCase().includes('password')) {\n          throw new Error('Password should not contain word: password');\n        }\n      },"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\models\\user.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 56, "end_line": 60, "language": "js", "text": "      validate(value) {\n        if (!validator.isMobilePhone(value)) {\n          throw new Error('Phone is invalid');\n        }\n      },"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\models\\user.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 99, "end_line": 108, "language": "js", "text": "\nuserSchema.statics.findByCredentials = async (username, password) => {\n  const user = await User.findOne({ username });\n  if (!user) throw new Error('Unable to login');\n\n  const isMatch = await bcrypt.compare(password, user.password);\n  if (!isMatch) throw new Error('Unable to login');\n\n  return user;\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\cinema.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 18, "language": "js", "text": "\n// Create a cinema\nrouter.post('/cinemas', auth.enhance, async (req, res) => {\n  const cinema = new Cinema(req.body);\n  try {\n    await cinema.save();\n    res.status(201).send(cinema);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\cinema.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 19, "end_line": 39, "language": "js", "text": "\nrouter.post('/cinemas/photo/:id', upload('cinemas').single('file'), async (req, res, next) => {\n  const url = `${req.protocol}://${req.get('host')}`;\n  const { file } = req;\n  const movieId = req.params.id;\n  try {\n    if (!file) {\n      const error = new Error('Please upload a file');\n      error.httpStatusCode = 400;\n      return next(error);\n    }\n    const cinema = await Cinema.findById(movieId);\n    if (!cinema) return res.sendStatus(404);\n    cinema.image = `${url}/${file.path}`;\n    await cinema.save();\n    res.send({ cinema, file });\n  } catch (e) {\n    console.log(e);\n    res.sendStatus(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\cinema.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 40, "end_line": 49, "language": "js", "text": "\n// Get all cinemas\nrouter.get('/cinemas', async (req, res) => {\n  try {\n    const cinemas = await Cinema.find({});\n    res.send(cinemas);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\cinema.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 50, "end_line": 61, "language": "js", "text": "\n// Get cinema by id\nrouter.get('/cinemas/:id', async (req, res) => {\n  const _id = req.params.id;\n  try {\n    const cinema = await Cinema.findById(_id);\n    if (!cinema) return res.sendStatus(404);\n    return res.send(cinema);\n  } catch (e) {\n    return res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\cinema.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 62, "end_line": 81, "language": "js", "text": "\n// Update cinema by id\nrouter.patch('/cinemas/:id', auth.enhance, async (req, res) => {\n  const _id = req.params.id;\n  const updates = Object.keys(req.body);\n  const allowedUpdates = ['name', 'ticketPrice', 'city', 'seats', 'seatsAvailable'];\n  const isValidOperation = updates.every((update) => allowedUpdates.includes(update));\n\n  if (!isValidOperation) return res.status(400).send({ error: 'Invalid updates!' });\n\n  try {\n    const cinema = await Cinema.findById(_id);\n    updates.forEach((update) => (cinema[update] = req.body[update]));\n    await cinema.save();\n    if (!cinema) return res.sendStatus(404);\n    return res.send(cinema);\n  } catch (e) {\n    return res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\cinema.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 82, "end_line": 93, "language": "js", "text": "\n// Delete cinema by id\nrouter.delete('/cinemas/:id', auth.enhance, async (req, res) => {\n  const _id = req.params.id;\n  try {\n    const cinema = await Cinema.findByIdAndDelete(_id);\n    if (!cinema) return res.sendStatus(404);\n    return res.send(cinema);\n  } catch (e) {\n    return res.sendStatus(400);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\cinema.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 94, "end_line": 105, "language": "js", "text": "\n// Cinema User modeling (GET ALL CINEMAS)\nrouter.get('/cinemas/usermodeling/:username', async (req, res) => {\n  const { username } = req.params;\n  try {\n    const cinemas = await Cinema.find({});\n    const cinemasUserModeled = await userModeling.cinemaUserModeling(cinemas, username);\n    res.send(cinemasUserModeled);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\invitations.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 27, "language": "js", "text": "\nconst createMailOptions = (data) => {\n  const { to, host, movie, date, time, cinema, image, seat } = data;\n\n  const htmlContent = `\n                <h1><strong>Invitation For Movie</strong></h1>\n                <p>Hi, You have been invited by ${host}</p>\n                <p>Movie name: ${movie}</p>\n                <p>Date: ${date}</p>\n                <p>Time: ${time}</p>\n                <p>Cinema name: ${cinema}</p>\n                <p>Cinema seat: ${seat}</p>\n                <img src=\"${image}\" alt=\"cinema Image\"/>\n                <br/>\n              `;\n  return {\n    from: 'geosimos91@gmail.com',\n    to,\n    subject: 'Cinema + Invitation',\n    html: htmlContent,\n  };\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\invitations.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 28, "end_line": 44, "language": "js", "text": "\n// Send Invitation Emails\nrouter.post('/invitations', auth.simple, async (req, res) => {\n  const invitations = req.body;\n  const promises = invitations.map((invitation) => {\n    const mailOptions = createMailOptions(invitation);\n    return mail\n      .sendEMail(mailOptions)\n      .then(() => ({\n        success: true,\n        msg: `The Invitation to ${mailOptions.to} was sent!`,\n      }))\n      .catch((exception) => ({ success: false, msg: exception }));\n  });\n\n  Promise.all(promises).then((result) => res.status(201).json(result));\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\movies.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 18, "language": "js", "text": "\n// Create a movie\nrouter.post('/movies', auth.enhance, async (req, res) => {\n  const movie = new Movie(req.body);\n  try {\n    await movie.save();\n    res.status(201).send(movie);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\movies.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 19, "end_line": 44, "language": "js", "text": "\nrouter.get(\n  '/movies/photo/:id',\n  auth.enhance,\n  upload('movies').single('file'),\n  async (req, res, next) => {\n    const url = `${req.protocol}://${req.get('host')}`;\n    const { file } = req;\n    const movieId = req.params.id;\n    try {\n      if (!file) {\n        const error = new Error('Please upload a file');\n        error.httpStatusCode = 400;\n        return next(error);\n      }\n      const movie = await Movie.findById(movieId);\n      if (!movie) return res.sendStatus(404);\n      movie.image = `${url}/${file.path}`;\n      await movie.save();\n      res.send({ movie, file });\n    } catch (e) {\n      console.log(e);\n      res.sendStatus(400).send(e);\n    }\n  }\n);"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\movies.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 45, "end_line": 54, "language": "js", "text": "\n// Get all movies\nrouter.get('/movies', async (req, res) => {\n  try {\n    const movies = await Movie.find({});\n    res.send(movies);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\movies.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 55, "end_line": 67, "language": "js", "text": "\n// Get movie by id\nrouter.get('/movies/:id', async (req, res) => {\n  const _id = req.params.id;\n\n  try {\n    const movie = await Movie.findById(_id);\n    if (!movie) return res.sendStatus(404);\n    return res.send(movie);\n  } catch (e) {\n    return res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\movies.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 68, "end_line": 97, "language": "js", "text": "\n// Update movie by id\nrouter.put('/movies/:id', auth.enhance, async (req, res) => {\n  const _id = req.params.id;\n  const updates = Object.keys(req.body);\n  const allowedUpdates = [\n    'title',\n    'image',\n    'language',\n    'genre',\n    'director',\n    'cast',\n    'description',\n    'duration',\n    'releaseDate',\n    'endDate',\n  ];\n  const isValidOperation = updates.every((update) => allowedUpdates.includes(update));\n\n  if (!isValidOperation) return res.status(400).send({ error: 'Invalid updates!' });\n\n  try {\n    const movie = await Movie.findById(_id);\n    updates.forEach((update) => (movie[update] = req.body[update]));\n    await movie.save();\n    return !movie ? res.sendStatus(404) : res.send(movie);\n  } catch (e) {\n    return res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\movies.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 98, "end_line": 108, "language": "js", "text": "\n// Delete movie by id\nrouter.delete('/movies/:id', auth.enhance, async (req, res) => {\n  const _id = req.params.id;\n  try {\n    const movie = await Movie.findByIdAndDelete(_id);\n    return !movie ? res.sendStatus(404) : res.send(movie);\n  } catch (e) {\n    return res.sendStatus(400);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\movies.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 109, "end_line": 119, "language": "js", "text": "\n// Movies User modeling (Get Movies Suggestions)\nrouter.get('/movies/usermodeling/:username', async (req, res) => {\n  const { username } = req.params;\n  try {\n    const cinemasUserModeled = await userModeling.moviesUserModeling(username);\n    res.send(cinemasUserModeled);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\reservation.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 21, "language": "js", "text": "\n// Create a reservation\nrouter.post('/reservations', auth.simple, async (req, res) => {\n  const reservation = new Reservation(req.body);\n\n  const QRCode = await generateQR(`https://elcinema.herokuapp.com/#/checkin/${reservation._id}`);\n\n  try {\n    await reservation.save();\n    res.status(201).send({ reservation, QRCode });\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\reservation.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 22, "end_line": 31, "language": "js", "text": "\n// Get all reservations\nrouter.get('/reservations', auth.simple, async (req, res) => {\n  try {\n    const reservations = await Reservation.find({});\n    res.send(reservations);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\reservation.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 32, "end_line": 42, "language": "js", "text": "\n// Get reservation by id\nrouter.get('/reservations/:id', async (req, res) => {\n  const _id = req.params.id;\n  try {\n    const reservation = await Reservation.findById(_id);\n    return !reservation ? res.sendStatus(404) : res.send(reservation);\n  } catch (e) {\n    return res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\reservation.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 43, "end_line": 55, "language": "js", "text": "\n// Get reservation checkin by id\nrouter.get('/reservations/checkin/:id', async (req, res) => {\n  const _id = req.params.id;\n  try {\n    const reservation = await Reservation.findById(_id);\n    reservation.checkin = true;\n    await reservation.save();\n    return !reservation ? res.sendStatus(404) : res.send(reservation);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\reservation.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 56, "end_line": 83, "language": "js", "text": "\n// Update reservation by id\nrouter.patch('/reservations/:id', auth.enhance, async (req, res) => {\n  const _id = req.params.id;\n  const updates = Object.keys(req.body);\n  const allowedUpdates = [\n    'date',\n    'startAt',\n    'seats',\n    'ticketPrice',\n    'total',\n    'username',\n    'phone',\n    'checkin',\n  ];\n  const isValidOperation = updates.every((update) => allowedUpdates.includes(update));\n\n  if (!isValidOperation) return res.status(400).send({ error: 'Invalid updates!' });\n\n  try {\n    const reservation = await Reservation.findById(_id);\n    updates.forEach((update) => (reservation[update] = req.body[update]));\n    await reservation.save();\n    return !reservation ? res.sendStatus(404) : res.send(reservation);\n  } catch (e) {\n    return res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\reservation.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 84, "end_line": 94, "language": "js", "text": "\n// Delete reservation by id\nrouter.delete('/reservations/:id', auth.enhance, async (req, res) => {\n  const _id = req.params.id;\n  try {\n    const reservation = await Reservation.findByIdAndDelete(_id);\n    return !reservation ? res.sendStatus(404) : res.send(reservation);\n  } catch (e) {\n    return res.sendStatus(400);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\reservation.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 95, "end_line": 105, "language": "js", "text": "\n// User modeling get suggested seats\nrouter.get('/reservations/usermodeling/:username', async (req, res) => {\n  const { username } = req.params;\n  try {\n    const suggestedSeats = await userModeling.reservationSeatsUserModeling(username);\n    res.send(suggestedSeats);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\showtime.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 16, "language": "js", "text": "\n// Create a showtime\nrouter.post('/showtimes', auth.enhance, async (req, res) => {\n  const showtime = new Showtime(req.body);\n  try {\n    await showtime.save();\n    res.status(201).send(showtime);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\showtime.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 17, "end_line": 26, "language": "js", "text": "\n// Get all showtimes\nrouter.get('/showtimes', async (req, res) => {\n  try {\n    const showtimes = await Showtime.find({});\n    res.send(showtimes);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\showtime.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 27, "end_line": 37, "language": "js", "text": "\n// Get showtime by id\nrouter.get('/showtimes/:id', async (req, res) => {\n  const _id = req.params.id;\n  try {\n    const showtime = await Showtime.findById(_id);\n    return !showtime ? res.sendStatus(404) : res.send(showtime);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\showtime.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 38, "end_line": 56, "language": "js", "text": "\n// Update showtime by id\nrouter.patch('/showtimes/:id', auth.enhance, async (req, res) => {\n  const _id = req.params.id;\n  const updates = Object.keys(req.body);\n  const allowedUpdates = ['startAt', 'startDate', 'endDate', 'movieId', 'cinemaId'];\n  const isValidOperation = updates.every((update) => allowedUpdates.includes(update));\n\n  if (!isValidOperation) return res.status(400).send({ error: 'Invalid updates!' });\n\n  try {\n    const showtime = await Showtime.findById(_id);\n    updates.forEach((update) => (showtime[update] = req.body[update]));\n    await showtime.save();\n    return !showtime ? res.sendStatus(404) : res.send(showtime);\n  } catch (e) {\n    return res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\showtime.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 57, "end_line": 67, "language": "js", "text": "\n// Delete showtime by id\nrouter.delete('/showtimes/:id', auth.enhance, async (req, res) => {\n  const _id = req.params.id;\n  try {\n    const showtime = await Showtime.findByIdAndDelete(_id);\n    return !showtime ? res.sendStatus(404) : res.send(showtime);\n  } catch (e) {\n    return res.sendStatus(400);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 20, "language": "js", "text": "\n// Create a user\nrouter.post('/users', async (req, res) => {\n  try {\n    const {role} = req.body;\n    if (role) throw new Error('you cannot set role property.');\n    const user = new User(req.body);\n    await user.save();\n    const token = await user.generateAuthToken();\n    res.status(201).send({ user, token });\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 21, "end_line": 41, "language": "js", "text": "\nrouter.post('/users/photo/:id', upload('users').single('file'), async (req, res, next) => {\n  const url = `${req.protocol}://${req.get('host')}`;\n  const { file } = req;\n  const userId = req.params.id;\n  try {\n    if (!file) {\n      const error = new Error('Please upload a file');\n      error.httpStatusCode = 400;\n      return next(error);\n    }\n    const user = await User.findById(userId);\n    if (!user) return res.sendStatus(404);\n    user.imageurl = `${url}/${file.path}`;\n    await user.save();\n    res.send({ user, file });\n  } catch (e) {\n    console.log(e);\n    res.sendStatus(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 42, "end_line": 54, "language": "js", "text": "\n// Login User\nrouter.post('/users/login', async (req, res) => {\n  try {\n    const user = await User.findByCredentials(req.body.username, req.body.password);\n    const token = await user.generateAuthToken();\n    res.send({ user, token });\n  } catch (e) {\n    res.status(400).send({\n      error: { message: 'You have entered an invalid username or password' },\n    });\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 55, "end_line": 79, "language": "js", "text": "\nrouter.post('/users/login/facebook', async (req, res) => {\n  const { email, userID, name } = req.body;\n  const nameArray = name.split(' ');\n\n  const user = await User.findOne({ facebook: userID });\n  if (!user) {\n    const newUser = new User({\n      name,\n      username: nameArray.join('') + userID,\n      email,\n      facebook: userID,\n    });\n    try {\n      await newUser.save();\n      const token = await newUser.generateAuthToken();\n      res.status(201).send({ user: newUser, token });\n    } catch (e) {\n      res.status(400).send(e);\n    }\n  } else {\n    const token = await user.generateAuthToken();\n    res.send({ user, token });\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 80, "end_line": 104, "language": "js", "text": "\nrouter.post('/users/login/google', async (req, res) => {\n  const { email, googleId, name } = req.body;\n  const nameArray = name.split(' ');\n\n  const user = await User.findOne({ google: googleId });\n  if (!user) {\n    const newUser = new User({\n      name,\n      username: nameArray.join('') + googleId,\n      email,\n      google: googleId,\n    });\n    try {\n      await newUser.save();\n      const token = await newUser.generateAuthToken();\n      res.status(201).send({ user: newUser, token });\n    } catch (e) {\n      res.status(400).send(e);\n    }\n  } else {\n    const token = await user.generateAuthToken();\n    res.send({ user, token });\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 105, "end_line": 117, "language": "js", "text": "\n// Logout user\nrouter.post('/users/logout', auth.simple, async (req, res) => {\n  try {\n    req.user.tokens = req.user.tokens.filter((token) => {\n      return token.token !== req.token;\n    });\n    await req.user.save();\n    res.send({});\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 118, "end_line": 128, "language": "js", "text": "\n// Logout all\nrouter.post('/users/logoutAll', auth.enhance, async (req, res) => {\n  try {\n    req.user.tokens = [];\n    await req.user.save();\n    res.send();\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 129, "end_line": 142, "language": "js", "text": "\n// Get all users\nrouter.get('/users', auth.enhance, async (req, res) => {\n  if (req.user.role !== 'superadmin')\n    return res.status(400).send({\n      error: 'Only the god can see all the users!',\n    });\n  try {\n    const users = await User.find({});\n    res.send(users);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 8, "subchunk_id": 0, "start_line": 143, "end_line": 151, "language": "js", "text": "\n// User infos\nrouter.get('/users/me', auth.simple, async (req, res) => {\n  try {\n    res.send(req.user);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 9, "subchunk_id": 0, "start_line": 152, "end_line": 167, "language": "js", "text": "\n// Get user by id only for admin\nrouter.get('/users/:id', auth.enhance, async (req, res) => {\n  if (req.user.role !== 'superadmin')\n    return res.status(400).send({\n      error: 'Only the god can see the user!',\n    });\n  const _id = req.params.id;\n  try {\n    const user = await User.findById(_id);\n    if (!user) return res.sendStatus(404);\n    res.send(user);\n  } catch (e) {\n    res.sendStatus(400);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 10, "subchunk_id": 0, "start_line": 168, "end_line": 185, "language": "js", "text": "\n// Edit/Update user\nrouter.patch('/users/me', auth.simple, async (req, res) => {\n  console.log(req.body);\n  const updates = Object.keys(req.body);\n  const allowedUpdates = ['name', 'phone', 'username', 'email', 'password'];\n  const isValidOperation = updates.every((update) => allowedUpdates.includes(update));\n  if (!isValidOperation) return res.status(400).send({ error: 'Invalid updates!' });\n\n  try {\n    const { user } = req;\n    updates.forEach((update) => (user[update] = req.body[update]));\n    await user.save();\n    res.send(user);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 11, "subchunk_id": 0, "start_line": 186, "end_line": 211, "language": "js", "text": "\n// Admin can update user by id\nrouter.patch('/users/:id', auth.enhance, async (req, res) => {\n  if (req.user.role !== 'superadmin')\n    return res.status(400).send({\n      error: 'Only the god can update the user!',\n    });\n  const _id = req.params.id;\n\n  const updates = Object.keys(req.body);\n  const allowedUpdates = ['name', 'phone', 'username', 'email', 'password', 'role'];\n  const isValidOperation = updates.every((update) => allowedUpdates.includes(update));\n\n  if (!isValidOperation) return res.status(400).send({ error: 'Invalid updates!' });\n\n  try {\n    const user = await User.findById(_id);\n    updates.forEach((update) => (user[update] = req.body[update]));\n    await user.save();\n\n    if (!user) return res.sendStatus(404);\n    res.send(user);\n  } catch (e) {\n    res.status(400).send(e);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 12, "subchunk_id": 0, "start_line": 212, "end_line": 229, "language": "js", "text": "\n// Delete by id\nrouter.delete('/users/:id', auth.enhance, async (req, res) => {\n  if (req.user.role !== 'superadmin')\n    return res.status(400).send({\n      error: 'Only the god can delete the user!',\n    });\n  const _id = req.params.id;\n\n  try {\n    const user = await User.findByIdAndDelete(_id);\n    if (!user) return res.sendStatus(404);\n\n    res.send({ message: 'User Deleted' });\n  } catch (e) {\n    res.sendStatus(400);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\routes\\users.js", "chunk_id": 13, "subchunk_id": 0, "start_line": 230, "end_line": 242, "language": "js", "text": "\nrouter.delete('/users/me', auth.simple, async (req, res) => {\n  if (req.user.role !== 'superadmin')\n    return res.status(400).send({\n      error: 'You cannot delete yourself!',\n    });\n  try {\n    await req.user.remove();\n    res.send(req.user);\n  } catch (e) {\n    res.sendStatus(400);\n  }\n});"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\generateQRCode.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 9, "language": "js", "text": "\nconst generateQR = async text => {\n  try {\n    return await QRCode.toDataURL(text);\n  } catch (err) {\n    return console.error(err);\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\mail.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 24, "language": "js", "text": "    transporter.sendMail(mailRequest, (error, info) => {\n      if (error) {\n        reject(error);\n      } else {\n        resolve('The message was sent!');\n      }\n    });"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\multer.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 9, "language": "js", "text": "\nconst storage = path =>\n  multer.diskStorage({\n    destination: './uploads/' + path,\n    filename: (req, file, cb) => {\n      cb(null, `${Date.now()}-${file.originalname}`);\n    },\n  });"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\multer.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 10, "end_line": 26, "language": "js", "text": "\nconst upload = path =>\n  multer({\n    storage: storage(path),\n    fileFilter: (req, file, cb) => {\n      if (\n        file.mimetype === 'image/png' ||\n        file.mimetype === 'image/jpg' ||\n        file.mimetype === 'image/jpeg'\n      ) {\n        cb(null, true);\n      } else {\n        cb(null, false);\n        return cb(new Error('Only .png, .jpg and .jpeg format allowed!'));\n      }\n    },\n  });"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\userModeling.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 47, "language": "js", "text": "\n// Cinema User modeling (GET ALL CINEMAS)\n// Get all cinemas based on the user's past reservations\n// @return a sorted cinema list\nconst cinemaUserModeling = async (cinemas, username) => {\n  const userReservations = await Reservation.find({ username: username });\n\n  if (userReservations.length) {\n    let cinemaResult = {};\n    userReservations.map(userReservation => {\n      const id = userReservation.cinemaId;\n      cinemaResult.hasOwnProperty(id) ? ++cinemaResult[id] : (cinemaResult[id] = 1);\n    });\n    const sortedCinemaResult = [];\n    for (let cinema in cinemaResult) {\n      sortedCinemaResult.push([cinema, cinemaResult[cinema]]);\n    }\n\n    sortedCinemaResult.sort((a, b) => {\n      return b[1] - a[1];\n    });\n    console.log(sortedCinemaResult);\n\n    const newCinemas = JSON.parse(JSON.stringify(cinemas));\n    let i = 0;\n    let extractedObj;\n    for (let sortedCinema of sortedCinemaResult) {\n      newCinemas.forEach((cinema, index) => {\n        if (cinema._id == sortedCinema[0]) {\n          console.log('FOUND');\n          extractedObj = newCinemas.splice(index, 1);\n        }\n      });\n      newCinemas.splice(i, 0, extractedObj[0]);\n      i++;\n    }\n\n    console.log(newCinemas);\n\n    return newCinemas;\n  } else {\n    return cinemas;\n  }\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\userModeling.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 62, "end_line": 66, "language": "js", "text": "    for (let movie of Allmovies) {\n      if (movie._id == reservation.movieId) {\n        return movie;\n      }\n    }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\userModeling.js", "chunk_id": 1, "subchunk_id": 1, "start_line": 75, "end_line": 79, "language": "js", "text": "    for (let genre of genres) {\n      userPreference.genre[genre]\n        ? ++userPreference.genre[genre]\n        : (userPreference.genre[genre] = 1);\n    }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\userModeling.js", "chunk_id": 1, "subchunk_id": 2, "start_line": 80, "end_line": 84, "language": "js", "text": "    for (let director of directors) {\n      userPreference.director[director]\n        ? ++userPreference.director[director]\n        : (userPreference.director[director] = 1);\n    }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\userModeling.js", "chunk_id": 1, "subchunk_id": 3, "start_line": 85, "end_line": 87, "language": "js", "text": "    for (let cast of casts) {\n      userPreference.cast[cast] ? ++userPreference.cast[cast] : (userPreference.cast[cast] = 1);\n    }"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\userModeling.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 110, "end_line": 125, "language": "js", "text": "\nconst findRates = (moviesNotWatched, userPreference) => {\n  const result = [];\n  let rate;\n  for (let movie of moviesNotWatched) {\n    rate = 0;\n    for (let pref in userPreference) {\n      rate += getRateOfProperty(pref, userPreference, movie);\n      //TODO we can use weights here\n      console.log(rate, pref);\n    }\n    if (rate !== 0) result.push([movie, rate]);\n  }\n  console.log(result);\n  return result;\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\userModeling.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 126, "end_line": 144, "language": "js", "text": "\nconst getRateOfProperty = (pref, userPreference, movie) => {\n  let rate = 0;\n  const values = Object.keys(userPreference[pref]).map(key => {\n    return [key, userPreference[pref][key]];\n  });\n  let movieValues = movie[pref].replace(/\\s*,\\s*/g, ',').split(',');\n  for (value of values) {\n    if (movieValues.length) {\n      for (movieValue of movieValues) {\n        if (movieValue == value[0]) {\n          rate += value[1];\n        }\n      }\n    }\n  }\n\n  return rate;\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\userModeling.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 145, "end_line": 157, "language": "js", "text": "\nconst availableMoviesFilter = Allmovies => {\n  const today = new Date();\n  const returnMovies = [];\n  Allmovies.map(movie => {\n    let releaseDate = new Date(movie.releaseDate);\n    let endDate = new Date(movie.endDate);\n    if (today >= releaseDate && today <= endDate) {\n      returnMovies.push(movie);\n    }\n  });\n  return returnMovies;\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\userModeling.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 158, "end_line": 176, "language": "js", "text": "\nconst moviesNotWatchedFilter = (availableMovies, userReservations) => {\n  const returnMovies = [];\n  availableMovies.map(movie => {\n    let isFirst = [];\n    for (let reservation of userReservations) {\n      if (reservation.movieId == movie._id) {\n        isFirst.push(false);\n      } else {\n        isFirst.push(true);\n      }\n    }\n\n    if (isFirst.every(Boolean)) {\n      returnMovies.push(movie);\n    }\n  });\n  return returnMovies;\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\userModeling.js", "chunk_id": 6, "subchunk_id": 0, "start_line": 177, "end_line": 209, "language": "js", "text": "\nconst reservationSeatsUserModeling = async (username, newSeats) => {\n  let numberOfTicketsArray = [];\n  let numberOfTickets = 1;\n  const positions = {\n    front: 0,\n    center: 0,\n    back: 0,\n  };\n  const cinemas = JSON.parse(JSON.stringify(await Cinema.find({})));\n  const userReservations = JSON.parse(\n    JSON.stringify(await Reservation.find({ username: username }))\n  );\n\n  userReservations.map(reservation => {\n    for (let cinema of cinemas) {\n      if (cinema._id == reservation.cinemaId) {\n        //find how many rows the cinema has\n        const position = getPosition(cinema.seats.length, reservation.seats);\n        ++positions[position];\n        numberOfTicketsArray.push(reservation.seats.length);\n      }\n    }\n  });\n  numberOfTickets = Math.round(\n    numberOfTicketsArray.reduce((a, b) => a + b, 0) / numberOfTicketsArray.length\n  );\n\n  return {\n    numberOfTickets,\n    positions,\n  };\n};"}
{"repo_name": "cinema-plus", "file_path": "cinema-plus\\code\\server\\src\\utils\\userModeling.js", "chunk_id": 7, "subchunk_id": 0, "start_line": 210, "end_line": 228, "language": "js", "text": "\nconst getPosition = (cinemaRows, seats) => {\n  const rowNum = seats[0][0];\n  const step = cinemaRows / 3;\n  let pos = 1;\n  for (let i = step; i <= cinemaRows; i += step) {\n    if (rowNum < i) {\n      switch (pos) {\n        case 1:\n          return 'front';\n        case 2:\n          return 'center';\n        case 3:\n          return 'back';\n      }\n    }\n    pos++;\n  }\n};"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\drizzle.config.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 15, "language": "ts", "text": "import { defineConfig } from 'drizzle-kit'\n\nexport default defineConfig({\n  driver: \"d1-http\",\n  schema: \"./schema.ts\",\n  dialect: 'sqlite',\n  // dbCredentials: {\n  //   accountId: '1234567890',\n  //   databaseId: '1234567890',\n  //   token: '1234567890',\n  // },\n  migrations: {\n    prefix: 'timestamp'\n  }\n})"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\load-context.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 9, "language": "ts", "text": "import { type PlatformProxy } from \"wrangler\";\n\ntype Cloudflare = Omit<PlatformProxy<Env>, \"dispose\">;\n\ndeclare module \"@remix-run/cloudflare\" {\n  interface AppLoadContext {\n    cloudflare: Cloudflare;\n  }\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\postcss.config.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 6, "language": "js", "text": "export default {\n  plugins: {\n    tailwindcss: {},\n    autoprefixer: {},\n  },\n};"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\remix.config.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 5, "language": "js", "text": "/** @type {import('@remix-run/dev').AppConfig} */\nexport default {\n  tailwind: true,\n  postcss: true,\n};"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\schema.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 11, "end_line": 17, "language": "ts", "text": "\nexport const documentChunks = sqliteTable('document_chunks', {\n  id: text('id').primaryKey(),\n  documentId: text('document_id').references(() => documents.id),\n  text: text('text'),\n  sessionId: text('session_id'),\n});"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\setup.sh", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 17, "language": "sh", "text": "#! /bin/bash\nset -e\n\ncp .env.template .dev.vars\n\n# Must be on wrangler 3.72.3 or later, otherwise the create command will create V1 indexes, not V2\nnpx wrangler vectorize create cloudflare-rag-index --dimensions=1024 --metric=euclidean\n# Must be on wrangler 3.72.3 or later\nnpx wrangler vectorize create-metadata-index cloudflare-rag-index --property-name=session_id --type=string\n\nnpx wrangler r2 bucket create cloudflare-rag-bucket\n\n# After running this, you'll need to replace the database_id in wrangler.toml\nnpx wrangler d1 create cloudflare-rag\n\n# After running this, you'll need to replace the id in wrangler.toml\nnpx wrangler kv namespace create rate-limiter"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\tailwind.config.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 55, "language": "ts", "text": "import type { Config } from \"tailwindcss\"\n\nconst config = {\n  darkMode: [\"class\"],\n  content: [\n    './pages/**/*.{ts,tsx}',\n    './components/**/*.{ts,tsx}',\n    './app/**/*.{ts,tsx}',\n    './src/**/*.{ts,tsx}',\n  ],\n  prefix: \"\",\n  theme: {\n    container: {\n      center: true,\n      padding: \"2rem\",\n      screens: {\n        \"2xl\": \"1400px\",\n      },\n    },\n    extend: {\n      colors: {\n        border: \"hsl(var(--border))\",\n        input: \"hsl(var(--input))\",\n        ring: \"hsl(var(--ring))\",\n        background: \"hsl(var(--background))\",\n        foreground: \"hsl(var(--foreground))\",\n        primary: {\n          DEFAULT: \"hsl(var(--primary))\",\n          foreground: \"hsl(var(--primary-foreground))\",\n        },\n        secondary: {\n          DEFAULT: \"hsl(var(--secondary))\",\n          foreground: \"hsl(var(--secondary-foreground))\",\n        },\n        destructive: {\n          DEFAULT: \"hsl(var(--destructive))\",\n          foreground: \"hsl(var(--destructive-foreground))\",\n        },\n        muted: {\n          DEFAULT: \"hsl(var(--muted))\",\n          foreground: \"hsl(var(--muted-foreground))\",\n        },\n        accent: {\n          DEFAULT: \"hsl(var(--accent))\",\n          foreground: \"hsl(var(--accent-foreground))\",\n        },\n        popover: {\n          DEFAULT: \"hsl(var(--popover))\",\n          foreground: \"hsl(var(--popover-foreground))\",\n        },\n        card: {\n          DEFAULT: \"hsl(var(--card))\",\n          foreground: \"hsl(var(--card-foreground))\",\n        },\n      },"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\tailwind.config.ts", "chunk_id": 0, "subchunk_id": 1, "start_line": 54, "end_line": 80, "language": "ts", "text": "        },\n      },\n      borderRadius: {\n        lg: \"var(--radius)\",\n        md: \"calc(var(--radius) - 2px)\",\n        sm: \"calc(var(--radius) - 4px)\",\n      },\n      keyframes: {\n        shimmer: {\n          \"0%, 90%, 100%\": {\n            \"background-position\": \"calc(-100% - var(--shimmer-width)) 0\",\n          },\n          \"30%, 60%\": {\n            \"background-position\": \"calc(100% + var(--shimmer-width)) 0\",\n          },\n        },\n        \"accordion-down\": {\n          from: { height: \"0\" },\n          to: { height: \"var(--radix-accordion-content-height)\" },\n        },\n        \"accordion-up\": {\n          from: { height: \"var(--radix-accordion-content-height)\" },\n          to: { height: \"0\" },\n        },\n        fadeIn: {\n          '0%': { opacity: '0' },\n          '100%': { opacity: '1' },"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\tailwind.config.ts", "chunk_id": 0, "subchunk_id": 2, "start_line": 79, "end_line": 80, "language": "ts", "text": "          '0%': { opacity: '0' },\n          '100%': { opacity: '1' },"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\tailwind.config.ts", "chunk_id": 0, "subchunk_id": 3, "start_line": 80, "end_line": 80, "language": "ts", "text": "          '100%': { opacity: '1' },"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\tailwind.config.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 81, "end_line": 94, "language": "ts", "text": "        }\n      },\n      animation: {\n        \"accordion-down\": \"accordion-down 0.2s ease-out\",\n        \"accordion-up\": \"accordion-up 0.2s ease-out\",\n        fadeIn: 'fadeIn 0.3s ease-out forwards',\n        shimmer: \"shimmer 8s infinite\",\n      },\n    },\n  },\n  plugins: [require(\"tailwindcss-animate\"), require('@tailwindcss/typography')],\n} satisfies Config\n\nexport default config"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\vite.config.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 25, "end_line": 29, "language": "ts", "text": "        // rewrite: (path) => path.replace(/^\\/api/, \"\"),\n      },\n    },\n  },\n});"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\worker-configuration.d.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 14, "language": "ts", "text": "// Generated by Wrangler on Fri Aug 30 2024 14:49:51 GMT+0200 (GMT+02:00)\n// by running `wrangler types`\n\ninterface Env {\n\trate_limiter: KVNamespace;\n\tGROQ_API_KEY: string;\n\tOPENAI_API_KEY: string;\n\tANTHROPIC_API_KEY: string;\n\tCLOUDFLARE_ACCOUNT_ID: string;\n\tR2_BUCKET: R2Bucket;\n\tDB: D1Database;\n\tVECTORIZE_INDEX: VectorizeIndex;\n\tAI: Ai;\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\entry.client.tsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 18, "language": "tsx", "text": "\nstartTransition(() => {\n  hydrateRoot(\n    document,\n    <StrictMode>\n      <RemixBrowser />\n    </StrictMode>\n  );\n});"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\entry.server.tsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 11, "end_line": 43, "language": "tsx", "text": "\nexport default async function handleRequest(\n  request: Request,\n  responseStatusCode: number,\n  responseHeaders: Headers,\n  remixContext: EntryContext,\n  // This is ignored so we can keep it in the template for visibility.  Feel\n  // free to delete this parameter in your app if you're not using it!\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  loadContext: AppLoadContext\n) {\n  const body = await renderToReadableStream(\n    <RemixServer context={remixContext} url={request.url} />,\n    {\n      signal: request.signal,\n      onError(error: unknown) {\n        // Log streaming rendering errors from inside the shell\n        console.error(error);\n        responseStatusCode = 500;\n      },\n    }\n  );\n\n  if (isbot(request.headers.get(\"user-agent\") || \"\")) {\n    await body.allReady;\n  }\n\n  responseHeaders.set(\"Content-Type\", \"text/html\");\n  return new Response(body, {\n    headers: responseHeaders,\n    status: responseStatusCode,\n  });\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\root.tsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 20, "language": "tsx", "text": "\nexport function Layout({ children }: { children: React.ReactNode }) {\n  return (\n    <html lang=\"en\">\n      <head>\n        <meta charSet=\"utf-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\n        <Meta />\n        <Links />\n      </head>\n      <body>\n        {children}\n        <ScrollRestoration />\n        <Scripts />\n      </body>\n    </html>\n  );\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\root.tsx", "chunk_id": 1, "subchunk_id": 0, "start_line": 21, "end_line": 24, "language": "tsx", "text": "\nexport default function App() {\n  return <Outlet />;\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\button.tsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 38, "end_line": 46, "language": "tsx", "text": "\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return (\n      <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />\n    );\n  }\n);"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\fileUpload.tsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 58, "end_line": 60, "language": "tsx", "text": "        if (newInfo[fileName].status === \"error\") {\n          delete newInfo[fileName];\n        }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\fileUpload.tsx", "chunk_id": 0, "subchunk_id": 1, "start_line": 71, "end_line": 117, "language": "tsx", "text": "    for (const file of newFiles) {\n      if (file.type === \"test\") {\n        setFileInfo((prev) => ({\n          ...prev,\n          [file.name]: { chunks: 129, status: \"success\" },\n        }));\n        setFiles([\n          new File(new Array(777777).fill(\"test\"), file.name, { type: \"application/pdf\" }),\n        ]);\n\n        toast.success(`Successfully uploaded ${file.name}`);\n\n        return;\n      }\n\n      setFileInfo((prev) => ({\n        ...prev,\n        [file.name]: { chunks: 0, status: \"Uploading...\" },\n      }));\n\n      const formData = new FormData();\n      formData.append(\"pdf\", file);\n      formData.append(\"sessionId\", sessionId);\n\n      try {\n        const response = await stream(\"/api/upload\", {\n          method: \"POST\",\n          body: formData,\n        });\n\n        for await (const event of response) {\n          const parsedChunk = JSON.parse(event?.data?.trim().replace(/^data:\\s*/, \"\") || \"\");\n\n          if (parsedChunk.error) {\n            setFileInfo((prev) => ({\n              ...prev,\n              [file.name]: { chunks: 0, status: \"error\", error: parsedChunk.error },\n            }));\n            toast.error(parsedChunk.error);\n            return;\n          } else if (parsedChunk.chunks) {\n            setFileInfo((prev) => ({\n              ...prev,\n              [file.name]: { chunks: parsedChunk.chunks.length, status: \"success\" },\n            }));\n            toast.success(`Successfully uploaded ${file.name}`);\n          } else if (parsedChunk.message) {"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\fileUpload.tsx", "chunk_id": 0, "subchunk_id": 2, "start_line": 116, "end_line": 131, "language": "tsx", "text": "            toast.success(`Successfully uploaded ${file.name}`);\n          } else if (parsedChunk.message) {\n            setFileInfo((prev) => ({\n              ...prev,\n              [file.name]: { chunks: 0, status: parsedChunk.message },\n            }));\n          }\n        }\n      } catch (error) {\n        setFileInfo((prev) => ({\n          ...prev,\n          [file.name]: { chunks: 0, status: \"error\", error: \"Network error\" },\n        }));\n        toast.error(`Error uploading ${file.name}`);\n      }\n    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\fileUpload.tsx", "chunk_id": 0, "subchunk_id": 3, "start_line": 130, "end_line": 131, "language": "tsx", "text": "      }\n    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\fileUpload.tsx", "chunk_id": 0, "subchunk_id": 4, "start_line": 131, "end_line": 131, "language": "tsx", "text": "    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\fileUpload.tsx", "chunk_id": 1, "subchunk_id": 0, "start_line": 277, "end_line": 300, "language": "tsx", "text": "\nexport function GridPattern() {\n  const columns = 41;\n  const rows = 11;\n  return (\n    <div className=\"flex bg-gray-100 dark:bg-neutral-900 flex-shrink-0 flex-wrap justify-center items-center gap-x-px gap-y-px  scale-105\">\n      {Array.from({ length: rows }).map((_, row) =>\n        Array.from({ length: columns }).map((_, col) => {\n          const index = row * columns + col;\n          return (\n            <div\n              key={`${col}-${row}`}\n              className={`w-10 h-10 flex flex-shrink-0 rounded-[2px] ${\n                index % 2 === 0\n                  ? \"bg-gray-50 dark:bg-neutral-950\"\n                  : \"bg-gray-50 dark:bg-neutral-950 shadow-[0px_0px_1px_3px_rgba(255,255,255,1)_inset] dark:shadow-[0px_0px_1px_3px_rgba(0,0,0,1)_inset]\"\n              }`}\n            />\n          );\n        })\n      )}\n    </div>\n  );\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\Input.tsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 25, "end_line": 30, "language": "tsx", "text": "    if (document.visibilityState !== \"visible\" && intervalRef.current) {\n      clearInterval(intervalRef.current); // Clear the interval when the tab is not visible\n      intervalRef.current = null;\n    } else if (document.visibilityState === \"visible\") {\n      startAnimation(); // Restart the interval when the tab becomes visible\n    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\Input.tsx", "chunk_id": 0, "subchunk_id": 1, "start_line": 38, "end_line": 40, "language": "tsx", "text": "      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\Input.tsx", "chunk_id": 0, "subchunk_id": 2, "start_line": 53, "end_line": 53, "language": "tsx", "text": "    if (!inputRef.current) return;"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\Input.tsx", "chunk_id": 0, "subchunk_id": 3, "start_line": 55, "end_line": 55, "language": "tsx", "text": "    if (!canvas) return;"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\Input.tsx", "chunk_id": 0, "subchunk_id": 4, "start_line": 57, "end_line": 57, "language": "tsx", "text": "    if (!ctx) return;"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\Input.tsx", "chunk_id": 0, "subchunk_id": 5, "start_line": 73, "end_line": 85, "language": "tsx", "text": "    for (let t = 0; t < 800; t++) {\n      let i = 4 * t * 800;\n      for (let n = 0; n < 800; n++) {\n        let e = i + 4 * n;\n        if (pixelData[e] !== 0 && pixelData[e + 1] !== 0 && pixelData[e + 2] !== 0) {\n          newData.push({\n            x: n,\n            y: t,\n            color: [pixelData[e], pixelData[e + 1], pixelData[e + 2], pixelData[e + 3]],\n          });\n        }\n      }\n    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\Input.tsx", "chunk_id": 0, "subchunk_id": 6, "start_line": 103, "end_line": 117, "language": "tsx", "text": "        for (let i = 0; i < newDataRef.current.length; i++) {\n          const current = newDataRef.current[i];\n          if (current.x < pos) {\n            newArr.push(current);\n          } else {\n            if (current.r <= 0) {\n              current.r = 0;\n              continue;\n            }\n            current.x += Math.random() > 0.5 ? 1 : -1;\n            current.y += Math.random() > 0.5 ? 1 : -1;\n            current.r -= 0.05 * Math.random();\n            newArr.push(current);\n          }\n        }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\Input.tsx", "chunk_id": 0, "subchunk_id": 7, "start_line": 120, "end_line": 132, "language": "tsx", "text": "        if (ctx) {\n          ctx.clearRect(pos, 0, 800, 800);\n          newDataRef.current.forEach((t) => {\n            const { x: n, y: i, r: s, color: color } = t;\n            if (n > pos) {\n              ctx.beginPath();\n              ctx.rect(n, i, s, s);\n              ctx.fillStyle = color;\n              ctx.strokeStyle = color;\n              ctx.stroke();\n            }\n          });\n        }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\Input.tsx", "chunk_id": 0, "subchunk_id": 8, "start_line": 133, "end_line": 138, "language": "tsx", "text": "        if (newDataRef.current.length > 0) {\n          animateFrame(pos - 8);\n        } else {\n          setValue(\"\");\n          setAnimating(false);\n        }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\Input.tsx", "chunk_id": 0, "subchunk_id": 9, "start_line": 145, "end_line": 147, "language": "tsx", "text": "    if (e.key === \"Enter\" && !animating) {\n      vanishAndSubmit();\n    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\Input.tsx", "chunk_id": 0, "subchunk_id": 10, "start_line": 155, "end_line": 161, "language": "tsx", "text": "    if (value && inputRef.current) {\n      const maxX = newDataRef.current.reduce(\n        (prev, current) => (current.x > prev ? current.x : prev),\n        0\n      );\n      animate(maxX);\n    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\Input.tsx", "chunk_id": 0, "subchunk_id": 11, "start_line": 186, "end_line": 189, "language": "tsx", "text": "          if (!animating) {\n            setValue(e.target.value);\n            onChange && onChange(e);\n          }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\magicui\\animated-shiny-text.tsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 38, "language": "tsx", "text": "\nconst AnimatedShinyText: FC<AnimatedShinyTextProps> = ({\n  children,\n  className,\n  shimmerWidth = 100,\n}) => {\n  return (\n    <p\n      style={\n        {\n          \"--shimmer-width\": `${shimmerWidth}px`,\n        } as CSSProperties\n      }\n      className={cn(\n        \"mx-auto max-w-md text-neutral-600/70 dark:text-neutral-400/70\",\n\n        // Shimmer effect\n        \"animate-shimmer bg-clip-text bg-no-repeat [background-position:0_0] [background-size:var(--shimmer-width)_100%] [transition:background-position_1s_cubic-bezier(.6,.6,0,1)_infinite]\",\n\n        // Shimmer gradient\n        \"bg-gradient-to-r from-transparent via-black/80 via-50% to-transparent  dark:via-white/80\",\n\n        className,\n      )}\n    >\n      {children}\n    </p>\n  );\n};"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\checkbox.tsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 25, "language": "tsx", "text": "\nconst Checkbox = React.forwardRef<\n  React.ElementRef<typeof CheckboxPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof CheckboxPrimitive.Root>\n>(({ className, ...props }, ref) => (\n  <CheckboxPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"peer h-4 w-4 shrink-0 rounded border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground\",\n      className\n    )}\n    {...props}\n  >\n    <CheckboxPrimitive.Indicator\n      className={cn(\"flex items-center justify-center text-current\")}\n    >\n      <Check className=\"h-4 w-4\" />\n    </CheckboxPrimitive.Indicator>\n  </CheckboxPrimitive.Root>\n))"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\drawer.tsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 14, "language": "tsx", "text": "\nconst Drawer = ({\n  shouldScaleBackground = true,\n  ...props\n}: React.ComponentProps<typeof DrawerPrimitive.Root>) => (\n  <DrawerPrimitive.Root\n    shouldScaleBackground={shouldScaleBackground}\n    {...props}\n  />\n)"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\drawer.tsx", "chunk_id": 1, "subchunk_id": 0, "start_line": 22, "end_line": 32, "language": "tsx", "text": "\nconst DrawerOverlay = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Overlay\n    ref={ref}\n    className={cn(\"fixed inset-0 z-50 bg-black/80\", className)}\n    {...props}\n  />\n))"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\drawer.tsx", "chunk_id": 2, "subchunk_id": 0, "start_line": 34, "end_line": 53, "language": "tsx", "text": "\nconst DrawerContent = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DrawerPortal>\n    <DrawerOverlay />\n    <DrawerPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background\",\n        className\n      )}\n      {...props}\n    >\n      <div className=\"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted\" />\n      {children}\n    </DrawerPrimitive.Content>\n  </DrawerPortal>\n))"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\drawer.tsx", "chunk_id": 3, "subchunk_id": 0, "start_line": 55, "end_line": 64, "language": "tsx", "text": "\nconst DrawerHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"grid gap-1.5 p-4 text-center sm:text-left\", className)}\n    {...props}\n  />\n)"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\drawer.tsx", "chunk_id": 4, "subchunk_id": 0, "start_line": 66, "end_line": 75, "language": "tsx", "text": "\nconst DrawerFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\"mt-auto flex flex-col gap-2 p-4\", className)}\n    {...props}\n  />\n)"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\drawer.tsx", "chunk_id": 5, "subchunk_id": 0, "start_line": 77, "end_line": 90, "language": "tsx", "text": "\nconst DrawerTitle = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\drawer.tsx", "chunk_id": 6, "subchunk_id": 0, "start_line": 92, "end_line": 102, "language": "tsx", "text": "\nconst DrawerDescription = React.forwardRef<\n  React.ElementRef<typeof DrawerPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DrawerPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DrawerPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\select.tsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 12, "end_line": 33, "language": "tsx", "text": "\nconst SelectTrigger = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 shadow shadow-sm\",\n      className\n    )}\n    style={{\n      borderColor: \"#ccc\",\n    }}\n    {...props}\n  >\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n));"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\select.tsx", "chunk_id": 1, "subchunk_id": 0, "start_line": 35, "end_line": 47, "language": "tsx", "text": "\nconst SelectScrollUpButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollUpButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollUpButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n));"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\select.tsx", "chunk_id": 2, "subchunk_id": 0, "start_line": 49, "end_line": 61, "language": "tsx", "text": "\nconst SelectScrollDownButton = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.ScrollDownButton>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.ScrollDownButton>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}\n  >\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n));"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\select.tsx", "chunk_id": 3, "subchunk_id": 0, "start_line": 63, "end_line": 93, "language": "tsx", "text": "\nconst SelectContent = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Content>\n>(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}\n    >\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\n          \"p-1\",\n          position === \"popper\" &&\n            \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\"\n        )}\n      >\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n));"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\select.tsx", "chunk_id": 4, "subchunk_id": 0, "start_line": 95, "end_line": 105, "language": "tsx", "text": "\nconst SelectLabel = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Label>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Label>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"py-1.5 pl-8 pr-2 text-sm font-semibold\", className)}\n    {...props}\n  />\n));"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\select.tsx", "chunk_id": 5, "subchunk_id": 0, "start_line": 107, "end_line": 128, "language": "tsx", "text": "\nconst SelectItem = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Item>\n>(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}\n  >\n    <span className=\"absolute left-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n));"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\components\\ui\\select.tsx", "chunk_id": 6, "subchunk_id": 0, "start_line": 130, "end_line": 140, "language": "tsx", "text": "\nconst SelectSeparator = React.forwardRef<\n  React.ElementRef<typeof SelectPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof SelectPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props}\n  />\n));"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\lib\\aiGateway.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 32, "end_line": 40, "language": "ts", "text": "\n  if (!ensureApiKeys(apiKeys) && AI) {\n    console.log(\"No API keys provided, using Workers AI\");\n\n    return await AI.run(defaultModel, {\n      messages,\n      stream: true,\n    });\n  }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\lib\\aiGateway.ts", "chunk_id": 0, "subchunk_id": 1, "start_line": 128, "end_line": 133, "language": "ts", "text": "  if (isDemo) {\n    // Demo account cannot use Claude 3.5 or GPT-4o\n    providers = providers.filter(\n      (p) => p.query.model !== \"gpt-4o\" && p.query.model !== \"claude-3-5-sonnet-20240620\"\n    );\n  }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\lib\\aiGateway.ts", "chunk_id": 0, "subchunk_id": 2, "start_line": 135, "end_line": 142, "language": "ts", "text": "  if (provider && model) {\n    const selectedProvider = providers.find((p) => p.provider === provider);\n    if (selectedProvider) {\n      selectedProvider.query.model = model;\n      providers.splice(providers.indexOf(selectedProvider), 1);\n      providers.unshift(selectedProvider);\n    }\n  }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\lib\\aiGateway.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 154, "end_line": 157, "language": "ts", "text": "\nfunction ensureApiKeys(apiKeys: Record<string, string | undefined>): boolean {\n  return Object.values(apiKeys).some((key) => key !== undefined);\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\lib\\aiGateway.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 185, "end_line": 192, "language": "ts", "text": "\n  if (!ensureApiKeys(apiKeys) && AI) {\n    console.log(\"No API keys provided, using Workers AI\");\n    const response = await AI.run(defaultModel, {\n      messages,\n    });\n    return (response as { response: string }).response;\n  }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\lib\\aiGateway.ts", "chunk_id": 2, "subchunk_id": 1, "start_line": 236, "end_line": 243, "language": "ts", "text": "  if (provider && model) {\n    const selectedProvider = providers.find((p) => p.provider === provider);\n    if (selectedProvider) {\n      selectedProvider.query.model = model;\n      providers.splice(providers.indexOf(selectedProvider), 1);\n      providers.unshift(selectedProvider);\n    }\n  }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\lib\\aiGateway.ts", "chunk_id": 2, "subchunk_id": 2, "start_line": 255, "end_line": 257, "language": "ts", "text": "  if (!response.ok) {\n    throw new Error(`HTTP error! status: ${response.status}`);\n  }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\lib\\aiGateway.ts", "chunk_id": 2, "subchunk_id": 3, "start_line": 263, "end_line": 272, "language": "ts", "text": "  if (data.content && data.content.text) {\n    // Anthropic format\n    content = data.content.text;\n  } else if (data.choices && data.choices[0] && data.choices[0].message) {\n    // OpenAI and Groq format\n    content = data.choices[0].message.content;\n  } else {\n    console.error(\"Unexpected response format:\", data);\n    throw new Error(\"Unexpected response format from AI provider\");\n  }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\lib\\exampleFiles.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 24, "language": "ts", "text": "export const exampleFiles = [\n  {\n    name: \"Cloudflare Q2 2024 Earnings Call\",\n    fileName: \"Cloudflare Q2 2024 Earnings Call.pdf\",\n    sessionId: \"test_cloudflare_earnings\",\n    questions: [\n      \"What was the revenue growth rate in Q2?\",\n      \"What are the example questions that the document answers?\",\n      \"What were the key performance indicators for the quarter?\",\n      \"What are the key outcomes from this call?\",\n    ],\n  },\n  {\n    name: \"EU Artificial Intelligence Act\",\n    fileName: \"TA-9-2024-0138_EN.pdf\",\n    sessionId: \"b7c8ce3e-da8e-4067-93c5-824de5fbec58\",\n    questions: [\n      \"What is the purpose of the Artificial Intelligence Act?\",\n      \"What are the key requirements for AI systems?\",\n      \"How will the Act be enforced?\",\n      \"What are the potential benefits and challenges of the Act?\",\n    ],\n  },\n];"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\lib\\utils.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 6, "language": "ts", "text": "\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs));\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\routes\\_index.tsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 31, "end_line": 34, "language": "tsx", "text": "\nexport const meta = () => {\n  return [{ title: `Fullstack Cloudflare RAG` }];\n};"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\routes\\_index.tsx", "chunk_id": 1, "subchunk_id": 0, "start_line": 60, "end_line": 62, "language": "tsx", "text": "    if (typeof event !== \"string\") {\n      event.preventDefault();\n    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\routes\\_index.tsx", "chunk_id": 1, "subchunk_id": 1, "start_line": 65, "end_line": 102, "language": "tsx", "text": "    if (typeof event === \"string\" || inputMessage.trim()) {\n      const newMsg = { content: typeof event === \"string\" ? event : inputMessage, role: \"user\" };\n      setMessages([...messages, newMsg]);\n      setInputMessage(\"\");\n      setRelevantContext([]); // Reset relevant context for new message\n\n      const response = await stream(\"/api/stream\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"text/event-stream\",\n        },\n        body: JSON.stringify({\n          messages: [...messages, newMsg].map((m) => ({ role: m.role, content: m.content })),\n          sessionId,\n          model,\n          provider,\n        }),\n      });\n\n      for await (const event of response) {\n        try {\n          const parsedChunk = JSON.parse(event?.data?.trim().replace(/^data:\\s*/, \"\") || \"\");\n\n          const newContent =\n            parsedChunk.response ||\n            parsedChunk.choices?.[0]?.delta?.content ||\n            parsedChunk.delta?.text ||\n            \"\";\n\n          if (newContent) {\n            setInformativeMessage(\"\");\n\n            // This works incorrectly being invoked sometimes twice adding the same content!\n            setMessages((prevMessages) => {\n              const lastMessage = prevMessages[prevMessages.length - 1];\n              if (lastMessage?.role === \"assistant\" && !lastMessage.isHidden) {\n                // Check if the new content is already at the end of the last message\n                if (!lastMessage.content.endsWith(newContent)) {"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\routes\\_index.tsx", "chunk_id": 1, "subchunk_id": 2, "start_line": 101, "end_line": 136, "language": "tsx", "text": "                // Check if the new content is already at the end of the last message\n                if (!lastMessage.content.endsWith(newContent)) {\n                  return [\n                    ...prevMessages.slice(0, -1),\n                    {\n                      ...lastMessage,\n                      isHidden: false,\n                      content: lastMessage.content + newContent,\n                    },\n                  ];\n                }\n              } else {\n                return [\n                  ...prevMessages,\n                  { content: newContent, role: \"assistant\", isHidden: false },\n                ];\n              }\n              return prevMessages; // Return unchanged if content was already added\n            });\n          } else if (parsedChunk.message) {\n            console.log(\"Informative message:\", parsedChunk.message);\n            setInformativeMessage(parsedChunk.message);\n          } else if (parsedChunk.error) {\n            console.error(\"Error:\", parsedChunk.error);\n            setInformativeMessage(\"\");\n            toast.error(parsedChunk.error);\n          }\n\n          if (parsedChunk.relevantContext) {\n            setRelevantContext(parsedChunk.relevantContext);\n            // Add relevant context to messages array\n            setMessages((prevMessages) => [\n              ...prevMessages,\n              {\n                content:\n                  \"Relevant context:\\n\" +"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\routes\\_index.tsx", "chunk_id": 1, "subchunk_id": 3, "start_line": 135, "end_line": 150, "language": "tsx", "text": "                content:\n                  \"Relevant context:\\n\" +\n                  parsedChunk.relevantContext.map((ctx: { text: string }) => ctx.text).join(\"\\n\"),\n                role: \"assistant\",\n                isHidden: true,\n              },\n            ]);\n          }\n          if (parsedChunk.queries) {\n            setQueries(parsedChunk.queries);\n          }\n        } catch (error) {\n          console.log(\"Non-JSON chunk received:\", event?.data);\n        }\n      }\n    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\routes\\_index.tsx", "chunk_id": 1, "subchunk_id": 4, "start_line": 149, "end_line": 150, "language": "tsx", "text": "      }\n    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\routes\\_index.tsx", "chunk_id": 1, "subchunk_id": 5, "start_line": 150, "end_line": 150, "language": "tsx", "text": "    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\routes\\_index.tsx", "chunk_id": 1, "subchunk_id": 6, "start_line": 154, "end_line": 164, "language": "tsx", "text": "    if (informativeMessage) {\n      const startTime = Date.now();\n      timerRef.current = window.setInterval(() => {\n        setWaitingTime((Date.now() - startTime) / 1000);\n      }, 100);\n    } else {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n      setWaitingTime(0);\n    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\routes\\_index.tsx", "chunk_id": 1, "subchunk_id": 7, "start_line": 167, "end_line": 169, "language": "tsx", "text": "      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\routes\\_index.tsx", "chunk_id": 1, "subchunk_id": 8, "start_line": 178, "end_line": 181, "language": "tsx", "text": "    if (messagesContainerRef.current && shouldAutoScroll) {\n      const { scrollHeight, clientHeight } = messagesContainerRef.current;\n      messagesContainerRef.current.scrollTop = scrollHeight - clientHeight;\n    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\routes\\_index.tsx", "chunk_id": 1, "subchunk_id": 9, "start_line": 185, "end_line": 188, "language": "tsx", "text": "    if (isNearBottom()) {\n      const timer = setTimeout(scrollToBottom, 100);\n      return () => clearTimeout(timer);\n    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\app\\routes\\_index.tsx", "chunk_id": 1, "subchunk_id": 10, "start_line": 196, "end_line": 199, "language": "tsx", "text": "    if (messagesContainerRef.current) {\n      const { scrollTop, scrollHeight, clientHeight } = messagesContainerRef.current;\n      return scrollHeight - scrollTop - clientHeight < 250;\n    }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\[[path]].ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 8, "language": "ts", "text": "import { createPagesFunctionHandler } from \"@remix-run/cloudflare-pages\";\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore - the server build file is generated by `remix vite:build`\n// eslint-disable-next-line import/no-unresolved\nimport * as build from \"../build/server\";\n\nexport const onRequest = createPagesFunctionHandler({ build });"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\stream.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 11, "end_line": 40, "language": "ts", "text": "\nasync function rewriteToQueries(content: string, env: Env): Promise<string[]> {\n  const prompt = `Given the following user message, rewrite it into 5 distinct queries that could be used to search for relevant information. Each query should focus on different aspects or potential interpretations of the original message. No questions, just a query maximizing the chance of finding relevant information.\n\nUser message: \"${content}\"\n\nProvide 5 queries, one per line and nothing else:`;\n\n  const response = await llmResponse({\n    accountId: env.CLOUDFLARE_ACCOUNT_ID,\n    messages: [{ role: \"user\", content: prompt }],\n    apiKeys: {\n      openai: env.OPENAI_API_KEY,\n      groq: env.GROQ_API_KEY,\n      anthropic: env.ANTHROPIC_API_KEY,\n    },\n    model: \"llama-3.1-8b-instant\",\n    provider: \"groq\",\n    AI: env.AI,\n  });\n\n  const regex = /^\\d+\\.\\s*\"|\"$/gm;\n  const queries = response\n    .replace(regex, \"\")\n    .split(\"\\n\")\n    .filter((query) => query.trim() !== \"\")\n    .slice(1, 5);\n\n  return queries;\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\stream.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 49, "end_line": 78, "language": "ts", "text": "\nasync function searchDocumentChunks(searchTerms: string[], db: DrizzleD1Database<any>) {\n  const queries = searchTerms.filter(Boolean).map(\n    (term) => {\n      const sanitizedTerm = term.trim().replace(/[^\\w\\s]/g, '');\n      return sql`\n        SELECT document_chunks.*, document_chunks_fts.rank\n        FROM document_chunks_fts\n        JOIN document_chunks ON document_chunks_fts.id = document_chunks.id\n        WHERE document_chunks_fts MATCH ${sanitizedTerm}\n        ORDER BY rank DESC\n        LIMIT 5\n      `;\n    }\n  );\n\n  const results = await Promise.all(\n    queries.map(async (query) => {\n      const { results } = (await db.run(query)) as { results: DocumentChunk[] };\n      return results;\n    })\n  );\n\n  console.log({ fts: results });\n\n  return results\n    .flat()\n    .sort((a, b) => b.rank - a.rank)\n    .slice(0, 10);\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\stream.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 79, "end_line": 106, "language": "ts", "text": "\n// Helper function to perform reciprocal rank fusion\nfunction performReciprocalRankFusion(\n  fullTextResults: DocumentChunk[],\n  vectorResults: VectorizeMatches[]\n): { id: string; score: number }[] {\n  const k = 60; // Constant for fusion, can be adjusted\n  const scores: { [id: string]: number } = {};\n\n  // Process full-text search results\n  fullTextResults.forEach((result, index) => {\n    const score = 1 / (k + index);\n    scores[result.id] = (scores[result.id] || 0) + score;\n  });\n\n  // Process vector search results\n  vectorResults.forEach((result) => {\n    result.matches.forEach((match, index) => {\n      const score = 1 / (k + index);\n      scores[match.id] = (scores[match.id] || 0) + score;\n    });\n  });\n\n  // Sort and return fused results\n  return Object.entries(scores)\n    .map(([id, score]) => ({ id, score }))\n    .sort((a, b) => b.score - a.score);\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\stream.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 109, "end_line": 130, "language": "ts", "text": "\nasync function queryVectorIndex(queries: string[], env: Env, sessionId: string) {\n  const queryVectors: EmbeddingResponse[] = await Promise.all(\n    queries.map((q) => env.AI.run(\"@cf/baai/bge-large-en-v1.5\", { text: [q] }))\n  );\n\n  const allResults = await Promise.all(\n    queryVectors.map((qv) =>\n      env.VECTORIZE_INDEX.query(qv.data[0], {\n        topK: 5,\n        returnValues: true,\n        returnMetadata: \"all\",\n        namespace: \"default\",\n        filter: {\n          sessionId,\n        },\n      })\n    )\n  );\n\n  return allResults;\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\stream.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 131, "end_line": 139, "language": "ts", "text": "\nasync function getRelevantDocuments(ids: string[], db: DrizzleD1Database<any>) {\n  const relevantDocs = await db\n    .select({ text: documentChunks.text })\n    .from(documentChunks)\n    .where(inArray(documentChunks.id, ids));\n\n  return relevantDocs;\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\stream.ts", "chunk_id": 5, "subchunk_id": 0, "start_line": 140, "end_line": 176, "language": "ts", "text": "\nasync function processUserQuery(json: any, env: Env, writer: WritableStreamDefaultWriter) {\n  const { provider, model, sessionId } = json;\n  const messages: RoleScopedChatInput[] = json.messages as RoleScopedChatInput[];\n  messages.unshift({ role: \"system\", content: systemMessage });\n  const lastMessage = messages[messages.length - 1];\n  const query = lastMessage.content;\n\n  const db = drizzle(env.DB);\n  const textEncoder = new TextEncoder();\n\n  await writer.write(\n    textEncoder.encode(`data: {\"message\": \"Rewriting message to queries...\"}\\n\\n`)\n  );\n\n  const queries = await rewriteToQueries(query, env);\n  const queryingVectorIndexMsg = {\n    message: \"Querying vector index and full text search...\",\n    queries,\n  };\n  await writer.write(textEncoder.encode(`data: ${JSON.stringify(queryingVectorIndexMsg)}\\n\\n`));\n  console.log({ queries });\n\n  const [fullTextSearchResults, vectorIndexResults] = await Promise.all([\n    searchDocumentChunks(queries, db),\n    queryVectorIndex(queries, env, sessionId),\n  ]);\n\n  // Perform reciprocal rank fusion on fullTextSearchResults and vectorIndexResults\n  // Sort in descending order because higher scores are better in reciprocal rank fusion\n  const mergedResults = performReciprocalRankFusion(fullTextSearchResults, vectorIndexResults).sort(\n    (a, b) => b.score - a.score\n  );\n\n  const relevantDocs = await getRelevantDocuments(mergedResults.map((r) => r.id).slice(0, 10), db);\n\n  const relevantTexts = relevantDocs"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\stream.ts", "chunk_id": 5, "subchunk_id": 1, "start_line": 175, "end_line": 195, "language": "ts", "text": "\n  const relevantTexts = relevantDocs\n    .map((doc, index) => `[${index + 1}]: ${doc.text}`)\n    .join(\"\\n\\n\");\n\n  const relevantDocsMsg = {\n    message: \"Found relevant documents, generating response...\",\n    relevantContext: relevantDocs,\n    queries,\n  };\n  await writer.write(textEncoder.encode(`data: ${JSON.stringify(relevantDocsMsg)}\\n\\n`));\n\n  messages.push({\n    role: \"assistant\",\n    content: `The following queries were made:\\n${queries.join(\n      \"\\n\"\n    )}\\n\\nRelevant context from attached documents:\\n${relevantTexts}`,\n  });\n\n  return { messages, provider, model };\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\stream.ts", "chunk_id": 5, "subchunk_id": 2, "start_line": 194, "end_line": 195, "language": "ts", "text": "  return { messages, provider, model };\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\stream.ts", "chunk_id": 5, "subchunk_id": 3, "start_line": 195, "end_line": 195, "language": "ts", "text": "}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\stream.ts", "chunk_id": 6, "subchunk_id": 0, "start_line": 196, "end_line": 224, "language": "ts", "text": "\nasync function streamResponse(\n  params: Awaited<ReturnType<typeof processUserQuery>>,\n  env: Env,\n  writable: WritableStream\n) {\n  // Rafal's account id. If it is deployed on my account (aka this is demo), expensive models are prohibited.\n  const IS_DEPLOYED_AS_DEMO = env.CLOUDFLARE_ACCOUNT_ID === 'fa3e82d8258ac121c26085c2a5952780'\n  const { messages, provider, model } = params;\n  const apiKeys = {\n    anthropic: env.ANTHROPIC_API_KEY,\n    openai: env.OPENAI_API_KEY,\n    groq: env.GROQ_API_KEY,\n  };\n\n  const stream = await streamLLMResponse({\n    accountId: env.CLOUDFLARE_ACCOUNT_ID,\n    messages,\n    apiKeys,\n    model,\n    provider,\n    AI: env.AI,\n    isDemo: IS_DEPLOYED_AS_DEMO\n  });\n\n  (stream as Response).body\n    ? await (stream as Response).body?.pipeTo(writable)\n    : await (stream as ReadableStream).pipeTo(writable);\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\stream.ts", "chunk_id": 7, "subchunk_id": 0, "start_line": 225, "end_line": 266, "language": "ts", "text": "\nexport const onRequest: PagesFunction<Env> = async (ctx) => {\n  const { readable, writable } = new TransformStream();\n  const writer = writable.getWriter();\n  const ipAddress = ctx.request.headers.get(\"cf-connecting-ip\");\n\n  const rateLimit = await ctx.env.rate_limiter.get(ipAddress);\n  if (rateLimit) {\n    const lastRequestTime = parseInt(rateLimit);\n    const currentTime = Math.floor(Date.now() / 1000);\n    if (currentTime - lastRequestTime < 3) {\n      return new Response(\"Too many requests\", { status: 429 });\n    }\n  }\n\n  await ctx.env.rate_limiter.put(ipAddress, Math.floor(Date.now() / 1000).toString(), {\n    expirationTtl: 60,\n  });\n\n  ctx.waitUntil(\n    (async () => {\n      try {\n        const json = await ctx.request.json();\n        const params = await processUserQuery(json, ctx.env, writer);\n        writer.releaseLock();\n        await streamResponse(params, ctx.env, writable);\n      } catch (error) {\n        console.error(error);\n        await writer.write(new TextEncoder().encode(`data: ${JSON.stringify({ error: (error as Error).message })}\\n\\n`));\n        await writer.close();\n      }\n    })()\n  );\n\n  return new Response(readable, {\n    headers: {\n      \"Content-Type\": \"text/event-stream\",\n      \"Transfer-Encoding\": \"chunked\",\n      \"content-encoding\": \"identity\",\n    },\n  });\n};"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\upload.ts", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 17, "language": "ts", "text": "\nasync function uploadToR2(file: File, r2Bucket: R2Bucket, sessionId: string): Promise<string> {\n  const r2Key = `${sessionId}/${Date.now()}-${file.name}`;\n  await r2Bucket.put(r2Key, await file.arrayBuffer(), {\n    httpMetadata: { contentType: file.type },\n  });\n\n  return `${r2Key}`;\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\upload.ts", "chunk_id": 1, "subchunk_id": 0, "start_line": 18, "end_line": 24, "language": "ts", "text": "\nasync function extractTextFromPDF(file: File): Promise<string> {\n  const buffer = await file.arrayBuffer();\n  const pdf = await getDocumentProxy(new Uint8Array(buffer));\n  const result = await extractText(pdf, { mergePages: true });\n  return Array.isArray(result.text) ? result.text.join(\" \") : result.text;\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\upload.ts", "chunk_id": 2, "subchunk_id": 0, "start_line": 25, "end_line": 45, "language": "ts", "text": "\nasync function insertDocument(\n  db: any,\n  file: File,\n  textContent: string,\n  sessionId: string,\n  r2Url: string\n) {\n  console.log(\"Inserting document...\", { file, textContent, sessionId, r2Url });\n  const row = {\n    id: ulid(),\n    name: file.name,\n    size: file.size,\n    textContent,\n    sessionId,\n    r2Url,\n  };\n  console.log({ row });\n\n  return db.insert(documents).values(row).returning({ insertedId: documents.id });\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\upload.ts", "chunk_id": 3, "subchunk_id": 0, "start_line": 46, "end_line": 94, "language": "ts", "text": "\nasync function insertVectors(\n  db: DrizzleD1Database<any>,\n  VECTORIZE_INDEX: VectorizeIndex,\n  AI: any,\n  chunks: string[],\n  file: File,\n  sessionId: string,\n  documentId: string,\n  streamResponse: (message: any) => Promise<void>\n) {\n  console.log(\"Inserting vectors...\", { file, sessionId, documentId });\n\n  const chunkSize = 10;\n  const insertPromises = [];\n  let progress = 0;\n\n  for (let i = 0; i < chunks.length; i += chunkSize) {\n    const chunkBatch = chunks.slice(i, i + chunkSize);\n\n    insertPromises.push(\n      (async () => {\n        // Generate embeddings for the current batch\n        const embeddingResult = await AI.run(\"@cf/baai/bge-large-en-v1.5\", {\n          text: chunkBatch,\n        });\n        const embeddingBatch: number[][] = embeddingResult.data;\n\n        // Insert chunks into the database\n        const chunkInsertResults = await db\n          .insert(documentChunks)\n          .values(\n            chunkBatch.map((chunk) => ({\n              id: ulid(),\n              text: chunk,\n              sessionId,\n              documentId,\n            }))\n          )\n          .returning({ insertedChunkId: documentChunks.id });\n\n        // Extract the inserted chunk IDs\n        const chunkIds = chunkInsertResults.map((result) => result.insertedChunkId);\n\n        // Insert vectors into VECTORIZE_INDEX\n        await VECTORIZE_INDEX.insert(\n          embeddingBatch.map((embedding, index) => ({\n            id: chunkIds[index],\n            values: embedding,"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\upload.ts", "chunk_id": 3, "subchunk_id": 1, "start_line": 93, "end_line": 110, "language": "ts", "text": "            id: chunkIds[index],\n            values: embedding,\n            namespace: \"default\",\n            metadata: { sessionId, documentId, chunkId: chunkIds[index], text: chunkBatch[index] },\n          }))\n        );\n\n        progress += (chunkSize / chunks.length) * 100;\n        await streamResponse({\n          message: `Embedding... (${progress.toFixed(2)}%)`,\n          progress,\n        });\n      })()\n    );\n  }\n\n  await Promise.all(insertPromises);\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\upload.ts", "chunk_id": 3, "subchunk_id": 2, "start_line": 109, "end_line": 110, "language": "ts", "text": "  await Promise.all(insertPromises);\n}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\upload.ts", "chunk_id": 3, "subchunk_id": 3, "start_line": 110, "end_line": 110, "language": "ts", "text": "}"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\upload.ts", "chunk_id": 4, "subchunk_id": 0, "start_line": 123, "end_line": 132, "language": "ts", "text": "  if (rateLimit) {\n    const lastRequestTime = parseInt(rateLimit);\n    const currentTime = Math.floor(Date.now() / 1000);\n    if (currentTime - lastRequestTime < 3) {\n      return new Response(\n        `Too many requests (${currentTime - lastRequestTime}s since last request, ${ipAddress})`,\n        { status: 429 }\n      );\n    }\n  }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\upload.ts", "chunk_id": 4, "subchunk_id": 1, "start_line": 138, "end_line": 140, "language": "ts", "text": "  if (request.method !== \"POST\") {\n    return new Response(\"Expected a POST request with a file\", { status: 405 });\n  }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\upload.ts", "chunk_id": 4, "subchunk_id": 2, "start_line": 144, "end_line": 188, "language": "ts", "text": "      try {\n        const formData = await request.formData();\n        const file = formData.get(\"pdf\") as File;\n        const sessionId = formData.get(\"sessionId\") as string;\n\n        if (exampleFiles.some((example) => example.sessionId === sessionId)) {\n          await streamResponse({\n            error:\n              \"You cannot upload files to test session with example files. Please reload the page and try again.\",\n          });\n          await writer.close();\n          return;\n        }\n\n        const db = drizzle(ctx.env.DB);\n\n        if (!file || typeof file !== \"object\" || !(\"arrayBuffer\" in file)) {\n          await streamResponse({\n            error: \"Please upload a PDF file.\",\n          });\n          await writer.close();\n          return;\n        }\n\n        // Parallelize independent operations\n        const [r2Url, textContent] = await Promise.all([\n          uploadToR2(file, ctx.env.R2_BUCKET, sessionId),\n          extractTextFromPDF(file),\n        ]);\n\n        await streamResponse({ message: \"Extracted text from PDF\" });\n\n        const insertResult = await insertDocument(db, file, textContent, sessionId, r2Url);\n\n        const splitter = new RecursiveCharacterTextSplitter({\n          chunkSize: 500,\n          chunkOverlap: 100,\n        });\n\n        const chunks = await splitter.splitText(textContent);\n        await streamResponse({ message: \"Split text into chunks\" });\n\n        await insertVectors(\n          db,\n          ctx.env.VECTORIZE_INDEX,"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\upload.ts", "chunk_id": 4, "subchunk_id": 3, "start_line": 187, "end_line": 224, "language": "ts", "text": "          db,\n          ctx.env.VECTORIZE_INDEX,\n          ctx.env.AI,\n          chunks,\n          file,\n          sessionId,\n          insertResult[0].insertedId,\n          streamResponse\n        );\n\n        const fileInfo = {\n          documentId: insertResult[0].insertedId,\n          name: file.name,\n          type: file.type,\n          size: file.size,\n          r2Url,\n          chunks,\n        };\n        console.log({ fileInfo });\n        await streamResponse({ message: \"Inserted vectors into database\", ...fileInfo });\n\n        await writer.close();\n      } catch (error) {\n        writer.close();\n        if (error instanceof DrizzleError) {\n          console.error(\"Drizzle error:\", error.cause);\n        }\n        console.error(\n          \"Error processing upload:\",\n          (error as Error).stack,\n          Object.keys(error as any)\n        );\n        console.error(error);\n        await streamResponse({\n          error: `An error occurred while processing the upload: ${(error as Error).message}`,\n        });\n        await writer.close();\n      }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\upload.ts", "chunk_id": 4, "subchunk_id": 4, "start_line": 223, "end_line": 224, "language": "ts", "text": "        await writer.close();\n      }"}
{"repo_name": "cloudflare-rag", "file_path": "cloudflare-rag\\code\\functions\\api\\upload.ts", "chunk_id": 4, "subchunk_id": 5, "start_line": 224, "end_line": 224, "language": "ts", "text": "      }"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\vitest.config.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 12, "language": "js", "text": "import react from \"@vitejs/plugin-react-swc\";\nimport { defineConfig } from \"vite\";\n\nexport default defineConfig({\n  plugins: [react()],\n  test: {\n    globals: true,\n    environment: \"jsdom\",\n    setupFiles: \"frontend/src/setupTests.js\",\n    css: true,\n  },\n});"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 18, "end_line": 26, "language": "js", "text": "\n(async () => {\n  try {\n    await sequelize.sync({ alter: true });\n    console.log(`Connection with ${env} database has been established.`);\n  } catch (error) {\n    console.error(\"Unable to connect to the database:\", error);\n  }\n})();"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\index.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 31, "end_line": 31, "language": "js", "text": "  app.get(\"/\", (req, res) => res.json({ status: \"API is running on /api\" }));"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\index.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 38, "end_line": 40, "language": "js", "text": "app.get(\"*\", (req, res) =>\n  res.status(404).json({ errors: { body: [\"Not found\"] } }),\n);"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\index.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 42, "end_line": 45, "language": "js", "text": "\napp.listen(PORT, () =>\n  console.log(`Server running on http://localhost:${PORT}`),\n);"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\config\\config.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 27, "language": "js", "text": "/** @type {import('sequelize').Options} */\nmodule.exports = {\n  development: {\n    username: process.env.DEV_DB_USERNAME,\n    password: process.env.DEV_DB_PASSWORD,\n    database: process.env.DEV_DB_NAME,\n    host: process.env.DEV_DB_HOSTNAME,\n    dialect: process.env.DEV_DB_DIALECT,\n    logging: process.env.DEV_DB_LOGGING,\n  },\n  test: {\n    username: process.env.TEST_DB_USERNAME,\n    password: process.env.TEST_DB_PASSWORD,\n    database: process.env.TEST_DB_NAME,\n    host: process.env.TEST_DB_HOSTNAME,\n    dialect: process.env.TEST_DB_DIALECT,\n    logging: process.env.TEST_DB_LOGGING,\n  },\n  production: {\n    username: process.env.PROD_DB_USERNAME,\n    password: process.env.PROD_DB_PASSWORD,\n    database: process.env.PROD_DB_NAME,\n    host: process.env.PROD_DB_HOSTNAME,\n    dialect: process.env.PROD_DB_DIALECT,\n    logging: process.env.PROD_DB_LOGGING,\n  },\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\articles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 20, "end_line": 71, "language": "js", "text": "\n//? All Articles - by Author/by Tag/Favorited by user\nconst allArticles = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n\n    const { author, tag, favorited, limit = 3, offset = 0 } = req.query;\n    const searchOptions = {\n      include: [\n        {\n          model: Tag,\n          as: \"tagList\",\n          attributes: [\"name\"],\n          ...(tag && { where: { name: tag } }),\n        },\n        {\n          model: User,\n          as: \"author\",\n          attributes: { exclude: [\"email\"] },\n          ...(author && { where: { username: author } }),\n        },\n      ],\n      limit: parseInt(limit),\n      offset: offset * limit,\n      order: [[\"createdAt\", \"DESC\"]],\n    };\n\n    let articles = { rows: [], count: 0 };\n    if (favorited) {\n      const user = await User.findOne({ where: { username: favorited } });\n\n      articles.rows = await user.getFavorites(searchOptions);\n      articles.count = await user.countFavorites();\n    } else {\n      articles = await Article.findAndCountAll(searchOptions);\n    }\n\n    for (let article of articles.rows) {\n      const articleTags = await article.getTagList();\n\n      appendTagList(articleTags, article);\n      await appendFollowers(loggedUser, article);\n      await appendFavorites(loggedUser, article);\n\n      delete article.dataValues.Favorites;\n    }\n\n    res.json({ articles: articles.rows, articlesCount: articles.count });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\articles.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 72, "end_line": 119, "language": "js", "text": "\n//* Create Article\nconst createArticle = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n    if (!loggedUser) throw new UnauthorizedError();\n\n    const { title, description, body, tagList } = req.body.article;\n    if (!title) throw new FieldRequiredError(\"A title\");\n    if (!description) throw new FieldRequiredError(\"A description\");\n    if (!body) throw new FieldRequiredError(\"An article body\");\n\n    const slug = slugify(title);\n    const slugInDB = await Article.findOne({ where: { slug: slug } });\n    if (slugInDB) throw new AlreadyTakenError(\"Title\");\n\n    const article = await Article.create({\n      slug: slug,\n      title: title,\n      description: description,\n      body: body,\n    });\n\n    for (const tag of tagList) {\n      const tagInDB = await Tag.findByPk(tag.trim());\n\n      if (tagInDB) {\n        await article.addTagList(tagInDB);\n      } else if (tag.length > 2) {\n        const newTag = await Tag.create({ name: tag.trim() });\n\n        await article.addTagList(newTag);\n      }\n    }\n\n    delete loggedUser.dataValues.token;\n\n    article.dataValues.tagList = tagList;\n    article.setAuthor(loggedUser);\n    article.dataValues.author = loggedUser;\n    await appendFollowers(loggedUser, loggedUser);\n    await appendFavorites(loggedUser, article);\n\n    res.status(201).json({ article });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\articles.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 120, "end_line": 150, "language": "js", "text": "\n//* Feed\nconst articlesFeed = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n    if (!loggedUser) throw new UnauthorizedError();\n\n    const { limit = 3, offset = 0 } = req.query;\n    const authors = await loggedUser.getFollowing();\n\n    const articles = await Article.findAndCountAll({\n      include: includeOptions,\n      limit: parseInt(limit),\n      offset: offset * limit,\n      order: [[\"createdAt\", \"DESC\"]],\n      where: { userId: authors.map((author) => author.id) },\n    });\n\n    for (const article of articles.rows) {\n      const articleTags = await article.getTagList();\n\n      appendTagList(articleTags, article);\n      await appendFollowers(loggedUser, article);\n      await appendFavorites(loggedUser, article);\n    }\n\n    res.json({ articles: articles.rows, articlesCount: articles.count });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\articles.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 151, "end_line": 172, "language": "js", "text": "\n// Single Article by slug\nconst singleArticle = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n\n    const { slug } = req.params;\n    const article = await Article.findOne({\n      where: { slug: slug },\n      include: includeOptions,\n    });\n    if (!article) throw new NotFoundError(\"Article\");\n\n    appendTagList(article.tagList, article);\n    await appendFollowers(loggedUser, article);\n    await appendFavorites(loggedUser, article);\n\n    res.json({ article });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\articles.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 173, "end_line": 208, "language": "js", "text": "\n//* Update Article\nconst updateArticle = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n    if (!loggedUser) throw new UnauthorizedError();\n\n    const { slug } = req.params;\n    const article = await Article.findOne({\n      where: { slug: slug },\n      include: includeOptions,\n    });\n    if (!article) throw new NotFoundError(\"Article\");\n\n    if (loggedUser.id !== article.author.id) {\n      throw new ForbiddenError(\"article\");\n    }\n\n    const { title, description, body } = req.body.article;\n    if (title) {\n      article.slug = slugify(title);\n      article.title = title;\n    }\n    if (description) article.description = description;\n    if (body) article.body = body;\n    await article.save();\n\n    appendTagList(article.tagList, article);\n    await appendFollowers(loggedUser, article);\n    await appendFavorites(loggedUser, article);\n\n    res.json({ article });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\articles.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 209, "end_line": 233, "language": "js", "text": "\n//* Delete Article\nconst deleteArticle = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n    if (!loggedUser) throw new UnauthorizedError();\n\n    const { slug } = req.params;\n    const article = await Article.findOne({\n      where: { slug: slug },\n      include: includeOptions,\n    });\n    if (!article) throw new NotFoundError(\"Article\");\n\n    if (loggedUser.id !== article.author.id) {\n      throw new ForbiddenError(\"article\");\n    }\n\n    await article.destroy();\n\n    res.json({ message: { body: [\"Article deleted successfully\"] } });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\comments.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 9, "end_line": 33, "language": "js", "text": "\n//? All Comments for Article\nconst allComments = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n    const { slug } = req.params;\n\n    const article = await Article.findOne({ where: { slug: slug } });\n    if (!article) throw new NotFoundError(\"Article\");\n\n    const comments = await article.getComments({\n      include: [\n        { model: User, as: \"author\", attributes: { exclude: [\"email\"] } },\n      ],\n    });\n\n    for (const comment of comments) {\n      await appendFollowers(loggedUser, comment);\n    }\n\n    res.json({ comments });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\comments.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 34, "end_line": 62, "language": "js", "text": "\n//* Create Comment for Article\nconst createComment = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n    if (!loggedUser) throw new UnauthorizedError();\n\n    const { body } = req.body.comment;\n    if (!body) throw new FieldRequiredError(\"Comment body\");\n\n    const { slug } = req.params;\n    const article = await Article.findOne({ where: { slug: slug } });\n    if (!article) throw new NotFoundError(\"Article\");\n\n    const comment = await Comment.create({\n      body: body,\n      articleId: article.id,\n      userId: loggedUser.id,\n    });\n\n    delete loggedUser.dataValues.token;\n    comment.dataValues.author = loggedUser;\n    await appendFollowers(loggedUser, loggedUser);\n\n    res.status(201).json({ comment });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\comments.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 63, "end_line": 85, "language": "js", "text": "\n//* Delete Comment for Article\nconst deleteComment = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n    if (!loggedUser) throw new UnauthorizedError();\n\n    const { slug, commentId } = req.params;\n\n    const comment = await Comment.findByPk(commentId);\n    if (!comment) throw new NotFoundError(\"Comment\");\n\n    if (loggedUser.id !== comment.userId) {\n      throw new ForbiddenError(\"comment\");\n    }\n\n    await comment.destroy();\n\n    res.json({ message: { body: [\"Comment deleted successfully\"] } });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\favorites.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 45, "language": "js", "text": "\n//*  Favorite/Unfavorite Article\nconst favoriteToggler = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n    if (!loggedUser) throw new UnauthorizedError();\n\n    const { slug } = req.params;\n\n    const article = await Article.findOne({\n      where: { slug: slug },\n      include: [\n        {\n          model: Tag,\n          as: \"tagList\",\n          attributes: [\"name\"],\n        },\n        {\n          model: User,\n          as: \"author\",\n          attributes: [\"username\", \"bio\", \"image\" /* \"following\" */],\n        },\n      ],\n    });\n    if (!article) throw new NotFoundError(\"Article\");\n\n    if (req.method === \"POST\") await article.addUser(loggedUser);\n    if (req.method === \"DELETE\") await article.removeUser(loggedUser);\n\n    appendTagList(article.tagList, article);\n    await appendFollowers(loggedUser, article);\n    await appendFavorites(loggedUser, article);\n\n    res.json({ article });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\profiles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 23, "language": "js", "text": "\n//? Profile\nconst getProfile = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n    const { username } = req.params;\n\n    const profile = await User.findOne({\n      where: { username: username },\n      attributes: { exclude: \"email\" },\n    });\n    if (!profile) throw new NotFoundError(\"User profile\");\n\n    await appendFollowers(loggedUser, profile);\n\n    res.json({ profile });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\profiles.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 24, "end_line": 51, "language": "js", "text": "\n//* Follow/Unfollow Profile\nconst followToggler = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n    if (!loggedUser) throw new UnauthorizedError();\n\n    const { username } = req.params;\n\n    const profile = await User.findOne({\n      where: { username: username },\n      attributes: { exclude: \"email\" },\n    });\n    if (!profile) throw new NotFoundError(\"User profile\");\n\n    if (req.method === \"POST\") {\n      await profile.addFollower(loggedUser);\n    } else if (req.method === \"DELETE\") {\n      await profile.removeFollower(loggedUser);\n    }\n\n    await appendFollowers(loggedUser, profile);\n\n    res.json({ profile });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\user.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 17, "language": "js", "text": "\n//* Current User\nconst currentUser = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n    if (!loggedUser) throw new UnauthorizedError();\n\n    loggedUser.dataValues.email = req.headers.email;\n    delete req.headers.email;\n\n    res.json({ user: loggedUser });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\user.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 18, "end_line": 46, "language": "js", "text": "\n//* Update User\nconst updateUser = async (req, res, next) => {\n  try {\n    const { loggedUser } = req;\n    if (!loggedUser) throw new UnauthorizedError();\n\n    const {\n      user: { password },\n      user,\n    } = req.body;\n\n    Object.entries(user).forEach((entry) => {\n      const [key, value] = entry;\n\n      if (value !== undefined && key !== \"password\") loggedUser[key] = value;\n    });\n\n    if (password !== undefined || password !== \"\") {\n      loggedUser.password = await bcryptHash(password);\n    }\n\n    await loggedUser.save();\n\n    res.json({ user: loggedUser });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\users.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 38, "language": "js", "text": "\n// Register\nconst signUp = async (req, res, next) => {\n  try {\n    const { username, email, bio, image, password } = req.body.user;\n    if (!username) throw new FieldRequiredError(`A username`);\n    if (!email) throw new FieldRequiredError(`An email`);\n    if (!password) throw new FieldRequiredError(`A password`);\n\n    const userExists = await User.findOne({\n      where: { email: req.body.user.email },\n    });\n    if (userExists) throw new AlreadyTakenError(\"Email\", \"try logging in\");\n\n    const newUser = await User.create({\n      email: email,\n      username: username,\n      bio: bio,\n      image: image,\n      password: await bcryptHash(password),\n    });\n\n    newUser.dataValues.token = await jwtSign(newUser);\n\n    res.status(201).json({ user: newUser });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\controllers\\users.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 39, "end_line": 57, "language": "js", "text": "\n// Login\nconst signIn = async (req, res, next) => {\n  try {\n    const { user } = req.body;\n\n    const existentUser = await User.findOne({ where: { email: user.email } });\n    if (!existentUser) throw new NotFoundError(\"Email\", \"sign in first\");\n\n    const pwd = await bcryptCompare(user.password, existentUser.password);\n    if (!pwd) throw new ValidationError(\"Wrong email/password combination\");\n\n    existentUser.dataValues.token = await jwtSign(user);\n\n    res.json({ user: existentUser });\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\bcrypt.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 5, "language": "js", "text": "\nmodule.exports.bcryptHash = async (password) => {\n  return bcrypt.hash(password, 10);\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\bcrypt.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 6, "end_line": 9, "language": "js", "text": "\nmodule.exports.bcryptCompare = async (password, hasPwd) => {\n  return bcrypt.compare(password, hasPwd);\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\customErrors.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 5, "language": "js", "text": "  constructor(message) {\n    super(message);\n    this.name = this.constructor.name;\n  }"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\customErrors.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 9, "end_line": 11, "language": "js", "text": "  constructor(message) {\n    super(`You are not the author of this ${message}`);\n  }"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\customErrors.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 14, "end_line": 16, "language": "js", "text": "  constructor(property, message = \"\") {\n    super(`${property} not found ${message}`);\n  }"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\customErrors.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 19, "end_line": 21, "language": "js", "text": "  constructor() {\n    super(\"You need to login first!\");\n  }"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\customErrors.js", "chunk_id": 4, "subchunk_id": 0, "start_line": 27, "end_line": 29, "language": "js", "text": "  constructor(field) {\n    super(`${field} is required`);\n  }"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\customErrors.js", "chunk_id": 5, "subchunk_id": 0, "start_line": 33, "end_line": 35, "language": "js", "text": "  constructor(property, message = \"\") {\n    super(`${property} already exists.. ${message}`);\n  }"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\helpers.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 3, "language": "js", "text": "const slugify = (string) => {\n  return string.trim().toLowerCase().replace(/\\W|_/g, \"-\");\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\helpers.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 4, "end_line": 10, "language": "js", "text": "\nconst appendTagList = (articleTags, article) => {\n  const tagList = articleTags.map((tag) => tag.name);\n\n  if (!article) return tagList;\n  article.dataValues.tagList = tagList;\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\helpers.js", "chunk_id": 2, "subchunk_id": 0, "start_line": 11, "end_line": 18, "language": "js", "text": "\nconst appendFavorites = async (loggedUser, article) => {\n  const favorited = await article.hasUser(loggedUser ? loggedUser : null);\n  article.dataValues.favorited = loggedUser ? favorited : false;\n\n  const favoritesCount = await article.countUsers();\n  article.dataValues.favoritesCount = favoritesCount;\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\helpers.js", "chunk_id": 3, "subchunk_id": 0, "start_line": 19, "end_line": 40, "language": "js", "text": "\nconst appendFollowers = async (loggedUser, toAppend) => {\n  //\n  if (toAppend?.author) {\n    const author = await toAppend.getAuthor();\n\n    const following = await author.hasFollower(loggedUser ? loggedUser : null);\n    toAppend.author.dataValues.following = loggedUser ? following : false;\n\n    const followersCount = await author.countFollowers();\n    toAppend.author.dataValues.followersCount = followersCount;\n    //\n  } else {\n    const following = await toAppend.hasFollower(\n      loggedUser ? loggedUser : null,\n    );\n    toAppend.dataValues.following = loggedUser ? following : false;\n\n    const followersCount = await toAppend.countFollowers();\n    toAppend.dataValues.followersCount = followersCount;\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\helpers.test.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 16, "language": "js", "text": "\ndescribe(\"Slugify\", () => {\n  const stringsArray = [\n    \"  Hello World  \",\n    \"  Hello WORLD  \",\n    \" HELLO WORLD\",\n    \"Hello World\",\n    \"Hello_world \",\n    \"Hello-world\",\n  ];\n\n  test.each(stringsArray)(\"%p\", (string) => {\n    expect(slugify(string)).toBe(\"hello-world\");\n  });\n});"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\jwt.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 9, "language": "js", "text": "\nmodule.exports.jwtSign = async (payload) => {\n  return jwt.sign(\n    { username: payload.username, email: payload.email },\n    privateKey,\n  );\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\helper\\jwt.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 10, "end_line": 13, "language": "js", "text": "\nmodule.exports.jwtVerify = async (token) => {\n  return jwt.verify(token, privateKey);\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\middleware\\authentication.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 30, "language": "js", "text": "\nconst verifyToken = async (req, res, next) => {\n  try {\n    const { headers } = req;\n    if (!headers.authorization) return next();\n\n    const token = headers.authorization.split(\" \")[1];\n    if (!token) throw new SyntaxError(\"Token missing or malformed\");\n\n    const userVerified = await jwtVerify(token);\n    if (!userVerified) throw new Error(\"Invalid Token\");\n\n    req.loggedUser = await User.findOne({\n      attributes: { exclude: [\"email\"] },\n      where: { email: userVerified.email },\n    });\n\n    if (!req.loggedUser) next(new NotFoundError(\"User\"));\n\n    headers.email = userVerified.email;\n    req.loggedUser.dataValues.token = token;\n\n    next();\n  } catch (error) {\n    next(error);\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\middleware\\errorHandler.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 7, "end_line": 32, "language": "js", "text": "\nconst errorHandler = (error, req, res, next) => {\n  console.log(\"\\x1b[31m%s\\x1b[0m\", \"\");\n\n  if (error instanceof UnauthorizedError) {\n    console.log(error);\n\n    res.status(401).json({ errors: { body: [error.message] } });\n  } else if (error instanceof ForbiddenError) {\n    console.log(error);\n\n    res.status(403).json({ errors: { body: [error.message] } });\n  } else if (error instanceof NotFoundError) {\n    console.log(error);\n\n    res.status(404).json({ errors: { body: [error.message] } });\n  } else if (error instanceof ValidationError) {\n    console.log(error);\n    res.status(422).json({ errors: { body: [error.message] } });\n  } else {\n    console.log(error);\n    res.status(500).json({ errors: { body: [error.message] } });\n  }\n\n  console.log(\"\\x1b[31m%s\\x1b[0m\", \"\");\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\migrations\\20220129140530-create-tag.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 11, "language": "js", "text": "  async up(queryInterface, Sequelize) {\n    await queryInterface.createTable(\"Tags\", {\n      name: {\n        type: Sequelize.STRING,\n        allowNull: false,\n        primaryKey: true,\n      },\n    });\n  },"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\migrations\\20220129140530-create-tag.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 12, "end_line": 14, "language": "js", "text": "  async down(queryInterface, Sequelize) {\n    await queryInterface.dropTable(\"Tags\");\n  },"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\migrations\\20220129140808-create-article.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 32, "language": "js", "text": "  async up(queryInterface, Sequelize) {\n    await queryInterface.createTable(\"Articles\", {\n      id: {\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n        type: Sequelize.INTEGER,\n      },\n      slug: {\n        type: Sequelize.STRING,\n      },\n      title: {\n        type: Sequelize.STRING,\n      },\n      description: {\n        type: Sequelize.TEXT,\n      },\n      body: {\n        type: Sequelize.TEXT,\n      },\n      createdAt: {\n        allowNull: false,\n        type: Sequelize.DATE,\n      },\n      updatedAt: {\n        allowNull: false,\n        type: Sequelize.DATE,\n      },\n    });\n  },"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\migrations\\20220129140808-create-article.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 33, "end_line": 35, "language": "js", "text": "  async down(queryInterface, Sequelize) {\n    await queryInterface.dropTable(\"Articles\");\n  },"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\migrations\\20220129140956-create-user.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 37, "language": "js", "text": "  async up(queryInterface, Sequelize) {\n    await queryInterface.createTable(\"Users\", {\n      id: {\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n        type: Sequelize.INTEGER,\n      },\n      email: {\n        type: Sequelize.STRING,\n      },\n      username: {\n        type: Sequelize.STRING,\n      },\n      bio: {\n        type: Sequelize.TEXT,\n        defaultValue: null,\n      },\n      image: {\n        type: Sequelize.TEXT,\n        defaultValue: null,\n      },\n      password: {\n        type: Sequelize.STRING,\n      },\n      createdAt: {\n        allowNull: false,\n        type: Sequelize.DATE,\n      },\n      updatedAt: {\n        allowNull: false,\n        type: Sequelize.DATE,\n      },\n    });\n  },"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\migrations\\20220129140956-create-user.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 38, "end_line": 40, "language": "js", "text": "  async down(queryInterface, Sequelize) {\n    await queryInterface.dropTable(\"Users\");\n  },"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\migrations\\20220129141319-create-comment.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 23, "language": "js", "text": "  async up(queryInterface, Sequelize) {\n    await queryInterface.createTable('Comments', {\n      id: {\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n        type: Sequelize.INTEGER\n      },\n      body: {\n        type: Sequelize.TEXT\n      },\n      createdAt: {\n        allowNull: false,\n        type: Sequelize.DATE\n      },\n      updatedAt: {\n        allowNull: false,\n        type: Sequelize.DATE\n      }\n    });\n  },"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\migrations\\20220129141319-create-comment.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 24, "end_line": 26, "language": "js", "text": "  async down(queryInterface, Sequelize) {\n    await queryInterface.dropTable('Comments');\n  }"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\models\\Article.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 57, "language": "js", "text": "module.exports = (sequelize, DataTypes) => {\n  class Article extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate({ User, Tag, Comment }) {\n      // define association here\n\n      // Users\n      this.belongsTo(User, { foreignKey: \"userId\", as: \"author\" });\n\n      // Comments\n      this.hasMany(Comment, { foreignKey: \"articleId\", onDelete: \"cascade\" });\n\n      // Tag list\n      this.belongsToMany(Tag, {\n        through: \"TagList\",\n        as: \"tagList\",\n        foreignKey: \"articleId\",\n        timestamps: false,\n        onDelete: \"cascade\", // FIXME: delete tags\n      });\n\n      // Favorites\n      this.belongsToMany(User, {\n        through: \"Favorites\",\n        foreignKey: \"articleId\",\n        timestamps: false,\n      });\n    }\n\n    toJSON() {\n      return {\n        ...this.get(),\n        id: undefined,\n        userId: undefined,\n      };\n    }\n  }\n  Article.init(\n    {\n      slug: DataTypes.STRING,\n      title: DataTypes.STRING,\n      description: DataTypes.TEXT,\n      body: DataTypes.TEXT,\n    },\n    {\n      sequelize,\n      modelName: \"Article\",\n    },\n  );\n  return Article;\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\models\\Comment.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 42, "language": "js", "text": "module.exports = (sequelize, DataTypes) => {\n  class Comment extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate({ User, Article }) {\n      // define association here\n\n      // Comments\n      this.belongsTo(Article, { foreignKey: \"articleId\" });\n      this.belongsTo(User, { as: \"author\", foreignKey: \"userId\" });\n    }\n\n    toJSON() {\n      return {\n        ...this.get(),\n        articleId: undefined,\n        userId: undefined,\n      };\n    }\n  }\n  Comment.init(\n    {\n      id: {\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n        type: DataTypes.INTEGER,\n      },\n      body: DataTypes.TEXT,\n    },\n    {\n      sequelize,\n      modelName: \"Comment\",\n    },\n  );\n  return Comment;\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\models\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 17, "end_line": 30, "language": "js", "text": "\nfs.readdirSync(__dirname)\n  .filter((file) => {\n    return (\n      file.indexOf(\".\") !== 0 && file !== basename && file.slice(-3) === \".js\"\n    );\n  })\n  .forEach((file) => {\n    const model = require(path.join(__dirname, file))(\n      sequelize,\n      Sequelize.DataTypes,\n    );\n    db[model.name] = model;\n  });"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\models\\index.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 31, "end_line": 36, "language": "js", "text": "\nObject.keys(db).forEach((modelName) => {\n  if (db[modelName].associate) {\n    db[modelName].associate(db);\n  }\n});"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\models\\Tag.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 45, "language": "js", "text": "module.exports = (sequelize, DataTypes) => {\n  class Tag extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate({ Article }) {\n      // define association here\n\n      // Tag list\n      this.belongsToMany(Article, {\n        through: \"TagList\",\n        foreignKey: \"tagName\",\n        timestamps: false,\n      });\n    }\n\n    toJSON() {\n      return {\n        ...this.get(),\n        id: undefined,\n        userId: undefined,\n        TagList: undefined,\n      };\n    }\n  }\n  Tag.init(\n    {\n      name: {\n        type: DataTypes.STRING,\n        allowNull: false,\n        primaryKey: true,\n      },\n    },\n    {\n      sequelize,\n      modelName: \"Tag\",\n      timestamps: false,\n    },\n  );\n  return Tag;\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\models\\User.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 66, "language": "js", "text": "module.exports = (sequelize, DataTypes) => {\n  class User extends Model {\n    /**\n     * Helper method for defining associations.\n     * This method is not a part of Sequelize lifecycle.\n     * The `models/index` file will call this method automatically.\n     */\n    static associate({ Article, Comment, User }) {\n      // define association here\n\n      // Articles\n      this.hasMany(Article, { foreignKey: \"userId\", onDelete: \"CASCADE\" });\n\n      // Comments\n      this.hasMany(Comment, { foreignKey: \"articleId\" });\n\n      // Favorites\n      this.belongsToMany(Article, {\n        through: \"Favorites\",\n        as: \"favorites\",\n        foreignKey: \"userId\",\n        timestamps: false,\n      });\n\n      // Followers\n      this.belongsToMany(User, {\n        through: \"Followers\",\n        as: \"followers\",\n        foreignKey: \"userId\",\n        timestamps: false,\n      });\n      this.belongsToMany(User, {\n        through: \"Followers\",\n        as: \"following\",\n        foreignKey: \"followerId\",\n        timestamps: false,\n      });\n    }\n\n    toJSON() {\n      return {\n        ...this.get(),\n        id: undefined,\n        password: undefined,\n        updatedAt: undefined,\n        createdAt: undefined,\n      };\n    }\n  }\n  User.init(\n    {\n      email: DataTypes.STRING,\n      username: DataTypes.STRING,\n      bio: DataTypes.TEXT,\n      image: DataTypes.TEXT,\n      password: DataTypes.STRING,\n    },\n    {\n      sequelize,\n      modelName: \"User\",\n    },\n  );\n  return User;\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\routes\\articles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 34, "language": "js", "text": "const express = require(\"express\");\nconst router = express.Router();\nconst verifyToken = require(\"../middleware/authentication\");\nconst {\n  allArticles,\n  createArticle,\n  singleArticle,\n  updateArticle,\n  deleteArticle,\n  articlesFeed,\n} = require(\"../controllers/articles\");\n\n//? All Articles - by Author/by Tag/Favorited by user\nrouter.get(\"/\", verifyToken, allArticles);\n//* Create Article\nrouter.post(\"/\", verifyToken, createArticle);\n//* Feed\nrouter.get(\"/feed\", verifyToken, articlesFeed);\n// Single Article by slug\nrouter.get(\"/:slug\", verifyToken, singleArticle);\n//* Update Article\nrouter.put(\"/:slug\", verifyToken, updateArticle);\n//* Delete Article\nrouter.delete(\"/:slug\", verifyToken, deleteArticle);\n\nconst favoritesRoutes = require(\"./articles/favorites\");\nconst commentsRoutes = require(\"./articles/comments\");\n\n//> Favorites routes\nrouter.use(\"/\", favoritesRoutes);\n//> Comments routes\nrouter.use(\"/\", commentsRoutes);\n\nmodule.exports = router;"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\routes\\profiles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 15, "language": "js", "text": "const express = require(\"express\");\nconst router = express.Router();\nconst verifyToken = require(\"../middleware/authentication\");\nconst { getProfile, followToggler } = require(\"../controllers/profiles\");\n\n//? Profile\nrouter.get(\"/:username\", verifyToken, getProfile);\n\n//* Follow Profile\nrouter.post(\"/:username/follow\", verifyToken, followToggler);\n\n//* Unfollow Profile\nrouter.delete(\"/:username/follow\", verifyToken, followToggler);\n\nmodule.exports = router;"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\routes\\tags.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 17, "language": "js", "text": "\n// All Tags\nrouter.get(\"/\", async (req, res, next) => {\n  try {\n    const tagList = await Tag.findAll();\n\n    const tags = appendTagList(tagList);\n\n    res.json({ tags });\n  } catch (error) {\n    next(error);\n  }\n});"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\routes\\user.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 11, "language": "js", "text": "const express = require(\"express\");\nconst router = express.Router();\nconst verifyToken = require(\"../middleware/authentication\");\nconst { currentUser, updateUser } = require(\"../controllers/user\");\n\n//* Current User\nrouter.get(\"/\", verifyToken, currentUser);\n//* Update User\nrouter.put(\"/\", verifyToken, updateUser);\n\nmodule.exports = router;"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\routes\\users.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 10, "language": "js", "text": "const express = require(\"express\");\nconst router = express.Router();\nconst { signUp, signIn } = require(\"../controllers/users\");\n\n// Register\nrouter.post(\"/\", signUp);\n// Login\nrouter.post(\"/login\", signIn);\n\nmodule.exports = router;"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\routes\\articles\\comments.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 17, "language": "js", "text": "const express = require(\"express\");\nconst router = express.Router();\nconst verifyToken = require(\"../../middleware/authentication\");\nconst {\n  allComments,\n  createComment,\n  deleteComment,\n} = require(\"../../controllers/comments\");\n\n//? All Comments for Article\nrouter.get(\"/:slug/comments\", verifyToken, allComments);\n//* Create Comment for Article\nrouter.post(\"/:slug/comments\", verifyToken, createComment);\n//* Delete Comment for Article\nrouter.delete(\"/:slug/comments/:commentId\", verifyToken, deleteComment);\n\nmodule.exports = router;"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\routes\\articles\\favorites.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 11, "language": "js", "text": "const express = require(\"express\");\nconst router = express.Router();\nconst verifyToken = require(\"../../middleware/authentication\");\nconst { favoriteToggler } = require(\"../../controllers/favorites\");\n\n//* Favorite Article\nrouter.post(\"/:slug/favorite\", verifyToken, favoriteToggler);\n//* Unfavorite Article\nrouter.delete(\"/:slug/favorite\", verifyToken, favoriteToggler);\n\nmodule.exports = router;"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\seeders\\20220427123216-create-users.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 16, "language": "js", "text": "  async up(queryInterface, Sequelize) {\n    const users = Array(5)\n      .fill(null)\n      .map((_, index) => ({\n        username: `exampleUser${index + 1}`,\n        email: `example${index + 1}@mail.com`,\n        password: `examplePwd${index + 1}`,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      }));\n\n    await queryInterface.bulkInsert(\"Users\", users, {});\n  },"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\seeders\\20220427123216-create-users.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 17, "end_line": 20, "language": "js", "text": "\n  async down(queryInterface, Sequelize) {\n    await queryInterface.bulkDelete(\"Users\", null, {});\n  },"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\seeders\\20220427123222-create-articles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 24, "language": "js", "text": "  async up(queryInterface, Sequelize) {\n    const users = await User.findAll();\n\n    const articles = Array(55)\n      .fill(null)\n      .map((_, index) => ({\n        slug: `lorem-ipsum-${index + 1}`,\n        title: `Lorem Ipsum ${index + 1}`,\n        description: `${\n          index + 1\n        } - Lorem ipsum dolor sit amet, consectetur adipiscing elit.`,\n        body: `Lorem ipsum dolor sit amet, consectetur adipiscing elit. In nec ante lacinia magna ultricies cursus nec non lacus. Praesent blandit sodales semper. Mauris eget leo non erat molestie faucibus luctus sed ex. Duis sollicitudin tellus vitae aliquam cursus. Integer ultricies ultricies erat. Vivamus egestas ac augue nec mattis. Duis posuere bibendum ex vitae placerat. Duis in odio vestibulum, pellentesque odio vitae, egestas nibh.`,\n        userId: users[Math.floor(Math.random() * users.length)].id,\n        createdAt: new Date(),\n        updatedAt: new Date(),\n      }));\n\n    await queryInterface.bulkInsert(\"Articles\", articles, {});\n  },"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\backend\\seeders\\20220427123222-create-articles.js", "chunk_id": 1, "subchunk_id": 0, "start_line": 25, "end_line": 28, "language": "js", "text": "\n  async down(queryInterface, Sequelize) {\n    await queryInterface.bulkDelete(\"Articles\", null, {});\n  },"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\vite.config.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 14, "language": "js", "text": "import { defineConfig } from 'vite'\nimport react from '@vitejs/plugin-react-swc'\n\nexport default defineConfig({\n  plugins: [react()],\n  server: {\n    port: 3000,\n    proxy: {\n      '/api': {\n        target: 'http://localhost:3001'\n      }\n    }\n  }\n})"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\App.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 19, "language": "jsx", "text": "\nfunction App() {\n  return (\n    <>\n      <header>\n        <Navbar />\n      </header>\n      <main>\n        <Outlet />\n      </main>\n      <footer>\n        <Footer />\n      </footer>\n    </>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\main.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 39, "language": "jsx", "text": "import React from \"react\";\nimport ReactDOM from \"react-dom/client\";\nimport { HashRouter, Route, Routes } from \"react-router-dom\";\nimport App from \"./App\";\nimport AuthProvider from \"./context/AuthContext\";\nimport \"./index.css\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport Article from \"./routes/Article/Article\";\nimport CommentsSection from \"./routes/Article/CommentsSection\";\nimport ArticleEditor from \"./routes/ArticleEditor\";\nimport Home from \"./routes/Home\";\nimport HomeArticles from \"./routes/HomeArticles\";\nimport Login from \"./routes/Login\";\nimport NotFound from \"./routes/NotFound\";\nimport Profile from \"./routes/Profile/Profile\";\nimport ProfileArticles from \"./routes/Profile/ProfileArticles\";\nimport ProfileFavArticles from \"./routes/Profile/ProfileFavArticles\";\nimport Settings from \"./routes/Settings\";\nimport SignUp from \"./routes/SignUp\";\n\nReactDOM.createRoot(document.getElementById(\"root\")).render(\n  <React.StrictMode>\n    <HashRouter>\n      <AuthProvider>\n        <Routes>\n          <Route element={<App />}>\n            <Route path=\"/\" element={<Home />}>\n              <Route index element={<HomeArticles />} />\n            </Route>\n\n            <Route path=\"login\" element={<Login />} />\n            <Route path=\"register\" element={<SignUp />} />\n\n            <Route path=\"settings\" element={<Settings />} />\n\n            <Route path=\"editor\" element={<ArticleEditor />}>\n              <Route path=\":slug\" element={<ArticleEditor />} />\n            </Route>\n"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\main.jsx", "chunk_id": 0, "subchunk_id": 1, "start_line": 38, "end_line": 59, "language": "jsx", "text": "            </Route>\n\n            <Route path=\"article/:slug\" element={<Article />}>\n              <Route index element={<CommentsSection />} />\n            </Route>\n\n            <Route path=\"profile/:username\" element={<Profile />}>\n              <Route index element={<ProfileArticles />} />\n              <Route path=\"favorites\" element={<ProfileFavArticles />} />\n            </Route>\n          </Route>\n          <Route path=\"*\" element={<NotFound />} />\n        </Routes>\n      </AuthProvider>\n    </HashRouter>\n  </React.StrictMode>,\n  );\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\main.jsx", "chunk_id": 0, "subchunk_id": 2, "start_line": 58, "end_line": 59, "language": "jsx", "text": "// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\main.jsx", "chunk_id": 0, "subchunk_id": 3, "start_line": 59, "end_line": 59, "language": "jsx", "text": "reportWebVitals();"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\reportWebVitals.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 11, "language": "js", "text": "const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\setupTests.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 5, "language": "js", "text": "// jest-dom adds custom jest matchers for asserting on DOM nodes.\n// allows you to do things like:\n// expect(element).toHaveTextContent(/react/i)\n// learn more: https://github.com/testing-library/jest-dom\nimport \"@testing-library/jest-dom\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticleAuthorButtons\\ArticleAuthorButtons.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 40, "language": "jsx", "text": "\nfunction ArticleAuthorButtons({ body, description, slug, tagList, title }) {\n  const { headers, isAuth } = useAuth();\n  const navigate = useNavigate();\n\n  const handleClick = () => {\n    if (!isAuth) return alert(\"You need to login first\");\n\n    const confirmation = window.confirm(\"Want to delete the article?\");\n    if (!confirmation) return;\n\n    deleteArticle({ headers, slug })\n      .then(() => navigate(\"/\"))\n      .catch(console.error);\n  };\n\n  return (\n    <>\n      <button\n        className=\"btn btn-sm\"\n        style={{ color: \"#d00\" }}\n        onClick={handleClick}\n      >\n        <i className=\"ion-trash-a\"></i> Delete Article\n      </button>{\" \"}\n      <button className=\"btn btn-sm\" style={{ color: \"#777\" }}>\n        <Link\n          className=\"nav-link\"\n          state={{ body, description, tagList, title }}\n          to={`/editor/${slug}`}\n        >\n          <i className=\"ion-edit\"></i> Edit Article\n        </Link>\n      </button>{\" \"}\n    </>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticleAuthorButtons\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./ArticleAuthorButtons\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticleEditorForm\\ArticleEditorForm.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 23, "end_line": 23, "language": "jsx", "text": "    if (!isAuth) return redirect();"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticleEditorForm\\ArticleEditorForm.jsx", "chunk_id": 0, "subchunk_id": 1, "start_line": 25, "end_line": 25, "language": "jsx", "text": "    if (state || !slug) return;"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticleEditorForm\\ArticleEditorForm.jsx", "chunk_id": 0, "subchunk_id": 2, "start_line": 29, "end_line": 29, "language": "jsx", "text": "        if (username !== loggedUser.username) redirect();"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticleEditorForm\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./ArticleEditorForm\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticleMeta\\ArticleMeta.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 29, "language": "jsx", "text": "\nfunction ArticleMeta({ author, children, createdAt }) {\n  const { bio, followersCount, following, image, username } = author || {};\n\n  return (\n    <div className=\"article-meta\">\n      <Link\n        state={{ bio, followersCount, following, image }}\n        to={`/profile/${username}`}\n      >\n        <Avatar alt={username} src={image} />\n      </Link>\n      <div className=\"info\">\n        <Link\n          className=\"author\"\n          state={{ bio, followersCount, following, image }}\n          to={`/profile/${username}`}\n        >\n          {username}\n        </Link>\n        <span className=\"date\">{dateFormatter(createdAt)}</span>\n      </div>\n      {children}\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticleMeta\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./ArticleMeta\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticlesButtons\\ArticlesButtons.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 28, "language": "jsx", "text": "\nfunction ArticlesButtons({ article, setArticle }) {\n  const { author: { username } = {}, author } = article || {};\n  const { loggedUser } = useAuth();\n  const { slug } = useParams();\n\n  const followHandler = (author) => {\n    setArticle((prev) => ({ ...prev, author }));\n  };\n\n  const handleFav = ({ favorited, favoritesCount }) => {\n    setArticle((prev) => ({ ...prev, favorited, favoritesCount }));\n  };\n\n  return loggedUser.username === username ? (\n    <ArticleAuthorButtons {...article} slug={slug} />\n  ) : (\n    <>\n      <FollowButton {...author} handler={followHandler} />\n      <FavButton {...article} handler={handleFav} text />\n    </>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticlesButtons\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./ArticlesButtons\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticlesPagination\\ArticlesPagination.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 41, "language": "jsx", "text": "\nfunction ArticlesPagination({\n  articlesCount,\n  location,\n  tagName,\n  updateArticles,\n  username,\n}) {\n  const totalPages = Math.ceil(articlesCount / 3);\n  const { headers } = useAuth();\n\n  const handlePageChange = ({ selected: page }) => {\n    getArticles({ headers, location, page, username, tagName })\n      .then(updateArticles)\n      .catch(console.error);\n  };\n\n  return (\n    <ReactPaginate\n      activeClassName=\"active\"\n      breakClassName=\"page-item\"\n      breakLabel=\"...\"\n      breakLinkClassName=\"page-link\"\n      containerClassName=\"pagination pagination-sm\"\n      nextClassName=\"page-item\"\n      nextLabel={<i className=\"ion-arrow-right-b\"></i>}\n      nextLinkClassName=\"page-link\"\n      onPageChange={handlePageChange}\n      pageClassName=\"page-item\"\n      pageCount={totalPages}\n      pageLinkClassName=\"page-link\"\n      previousClassName=\"page-item\"\n      previousLabel={<i className=\"ion-arrow-left-b\"></i>}\n      previousLinkClassName=\"page-link\"\n      renderOnZeroPageCount={null}\n    />\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticlesPagination\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./ArticlesPagination\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticlesPreview\\ArticlesPreview.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 48, "language": "jsx", "text": "\nfunction ArticlesPreview({ articles, loading, updateArticles }) {\n  const handleFav = (article) => {\n    const items = [...articles];\n\n    const updatedArticles = items.map((item) =>\n      item.slug === article.slug ? { ...item, ...article } : item,\n    );\n\n    updateArticles((prev) => ({ ...prev, articles: updatedArticles }));\n  };\n\n  return articles?.length > 0 ? (\n    articles.map((article) => {\n      return (\n        <div className=\"article-preview\" key={article.slug}>\n          <ArticleMeta author={article.author} createdAt={article.createdAt}>\n            <FavButton\n              favorited={article.favorited}\n              favoritesCount={article.favoritesCount}\n              handler={handleFav}\n              right\n              slug={article.slug}\n            />\n          </ArticleMeta>\n          <Link\n            to={`/article/${article.slug}`}\n            state={article}\n            className=\"preview-link\"\n          >\n            <h1>{article.title}</h1>\n            <p>{article.description}</p>\n            <span>Read more...</span>\n            <ArticleTags tagList={article.tagList} />\n          </Link>\n        </div>\n      );\n    })\n  ) : loading ? (\n    <div className=\"article-preview\">Loading article...</div>\n  ) : (\n    <div className=\"article-preview\">No articles available.</div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticlesPreview\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./ArticlesPreview\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticleTags\\ArticleTags.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 13, "language": "jsx", "text": "function ArticleTags({ tagList }) {\n  return (\n    tagList?.length > 0 && (\n      <ul className=\"tag-list\">\n        {tagList.map((tag) => (\n          <li key={tag} className=\"tag-default tag-pill tag-outline\">\n            {tag}\n          </li>\n        ))}\n      </ul>\n    )\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ArticleTags\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./ArticleTags\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\AuthorInfo\\AuthorInfo.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 57, "language": "jsx", "text": "\nfunction AuthorInfo() {\n  const { state } = useLocation();\n  const [{ bio, followersCount, following, image }, setAuthor] = useState(\n    state || {}\n  );\n  const { headers, loggedUser } = useAuth();\n  const { username } = useParams();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (state && state.bio === bio) return;\n\n    getProfile({ headers, username })\n      .then(setAuthor)\n      .catch((error) => {\n        console.error(error);\n        navigate(\"/not-found\", { replace: true });\n      });\n  }, [username, headers, state, navigate]);\n\n  const followHandler = ({ followersCount, following }) => {\n    setAuthor((prev) => ({ ...prev, followersCount, following }));\n  };\n\n  return (\n    <div className=\"col-xs-12 col-md-10 offset-md-1\">\n      <Avatar alt={username} className=\"user-img\" src={image} />\n      <h4>{username}</h4>\n\n      {bio && <Markdown options={{ forceBlock: true }}>{bio}</Markdown>}\n\n      {username === loggedUser.username ? (\n        <Link\n          className=\"btn btn-sm btn-outline-secondary action-btn\"\n          to=\"/settings\"\n        >\n          <i className=\"ion-gear-a\"></i> Edit Profile Settings\n        </Link>\n      ) : (\n        <FollowButton\n          followersCount={followersCount}\n          following={following}\n          handler={followHandler}\n          username={username}\n        />\n      )}\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\AuthorInfo\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./AuthorInfo\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\AuthPageContainer\\AuthPageContainer.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 25, "language": "jsx", "text": "\nfunction AuthPageContainer({ children, error, path, text, title }) {\n  return (\n    <div className=\"auth-page\">\n      <ContainerRow type=\"page\">\n        <div className=\"col-md-6 offset-md-3 col-xs-12\">\n          <h1 className=\"text-xs-center\">{title}</h1>\n          <p className=\"text-xs-center\">\n            <Link to={path}>{text}</Link>\n          </p>\n\n          {error && (\n            <ul className=\"error-messages\">\n              <li>{error}</li>\n            </ul>\n          )}\n\n          {children}\n        </div>\n      </ContainerRow>\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\AuthPageContainer\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./AuthPageContainer\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\Avatar\\Avatar.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 11, "language": "jsx", "text": "\nfunction Avatar({ alt, className, src }) {\n  return (\n    <img\n      alt={alt || \"placeholder\"}\n      className={className || \"\"}\n      src={src || avatar}\n    />\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\Avatar\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./Avatar\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\BannerContainer\\BannerContainer.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 9, "language": "jsx", "text": "function BannerContainer({ children }) {\n  return (\n    <div className=\"banner\">\n      <div className=\"container\">\n        {children}\n      </div>\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\BannerContainer\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./BannerContainer\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\CommentEditor\\CommentEditor.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 51, "language": "jsx", "text": "\nfunction CommentEditor({ updateComments }) {\n  const [{ body }, setForm] = useState({ body: \"\" });\n  const { headers, isAuth, loggedUser } = useAuth();\n  const { username, image } = loggedUser || {};\n  const { slug } = useParams();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    if (body.trim() === \"\") return;\n\n    postComment({ body, headers, slug })\n      .then(updateComments)\n      .then(setForm({ body: \"\" }))\n      .catch(console.error);\n  };\n\n  const handleChange = (e) => {\n    setForm({ body: e.target.value });\n  };\n\n  return isAuth ? (\n    <form className=\"card comment-form\" onSubmit={handleSubmit}>\n      <div className=\"card-block\">\n        <textarea\n          className=\"form-control\"\n          onChange={handleChange}\n          placeholder=\"Write a comment...\"\n          rows=\"3\"\n          value={body}\n        ></textarea>\n      </div>\n\n      <div className=\"card-footer\">\n        <Avatar alt={username} className=\"comment-author-img\" src={image} />\n        <button className=\"btn btn-sm btn-primary\">Post Comment</button>\n      </div>\n    </form>\n  ) : (\n    <span>\n      <Link to=\"/login\">Sign in</Link> or <Link to=\"/register\">Sign up</Link> to\n      add comments on this article.\n    </span>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\CommentEditor\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./CommentEditor\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\CommentList\\CommentAuthor.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 23, "language": "jsx", "text": "\nfunction CommentAuthor({ bio, followersCount, following, image, username }) {\n  return (\n    <>\n      <Link\n        className=\"comment-author\"\n        state={{ bio, followersCount, following, image }}\n        to={`/profile/${username}`}\n      >\n        <Avatar alt={username} className=\"comment-author-img\" src={image} />\n      </Link>{\" \"}\n      <Link\n        className=\"comment-author\"\n        state={{ bio, followersCount, following, image }}\n        to={`/profile/${username}`}\n      >\n        {username}\n      </Link>\n    </>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\CommentList\\CommentList.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 54, "language": "jsx", "text": "\nfunction CommentList({ triggerUpdate, updateComments }) {\n  const [comments, setComments] = useState([]);\n  const { headers, isAuth, loggedUser } = useAuth();\n  const { slug } = useParams();\n\n  useEffect(() => {\n    getComments({ slug }).then(setComments).catch(console.error);\n  }, [slug, triggerUpdate]);\n\n  const handleClick = (commentId) => {\n    if (!isAuth) alert(\"You need to login first\");\n\n    const confirmation = window.confirm(\"Want to delete the comment?\");\n    if (!confirmation) return;\n\n    deleteComment({ commentId, headers, slug })\n      .then(updateComments)\n      .catch(console.error);\n  };\n\n  return comments?.length > 0 ? (\n    comments.map(({ author, author: { username }, body, createdAt, id }) => {\n      return (\n        <div className=\"card\" key={id}>\n          <div className=\"card-block\">\n            <p className=\"card-text\">{body}</p>\n          </div>\n          <div className=\"card-footer\">\n            <CommentAuthor {...author} />\n            <span className=\"date-posted\">{dateFormatter(createdAt)}</span>\n            {isAuth && loggedUser.username === username && (\n              <button\n                className=\"btn btn-sm btn-outline-secondary pull-xs-right\"\n                onClick={() => handleClick(id)}\n              >\n                <i className=\"ion-trash-a\"></i>\n              </button>\n            )}\n          </div>\n        </div>\n      );\n    })\n  ) : (\n    <div>There are no comments yet...</div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\CommentList\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./CommentList\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ContainerRow\\ContainerRow.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 9, "language": "jsx", "text": "function ContainerRow({ children, type }) {\n  return (\n    <div className={`container ${type || \"\"}`}>\n      <div className=\"row\">\n        {children}\n      </div>\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\ContainerRow\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./ContainerRow\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\FavButton\\FavButton.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 34, "language": "jsx", "text": "\nfunction FavButton({ favorited, favoritesCount, handler, right, slug, text }) {\n  const [loading, setLoading] = useState(false);\n  const { headers, isAuth } = useAuth();\n\n  const buttonPosition = right ? \"pull-xs-right\" : \"\";\n  const buttonStyle = favorited ? \"active\" : \"\";\n  const buttonText = text ? \"Favorite\" : !isAuth ? \"\" : \"\";\n\n  const handleClick = () => {\n    if (!isAuth) return alert(\"You need to login first\");\n\n    setLoading(true);\n\n    toggleFav({ slug, favorited, headers })\n      .then(handler)\n      .catch(console.error)\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <button\n      className={`btn btn-sm btn-outline-primary ${buttonPosition} ${buttonStyle}`}\n      disabled={loading}\n      onClick={handleClick}\n    >\n      <i className=\"ion-heart\"></i> {buttonText}\n      <span className=\"counter\"> ( {favoritesCount} )</span>\n    </button>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\FavButton\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./FavButton\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\FeedToggler\\FeedNavLink.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 20, "language": "jsx", "text": "\nfunction FeedNavLink({ icon, name, text }) {\n  const { tabName, changeTab } = useFeedContext();\n\n  const handleClick = (e) => {\n    changeTab(e, name);\n  };\n\n  return (\n    <li className=\"nav-item\">\n      <button\n        className={`nav-link ${tabName === name ? \"active\" : \"\"}`}\n        onClick={handleClick}\n      >\n        {icon && <i className=\"ion-pound\"></i>} {text}\n      </button>\n    </li>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\FeedToggler\\FeedToggler.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 20, "language": "jsx", "text": "\nfunction FeedToggler() {\n  const { isAuth } = useAuth();\n  const { tabName, tagName } = useFeedContext();\n\n  return (\n    <div className=\"feed-toggle\">\n      <ul className=\"nav nav-pills outline-active\">\n        {isAuth && <FeedNavLink name=\"feed\" text=\"Your Feed\" />}\n\n        <FeedNavLink name=\"global\" text=\"Global Feed\" />\n\n        {tabName === \"tag\" && <FeedNavLink icon name=\"tag\" text={tagName} />}\n      </ul>\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\FeedToggler\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./FeedToggler\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\FollowButton\\FollowButton.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 37, "language": "jsx", "text": "\nfunction FollowButton({ followersCount, following, handler, username }) {\n  const [loading, setLoading] = useState(false);\n  const { headers, isAuth } = useAuth();\n\n  const buttonStyle = following ? \"btn-secondary\" : \"\";\n  const iconStyle = following ? \"ion-minus-round\" : \"ion-plus-round\";\n  const text = !isAuth ? \"Followers\" : following ? \" Unfollow \" : \" Follow \";\n\n  const handleClick = () => {\n    if (!isAuth) return alert(\"You need to login first\");\n\n    setLoading(true);\n\n    toggleFollow({ following, headers, username })\n      .then(handler)\n      .catch(console.error)\n      .finally(() => setLoading(false));\n  };\n\n  return (\n    <>\n      <button\n        className={`btn btn-sm action-btn ${buttonStyle}`}\n        disabled={loading}\n        onClick={handleClick}\n        style={{ color: \"#777\" }}\n      >\n        {isAuth && <i className={iconStyle}></i>} {text} {isAuth && username}\n        <span className=\"counter\"> ( {followersCount} )</span>\n      </button>{\" \"}\n    </>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\FollowButton\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./FollowButton\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\Footer\\Footer.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 19, "language": "jsx", "text": "\nfunction Footer() {\n  return (\n    <div className=\"container\">\n      <Link to=\"/\" className=\"logo-font\">\n        conduit\n      </Link>\n      <span className=\"attribution\">\n        An interactive learning project from{\" \"}\n        <a href=\"https://thinkster.io\">Thinkster</a>. Code &amp; design licensed\n        under MIT.\n      </span>\n\n      <SourceCodeLink right />\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\Footer\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./Footer\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\FormFieldset\\FormFieldset.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 29, "language": "jsx", "text": "function FormFieldset({\n  autoFocus,\n  children,\n  handler,\n  minLength,\n  name,\n  normal,\n  placeholder,\n  required,\n  type,\n  value,\n}) {\n  return (\n    <fieldset className=\"form-group\">\n      <input\n        autoFocus={autoFocus}\n        className={`form-control ${normal ? \"\" : \"form-control-lg\"}`}\n        minLength={minLength}\n        name={name}\n        onChange={handler}\n        placeholder={placeholder}\n        required={required}\n        type={type}\n        value={value}\n      />\n      {children}\n    </fieldset>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\FormFieldset\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./FormFieldset\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\LoginForm\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./LoginForm\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\LoginForm\\LoginForm.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 52, "language": "jsx", "text": "\nfunction LoginForm({ onError }) {\n  const [{ email, password }, setForm] = useState({ email: \"\", password: \"\" });\n  const { setAuthState } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    userLogin({ email, password })\n      .then(setAuthState)\n      .then(() => navigate(\"/\"))\n      .catch(onError);\n  };\n\n  const inputHandler = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    setForm((form) => ({ ...form, [name]: value }));\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <FormFieldset\n        type=\"email\"\n        name=\"email\"\n        required\n        placeholder=\"Email\"\n        value={email}\n        handler={inputHandler}\n        autoFocus\n      ></FormFieldset>\n\n      <FormFieldset\n        name=\"password\"\n        type=\"password\"\n        required\n        placeholder=\"Password\"\n        value={password}\n        handler={inputHandler}\n        minLength=\"5\"\n      ></FormFieldset>\n      <button className=\"btn btn-lg btn-primary pull-xs-right\">Login</button>\n    </form>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\Navbar\\DropdownItem.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 14, "language": "jsx", "text": "\nfunction DropdownItem({ handler, icon, text, url, state }) {\n  return (\n    <Link\n      className=\"dropdown-item\"\n      onClick={handler}\n      to={url || \"#\"}\n      state={state}\n    >\n      {icon && <i className={icon}></i>} {text}\n    </Link>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\Navbar\\DropdownMenu.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 47, "language": "jsx", "text": "\nfunction DropdownMenu() {\n  const [dropdown, setDropdown] = useState(false);\n  const { loggedUser, setAuthState } = useAuth();\n  const { username, image } = loggedUser || {};\n\n  const logout = () => {\n    setAuthState(userLogout);\n  };\n\n  const handleClick = () => {\n    setDropdown((prev) => !prev);\n  };\n\n  return (\n    <li className=\"nav-item dropdown\">\n      <div\n        className=\"nav-link dropdown-toggle cursor-pointer\"\n        onClick={handleClick}\n      >\n        <Avatar alt={username} className=\"user-pic\" src={image} />\n        {username}\n      </div>\n\n      <div\n        className=\"dropdown-menu\"\n        style={{ display: dropdown ? \"block\" : \"none\" }}\n        onMouseLeave={handleClick}\n      >\n        <DropdownItem\n          icon=\"ion-person\"\n          text=\"Profile\"\n          url={`/profile/${username}`}\n          state={loggedUser}\n        />\n        <DropdownItem icon=\"ion-gear-a\" text=\"Settings\" url=\"/settings\" />\n        <div className=\"dropdown-divider\"></div>\n        <DropdownItem icon=\"ion-log-out\" text=\"Logout\" handler={logout} />\n      </div>\n    </li>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\Navbar\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./Navbar\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\Navbar\\Navbar.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 39, "language": "jsx", "text": "\nfunction Navbar() {\n  const { isAuth } = useAuth();\n\n  return (\n    <nav className=\"navbar navbar-light\">\n      <div className=\"container\">\n        <Link className=\"navbar-brand\" to=\"/\">\n          conduit\n        </Link>\n\n        <SourceCodeLink left />\n\n        <ul className=\"nav navbar-nav pull-xs-right\">\n          <NavItem text=\"Home\" icon=\"ion-compose\" url=\"/\" />\n\n          {isAuth && (\n            <>\n              <NavItem text=\"New Article\" icon=\"ion-compose\" url=\"/editor\" />\n              <DropdownMenu />\n            </>\n          )}\n\n          {!isAuth && (\n            <>\n              <NavItem text=\"Login\" icon=\"ion-log-in\" url=\"/login\" />\n              <NavItem text=\"Sign up\" url=\"/register\" />\n            </>\n          )}\n        </ul>\n      </div>\n    </nav>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\NavItem\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./NavItem\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\NavItem\\NavItem.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 13, "language": "jsx", "text": "\nfunction NavItem({ icon, text, url, state }) {\n  const activeClass = ({ isActive }) => `nav-link ${isActive ? \"active\" : \"\"}`;\n\n  return (\n    <li className=\"nav-item\">\n      <NavLink className={activeClass} end state={state} to={url}>\n        {icon && <i className={icon}></i>} {text}\n      </NavLink>\n    </li>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\PopularTags\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./PopularTags\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\PopularTags\\PopularTags.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 34, "language": "jsx", "text": "\nfunction PopularTags() {\n  const [tags, setTags] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    setLoading(true);\n\n    getTags()\n      .then(setTags)\n      .catch(console.error)\n      .finally(() => setLoading(false));\n  }, []);\n\n  return (\n    <aside className=\"col-md-3\">\n      <div className=\"sidebar\">\n        <h6>Popular Tags</h6>\n        <div className=\"tag-list\">\n          {tags.length > 0 ? (\n            <TagButton tagsList={tags} />\n          ) : loading ? (\n            <p>Loading tags...</p>\n          ) : (\n            <p>Tags list not available</p>\n          )}\n        </div>\n      </div>\n    </aside>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\PopularTags\\TagButton.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 15, "language": "jsx", "text": "\nfunction TagButton({ tagsList }) {\n  const { changeTab } = useFeedContext();\n\n  const handleClick = (e) => {\n    changeTab(e, \"tag\");\n  };\n\n  return tagsList.slice(0, 50).map((name) => (\n    <button className=\"tag-pill tag-default\" key={name} onClick={handleClick}>\n      {name}\n    </button>\n  ));\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\SettingsForm\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./SettingsForm\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\SettingsForm\\SettingsForm.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 21, "end_line": 21, "language": "jsx", "text": "    if (!isAuth) navigate(\"/\");"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\SettingsForm\\SettingsForm.jsx", "chunk_id": 0, "subchunk_id": 1, "start_line": 35, "end_line": 35, "language": "jsx", "text": "    if (inactive) return;"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\SignUpForm\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./SignUpForm\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\SignUpForm\\SignUpForm.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 6, "end_line": 62, "language": "jsx", "text": "\nfunction SignUpForm({ onError }) {\n  const [{ username, email, password }, setForm] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n  });\n  const { setAuthState } = useAuth();\n  const navigate = useNavigate();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    userSignUp({ username, email, password })\n      .then(setAuthState)\n      .then(() => navigate(\"/\"))\n      .catch(onError);\n  };\n\n  const inputHandler = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n\n    setForm((form) => ({ ...form, [name]: value }));\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <FormFieldset\n        name=\"username\"\n        required\n        placeholder=\"Your Name\"\n        value={username}\n        handler={inputHandler}\n      ></FormFieldset>\n\n      <FormFieldset\n        name=\"email\"\n        type=\"email\"\n        required\n        placeholder=\"Email\"\n        value={email}\n        handler={inputHandler}\n      ></FormFieldset>\n\n      <FormFieldset\n        name=\"password\"\n        type=\"password\"\n        required\n        placeholder=\"Password\"\n        value={password}\n        handler={inputHandler}\n      ></FormFieldset>\n      <button className=\"btn btn-lg btn-primary pull-xs-right\">Sign up</button>\n    </form>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\SourceCodeLink\\index.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 1, "language": "js", "text": "export { default } from \"./SourceCodeLink\";"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\components\\SourceCodeLink\\SourceCodeLink.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 16, "language": "jsx", "text": "function SourceCodeLink({ left, right }) {\n  const position = left ? \"left\" : right ? \"right\" : \"\";\n\n  return (\n    <ul className={`nav navbar-nav pull-xs-${position}`}>\n      <li className=\"nav-item\">\n        <a\n          className=\"nav-link\"\n          href=\"https://github.com/TonyMckes/conduit-realworld-example-app\"\n        >\n          <i className=\"ion-social-github\"></i> Source code\n        </a>\n      </li>\n    </ul>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\context\\AuthContext.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 8, "language": "jsx", "text": "\nexport function useAuth() {\n  return useContext(AuthContext);\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\context\\AuthContext.jsx", "chunk_id": 1, "subchunk_id": 0, "start_line": 23, "end_line": 42, "language": "jsx", "text": "\nfunction AuthProvider({ children }) {\n  const [{ headers, isAuth, loggedUser }, setAuthState] = useState(\n    loggedIn || authState,\n  );\n\n  useEffect(() => {\n    if (!headers) return;\n\n    getUser({ headers })\n      .then((loggedUser) => setAuthState((prev) => ({ ...prev, loggedUser })))\n      .catch(console.error);\n  }, [headers, setAuthState]);\n\n  return (\n    <AuthContext.Provider value={{ headers, isAuth, loggedUser, setAuthState }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\context\\FeedContext.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 8, "language": "jsx", "text": "\nexport function useFeedContext() {\n  return useContext(FeedContext);\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\context\\FeedContext.jsx", "chunk_id": 1, "subchunk_id": 0, "start_line": 9, "end_line": 32, "language": "jsx", "text": "\nfunction FeedProvider({ children }) {\n  const { isAuth } = useAuth();\n  const [{ tabName, tagName }, setTab] = useState({\n    tabName: isAuth ? \"feed\" : \"global\",\n    tagName: \"\",\n  });\n\n  useEffect(() => {\n    setTab((tab) => ({ ...tab, tabName: isAuth ? \"feed\" : \"global\" }));\n  }, [isAuth]);\n\n  const changeTab = async (e, tabName) => {\n    const tagName = e.target.innerText.trim();\n\n    setTab({ tabName, tagName });\n  };\n\n  return (\n    <FeedContext.Provider value={{ changeTab, tabName, tagName }}>\n      {children}\n    </FeedContext.Provider>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\helpers\\dateFormatter.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 7, "language": "js", "text": "export default function dateFormatter(date) {\n  return new Date(date).toLocaleDateString(\"en\", {\n    month: \"long\",\n    day: \"numeric\",\n    year: \"numeric\",\n  });\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\helpers\\dateFormatter.test.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 7, "language": "js", "text": "\nit(\"should format an ISO string\", () => {\n  const ISOString = \"2020-01-01T12:11:08.212Z\";\n\n  expect(dateFormatter(ISOString)).toBe(\"January 1, 2020\");\n});"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\helpers\\errorHandler.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 12, "language": "js", "text": "function errorHandler(error) {\n  if (!error.response) return console.log(error);\n\n  const { status, data } = error.response;\n\n  if ([401, 403, 404, 422, 500].includes(status)) {\n    console.log(error.response, data.errors.body[0]);\n    throw data.errors.body[0];\n  }\n\n  console.dir(error);\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\helpers\\errorHandler.test.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 13, "language": "js", "text": "\ndescribe(\"Catching errors\", () => {\n  const errors = [401, 403, 404, 422, 500];\n\n  test.each(errors)(\"Status %p should throw an error\", (statusCode) => {\n    const resError = {\n      response: new Response(null, { status: statusCode }),\n    };\n\n    expect(() => errorHandler(resError)).toThrow();\n  });\n});"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\hooks\\useArticles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 25, "language": "js", "text": "\nfunction useArticles({ location, tabName, tagName, username }) {\n  const [{ articles, articlesCount }, setArticlesData] = useState({\n    articles: [],\n    articlesCount: 0,\n  });\n  const [loading, setLoading] = useState(true);\n  const { headers } = useAuth();\n\n  useEffect(() => {\n    if (!headers && tabName === \"feed\") return;\n\n    setLoading(true);\n\n    getArticles({ headers, location, tabName, tagName, username })\n      .then(setArticlesData)\n      .catch(console.error)\n      .finally(() => setLoading(false));\n  }, [headers, location, tabName, tagName, username]);\n\n  return { articles, articlesCount, loading, setArticlesData };\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\routes\\ArticleEditor.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 14, "language": "jsx", "text": "\nfunction ArticleEditor() {\n  return (\n    <div className=\"editor-page\">\n      <ContainerRow type=\"page\">\n        <div className=\"col-md-10 offset-md-1 col-xs-12\">\n          <ArticleEditorForm />\n        </div>\n      </ContainerRow>\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\routes\\Home.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 8, "end_line": 32, "language": "jsx", "text": "\nfunction Home() {\n  const { isAuth } = useAuth();\n\n  return (\n    <div className=\"home-page\">\n      {!isAuth && (\n        <BannerContainer>\n          <h1 className=\"logo-font\">conduit</h1>\n          <p>A place to share your knowledge.</p>\n        </BannerContainer>\n      )}\n      <ContainerRow type=\"page\">\n        <FeedProvider>\n          <div className=\"col-md-9\">\n            <FeedToggler />\n            <Outlet />\n          </div>\n\n          <PopularTags />\n        </FeedProvider>\n      </ContainerRow>\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\routes\\HomeArticles.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 37, "language": "jsx", "text": "\nfunction HomeArticles() {\n  const { tabName, tagName } = useFeedContext();\n\n  const { articles, articlesCount, loading, setArticlesData } = useArticleList({\n    location: tabName,\n    tabName,\n    tagName,\n  });\n\n  return loading ? (\n    <div className=\"article-preview\">\n      <em>Loading articles list...</em>\n    </div>\n  ) : articles.length > 0 ? (\n    <>\n      <ArticlesPreview\n        articles={articles}\n        loading={loading}\n        updateArticles={setArticlesData}\n      />\n\n      <ArticlesPagination\n        articlesCount={articlesCount}\n        location={tabName}\n        tagName={tagName}\n        updateArticles={setArticlesData}\n      />\n    </>\n  ) : (\n    <div className=\"article-preview\">Articles not available.</div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\routes\\Login.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 22, "language": "jsx", "text": "\nfunction Login() {\n  const [errorMessage, setErrorMessage] = useState();\n\n  const handleError = (error) => {\n    setErrorMessage(error);\n  };\n\n  return (\n    <AuthPageContainer\n      error={errorMessage}\n      path=\"/register\"\n      text=\"Need an account?\"\n      title=\"Sign in\"\n    >\n      <LoginForm onError={handleError} />\n    </AuthPageContainer>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\routes\\NotFound.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 2, "end_line": 10, "language": "jsx", "text": "\nfunction NotFound() {\n  return (\n    <div className=\"not-found\">\n      <h1>404 Not Found</h1>\n      <Link to=\"/\">Go to home page</Link>\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\routes\\Settings.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 15, "language": "jsx", "text": "\nfunction Settings() {\n  return (\n    <div className=\"settings-page\">\n      <ContainerRow type=\"page\">\n        <div className=\"col-md-6 offset-md-3 col-xs-12\">\n          <h1 className=\"text-xs-center\">Your Settings</h1>\n          <SettingsForm />\n        </div>\n      </ContainerRow>\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\routes\\SignUp.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 22, "language": "jsx", "text": "\nfunction SignUp() {\n  const [errorMessage, setErrorMessage] = useState();\n\n  const handleError = (error) => {\n    setErrorMessage(error);\n  };\n\n  return (\n    <AuthPageContainer\n      error={errorMessage}\n      path=\"/login\"\n      text=\"Sign in to your account\"\n      title=\"Sign up\"\n    >\n      <SignUpForm onError={handleError} />\n    </AuthPageContainer>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\routes\\Article\\Article.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 10, "end_line": 59, "language": "jsx", "text": "\nfunction Article() {\n  const { state } = useLocation();\n  const [article, setArticle] = useState(state || {});\n  const { title, body, tagList, createdAt, author } = article || {};\n  const { headers, isAuth } = useAuth();\n  const navigate = useNavigate();\n  const { slug } = useParams();\n\n  useEffect(() => {\n    if (state) return;\n\n    getArticle({ slug, headers })\n      .then(setArticle)\n      .catch((error) => {\n        console.error(error);\n        navigate(\"/not-found\", { replace: true });\n      });\n  }, [isAuth, slug, headers, state, navigate]);\n\n  return (\n    <div className=\"article-page\">\n      <BannerContainer>\n        <h1>{title}</h1>\n        <ArticleMeta author={author} createdAt={createdAt}>\n          <ArticlesButtons article={article} setArticle={setArticle} />\n        </ArticleMeta>\n      </BannerContainer>\n\n      <div className=\"container page\">\n        <div className=\"row article-content\">\n          <div className=\"col-md-12\">\n            {body && <Markdown options={{ forceBlock: true }}>{body}</Markdown>}\n            <ArticleTags tagList={tagList} />\n          </div>\n        </div>\n\n        <hr />\n\n        <div className=\"article-actions\">\n          <ArticleMeta author={author} createdAt={createdAt}>\n            <ArticlesButtons article={article} setArticle={setArticle} />\n          </ArticleMeta>\n        </div>\n\n        <Outlet />\n      </div>\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\routes\\Article\\CommentsSection.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 4, "end_line": 20, "language": "jsx", "text": "\nfunction CommentsSection() {\n  const [comment, setComment] = useState({});\n\n  const handleUpdates = (e) => {\n    setComment(e);\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col-xs-12 col-md-8 offset-md-2\">\n        <CommentEditor updateComments={handleUpdates} />\n        <CommentList triggerUpdate={comment} updateComments={handleUpdates} />\n      </div>\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\routes\\Profile\\Profile.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 30, "language": "jsx", "text": "\nfunction Profile() {\n  const { state } = useLocation();\n\n  return (\n    <div className=\"profile-page\">\n      <div className=\"user-info\">\n        <ContainerRow>\n          <AuthorInfo />\n        </ContainerRow>\n      </div>\n\n      <ContainerRow>\n        <div className=\"col-xs-12 col-md-10 offset-md-1\">\n          <div className=\"articles-toggle\">\n            <ul className=\"nav nav-pills outline-active\">\n              <NavItem text=\"My Articles\" url=\"\" state={state} />\n              <NavItem text=\"Favorited Articles\" url=\"favorites\" state={state} />\n            </ul>\n          </div>\n          <Outlet />\n        </div>\n      </ContainerRow>\n    </div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\routes\\Profile\\ProfileArticles.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 36, "language": "jsx", "text": "\nfunction ProfileArticles() {\n  const { username } = useParams();\n\n  const { articles, articlesCount, loading, setArticlesData } = useArticleList({\n    location: \"profile\",\n    username,\n  });\n\n  return loading ? (\n    <div className=\"article-preview\">\n      <em>Loading {username} articles...</em>\n    </div>\n  ) : articles.length > 0 ? (\n    <>\n      <ArticlesPreview\n        articles={articles}\n        loading={loading}\n        updateArticles={setArticlesData}\n      />\n\n      <ArticlesPagination\n        articlesCount={articlesCount}\n        location=\"profile\"\n        updateArticles={setArticlesData}\n        username={username}\n      />\n    </>\n  ) : (\n    <div className=\"article-preview\">{username} doesn't have articles.</div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\routes\\Profile\\ProfileFavArticles.jsx", "chunk_id": 0, "subchunk_id": 0, "start_line": 5, "end_line": 36, "language": "jsx", "text": "\nfunction ProfileFavArticles() {\n  const { username } = useParams();\n\n  const { articles, articlesCount, loading, setArticlesData } = useArticleList({\n    location: \"favorites\",\n    username,\n  });\n\n  return loading ? (\n    <div className=\"article-preview\">\n      <em>Loading {username} favorites articles...</em>\n    </div>\n  ) : articles.length > 0 ? (\n    <>\n      <ArticlesPreview\n        articles={articles}\n        loading={loading}\n        updateArticles={setArticlesData}\n      />\n\n      <ArticlesPagination\n        articlesCount={articlesCount}\n        location=\"favorites\"\n        updateArticles={setArticlesData}\n        username={username}\n      />\n    </>\n  ) : (\n    <div className=\"article-preview\">{username} doesn't have favorites.</div>\n  );\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\deleteArticle.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 16, "language": "js", "text": "\nasync function deleteArticle({ slug, headers }) {\n  try {\n    const { data } = await axios({\n      headers,\n      method: \"DELETE\",\n      url: `api/articles/${slug}/`,\n    });\n\n    return data;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\deleteComment.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 16, "language": "js", "text": "\nasync function deleteComment({ commentId, headers, slug }) {\n  try {\n    const { data } = await axios({\n      headers,\n      method: \"DELETE\",\n      url: `api/articles/${slug}/comments/${commentId}`,\n    });\n\n    return data;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\getArticle.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 12, "language": "js", "text": "\nasync function getArticle({ headers, slug }) {\n  try {\n    const { data } = await axios({ headers, url: `api/articles/${slug}` });\n\n    return data.article;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\getArticles.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 21, "language": "js", "text": "\n// prettier-ignore\nasync function getArticles({ headers, limit = 3, location, page = 0, tagName, username }) {\n  try {\n    const url = {\n      favorites: `api/articles?favorited=${username}&&limit=${limit}&&offset=${page}`,\n      feed: `api/articles/feed?limit=${limit}&&offset=${page}`,\n      global: `api/articles?limit=${limit}&&offset=${page}`,\n      profile: `api/articles?author=${username}&&limit=${limit}&&offset=${page}`,\n      tag: `api/articles?tag=${tagName}&&limit=${limit}&&offset=${page}`,\n    };\n\n    const { data } = await axios({ url: url[location], headers });\n\n    return data;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\getComments.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 12, "language": "js", "text": "\nasync function getComments({ slug }) {\n  try {\n    const { data } = await axios({ url: `api/articles/${slug}/comments` });\n\n    return data.comments;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\getProfile.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 12, "language": "js", "text": "\nasync function getProfile({ headers, username }) {\n  try {\n    const { data } = await axios({ headers, url: `api/profiles/${username}` });\n\n    return data.profile;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\getTags.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 12, "language": "js", "text": "\nasync function getTags() {\n  try {\n    const { data } = await axios({ url: \"/api/tags\" });\n\n    return data.tags;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\getUser.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 12, "language": "js", "text": "\nasync function getUser({ headers }) {\n  try {\n    const { data } = await axios({ headers, url: \"api/user\" });\n\n    return data.user;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\postComment.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 17, "language": "js", "text": "\nasync function postComment({ body, headers, slug }) {\n  try {\n    const { data } = await axios({\n      data: { comment: { body } },\n      headers,\n      method: \"POST\",\n      url: `api/articles/${slug}/comments`,\n    });\n\n    return data.comment;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\setArticle.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 17, "language": "js", "text": "\nasync function setArticle({ body, description, headers, slug, tagList, title }) {\n  try {\n    const { data } = await axios({\n      data: { article: { title, description, body, tagList } },\n      headers,\n      method: slug ? \"PUT\" : \"POST\",\n      url: slug ? `api/articles/${slug}` : \"api/articles\",\n    });\n\n    return data.article.slug;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\toggleFav.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 16, "language": "js", "text": "\nasync function toggleFav({ slug, favorited, headers }) {\n  try {\n    const { data } = await axios({\n      headers,\n      method: favorited ? \"DELETE\" : \"POST\",\n      url: `api/articles/${slug}/favorite`,\n    });\n\n    return data.article;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\toggleFollow.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 16, "language": "js", "text": "\nasync function toggleFollow({ following, headers, username }) {\n  try {\n    const { data } = await axios({\n      headers,\n      method: following ? \"DELETE\" : \"POST\",\n      url: `api/profiles/${username}/follow`,\n    });\n\n    return data.profile;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\userLogin.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 23, "language": "js", "text": "\nasync function userLogin({ email, password }) {\n  try {\n    const { data } = await axios({\n      data: { user: { email, password } },\n      method: \"POST\",\n      url: \"api/users/login\",\n    });\n\n    const { user } = data;\n    const headers = { Authorization: `Token ${user.token}` };\n\n    const loggedIn = { headers, isAuth: true, loggedUser: user };\n\n    localStorage.setItem(\"loggedUser\", JSON.stringify(loggedIn));\n\n    return loggedIn;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\userLogout.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 1, "end_line": 15, "language": "js", "text": "function userLogout() {\n  localStorage.removeItem(\"loggedUser\");\n\n  return {\n    headers: null,\n    isAuth: false,\n    loggedUser: {\n      bio: null,\n      email: \"\",\n      image: null,\n      token: \"\",\n      username: \"\",\n    },\n  };\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\userSignUp.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 23, "language": "js", "text": "\nasync function userSignUp({ username, email, password }) {\n  try {\n    const { data } = await axios({\n      data: { user: { username, email, password } },\n      method: \"POST\",\n      url: \"api/users\",\n    });\n\n    const { user } = data;\n    const headers = { Authorization: `Token ${user.token}` };\n\n    const loggedIn = { headers, isAuth: true, loggedUser: user };\n\n    localStorage.setItem(\"loggedUser\", JSON.stringify(loggedIn));\n\n    return loggedIn;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
{"repo_name": "conduit-realworld-example-app", "file_path": "conduit-realworld-example-app\\code\\frontend\\src\\services\\userUpdate.js", "chunk_id": 0, "subchunk_id": 0, "start_line": 3, "end_line": 23, "language": "js", "text": "\nasync function userUpdate({ headers, bio, email, image, password, username }) {\n  try {\n    const { data } = await axios({\n      data: { user: { bio, email, image, password, username } },\n      headers,\n      method: \"PUT\",\n      url: \"api/user\",\n    });\n\n    const { user } = data;\n\n    const loggedIn = { headers, isAuth: true, loggedUser: user };\n\n    localStorage.setItem(\"loggedUser\", JSON.stringify(loggedIn));\n\n    return loggedIn;\n  } catch (error) {\n    errorHandler(error);\n  }\n}"}
